{"version":3,"sources":["keditor-components.js"],"names":["$","KEditor","jQuery","keditor","flog","log","components","getContent","component","componentContent","children","find","unwrap","html","settingEnabled","settingTitle","initSettingForm","form","append","showSettingForm","options","audio","fileInput","off","on","e","preventDefault","trigger","file","this","files","test","type","attr","URL","createObjectURL","load","showSettingPanel","alert","checked","removeAttr","css","value","initFormBuilder","self","formBuilderArea","formData","formContent","prepend","btnEditForm","btnPreviewForm","formBuilder","disableInjectedStyle","showActionButtons","dataType","disableFields","disabledAttrs","typeUserDisabledAttrs","checkbox-group","hasClass","show","hide","addClass","removeClass","renderForm","data","formRender","actions","getData","each","div","dataGrid","split","wrap","label","input","subDiv","length","init","contentArea","container","remove","getSettingComponent","layout","val","iframe","wrapper","parent","initIframeCover","inputData","prompt","src","photoEdit","next","reader","FileReader","addEventListener","img","target","result","width","height","readAsDataURL","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","inputAlign","inputResponsive","cbbStyle","panel","algin","prop","CKEDITOR","disableAutoInline","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","id","instances","destroy","video","is","removeProp","currentWidth","replace","currentRatio","match","chkAutoplay","embedItem","currentUrl","newUrl","indexOf"],"mappings":"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","file":"keditor-components.min.js","sourcesContent":["(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['audio'] = {\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"audio\" component, component');\r\n            \r\n            var componentContent = component.children('.keditor-component-content');\r\n            var audio = componentContent.find('audio');\r\n            audio.unwrap();\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Audio Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"audio\" settings', form);\r\n            \r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <div class=\"audio-toolbar\">' +\r\n                '                 <a href=\"#\" class=\"btn-audioFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '                 <input id=\"audioFileInput\" type=\"file\" style=\"display: none\" />' +\r\n                '             </div>' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"checkbox\" id=\"audio-showcontrols\" checked />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '     <div class=\"form-group\">' +\r\n                '         <label for=\"audio-width\" class=\"col-sm-12\">Width (%)</label>' +\r\n                '         <div class=\"col-sm-12\">' +\r\n                '             <input type=\"number\" id=\"audio-width\" min=\"20\" max=\"100\" class=\"form-control\" value=\"100\" />' +\r\n                '         </div>' +\r\n                '     </div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"audio\" component', form, component);\r\n            \r\n            var options = keditor.options;\r\n            \r\n            var audio = component.find('audio');\r\n            var fileInput = form.find('#audioFileInput');\r\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\r\n            btnAudioFileInput.off('click').on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.off('change').on('change', function () {\r\n                var file = this.files[0];\r\n                if (/audio/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n                    \r\n                    audio.attr('src', URL.createObjectURL(file));\r\n                    \r\n                    audio.load(function () {\r\n                        keditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an audio file!');\r\n                }\r\n            });\r\n            \r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            autoplayToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    audio.attr('autoplay', 'autoplay');\r\n                } else {\r\n                    audio.removeAttr('autoplay');\r\n                }\r\n            });\r\n            \r\n            var showcontrolsToggle = form.find('#audio-showcontrols');\r\n            showcontrolsToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    audio.attr('controls', 'controls');\r\n                } else {\r\n                    audio.removeAttr('controls');\r\n                }\r\n            });\r\n            \r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.off('change').on('change', function () {\r\n                audio.css('width', this.value + '%');\r\n            });\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['form'] = {\r\n        initFormBuilder: function (component) {\r\n            var self = this;\r\n            \r\n            var formBuilderArea = component.find('.form-builder-area');\r\n            var formData = component.find('.form-data');\r\n            var formContent = component.find('.form-content');\r\n            \r\n            component.find('.keditor-component-content').prepend(\r\n                '<p class=\"form-builder-tools\" style=\"text-align: right;\">' +\r\n                '    <a href=\"#\" class=\"btn btn-primary btn-preview-form\">Preview form</a> ' +\r\n                '    <a href=\"#\" class=\"btn btn-info btn-edit-form disabled\">Edit form</a>' +\r\n                '</p>'\r\n            );\r\n            \r\n            var btnEditForm = component.find('.btn-edit-form');\r\n            var btnPreviewForm = component.find('.btn-preview-form');\r\n            \r\n            formBuilderArea.formBuilder({\r\n                disableInjectedStyle: true,\r\n                showActionButtons: false,\r\n                dataType: 'json',\r\n                formData: formData.html(),\r\n                disableFields: [\r\n                    'autocomplete',\r\n                    'paragraph',\r\n                    'header'\r\n                ],\r\n                disabledAttrs: ['access'],\r\n                \r\n                typeUserDisabledAttrs: {\r\n                    'checkbox-group': [\r\n                        'toggle',\r\n                        'inline'\r\n                    ]\r\n                }\r\n            });\r\n            \r\n            btnEditForm.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                if (!btnEditForm.hasClass('disabled')) {\r\n                    formBuilderArea.show();\r\n                    formContent.hide();\r\n                    btnEditForm.addClass('disabled');\r\n                    btnPreviewForm.removeClass('disabled');\r\n                }\r\n            });\r\n            \r\n            btnPreviewForm.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                if (!btnPreviewForm.hasClass('disabled')) {\r\n                    self.renderForm(component);\r\n                    \r\n                    formBuilderArea.hide();\r\n                    formContent.show();\r\n                    btnEditForm.removeClass('disabled');\r\n                    btnPreviewForm.addClass('disabled');\r\n                }\r\n            });\r\n        },\r\n        \r\n        renderForm: function (component, formBuilder) {\r\n            var formContent = component.find('.form-content');\r\n            \r\n            if (!formBuilder) {\r\n                var formBuilderArea = component.find('.form-builder-area');\r\n                formBuilder = formBuilderArea.data('formBuilder');\r\n            }\r\n            \r\n            formContent.formRender({\r\n                dataType: 'json',\r\n                formData: formBuilder.actions.getData('json')\r\n            });\r\n            \r\n            if (formContent.hasClass('form-horizontal')) {\r\n                formContent.children('div').each(function () {\r\n                    var div = $(this);\r\n                    var dataGrid = formContent.attr('data-grid') || '4-8';\r\n                    dataGrid = dataGrid.split('-');\r\n                    \r\n                    if (div.attr('class')) {\r\n                        if (div.hasClass('fb-button')) {\r\n                            div.find('button').wrap('<div class=\"col-sm-' + dataGrid[1] + ' col-sm-offset-' + dataGrid[0] + '\"></div>');\r\n                        } else {\r\n                            var label = div.children('label');\r\n                            var input = div.children('input, select, textarea');\r\n                            var subDiv = div.children('div');\r\n                            \r\n                            label.addClass('control-label col-sm-' + dataGrid[0]);\r\n                            \r\n                            if (subDiv.length > 0) {\r\n                                subDiv.addClass('col-sm-' + dataGrid[1]);\r\n                            } else {\r\n                                input.addClass('form-control').wrap('<div class=\"col-sm-' + dataGrid[1] + '\"></div>');\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        \r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"form\" component', component);\r\n            \r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formBuilder = component.find('.form-builder-area');\r\n            var formContent = component.find('.form-content');\r\n            var formData = component.find('.form-data');\r\n            \r\n            if (formData.length === 0) {\r\n                componentContent.append('<div class=\"form-data\" style=\"display: none !important;\"></div>')\r\n            }\r\n            \r\n            if (formContent.length === 0) {\r\n                componentContent.append('<form class=\"form-content\" style=\"display: none !important;\"></form>')\r\n            } else {\r\n                formContent.hide()\r\n            }\r\n            \r\n            if (formBuilder.length === 0) {\r\n                formBuilder = $('<div class=\"form-builder-area clearfix\"></div>');\r\n                componentContent.append(formBuilder);\r\n            }\r\n            \r\n            this.initFormBuilder(component);\r\n        },\r\n        \r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"form\" component', component);\r\n            \r\n            var self = this;\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var formData = component.find('.form-data');\r\n            var formBuilderArea = $('#' + component.attr('id')).find('.form-builder-area');\r\n            var formBuilder = formBuilderArea.data('formBuilder');\r\n            \r\n            self.renderForm(component, formBuilder);\r\n            formData.html(formBuilder.actions.getData('json'));\r\n            component.find('.form-builder-area, .form-builder-tools').remove();\r\n            component.find('.form-content').show();\r\n            \r\n            return componentContent.html();\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Form Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"form\" component');\r\n            \r\n            var self = this;\r\n            \r\n            form.html(\r\n                '<div class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Action</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"text\" class=\"form-control txt-form-action\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Method</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-method\">' +\r\n                '                <option value=\"get\">Get</option>' +\r\n                '                <option value=\"post\">Post</option>' +\r\n                '                <option value=\"put\">Put</option>' +\r\n                '                <option value=\"delete\">Delete</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Enctype</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-enctype\">' +\r\n                '                <option value=\"text/plain\">text/plain</option>' +\r\n                '                <option value=\"multipart/form-data\">multipart/form-data</option>' +\r\n                '                <option value=\"application/x-www-form-urlencoded\">application/x-www-form-urlencoded</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label class=\"col-sm-12\">Layout</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-layout\">' +\r\n                '                <option value=\"\">Normal</option>' +\r\n                '                <option value=\"form-horizontal\">Horizontal</option>' +\r\n                '                <option value=\"form-inline\">Inline</option>' +\r\n                '            </select>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group select-grid-wrapper\">' +\r\n                '        <label class=\"col-sm-12\">Grid setting</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <select class=\"form-control select-grid\">' +\r\n                '                <option value=\"2-10\">col-2 col-10</option>' +\r\n                '                <option value=\"3-9\">col-3 col-9</option>' +\r\n                '                <option value=\"4-8\">col-4 col-8</option>' +\r\n                '                <option value=\"5-7\">col-5 col-7</option>' +\r\n                '                <option value=\"6-6\">col-6 col-6</option>' +\r\n                '            </select>' +\r\n                '            <small class=\"help-block\">This setting is for width of label and control with number of cols as unit</small>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</div>'\r\n            );\r\n            \r\n            \r\n            form.find('.txt-form-action').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('action', this.value);\r\n            });\r\n            \r\n            form.find('.select-method').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('action', this.value);\r\n            });\r\n            \r\n            form.find('.select-enctype').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('enctype', this.value);\r\n            });\r\n            \r\n            form.find('.select-layout').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.removeClass('form-inline form-horizontal');\r\n                if (this.value) {\r\n                    formContent.addClass(this.value);\r\n                }\r\n                self.renderForm(component);\r\n                form.find('.select-grid-wrapper').css('display', this.value === 'form-horizontal' ? 'block' : 'none');\r\n            });\r\n            \r\n            form.find('.select-grid').on('change', function () {\r\n                var component = keditor.getSettingComponent();\r\n                var formContent = component.find('.form-content');\r\n                \r\n                formContent.attr('data-grid', this.value);\r\n                self.renderForm(component);\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"form\" component', component);\r\n            var formContent = component.find('.form-content');\r\n            \r\n            var layout = '';\r\n            if (formContent.hasClass('form-inline')) {\r\n                layout = 'form-inline';\r\n            } else if (formContent.hasClass('form-horizontal')) {\r\n                layout = 'form-horizontal';\r\n            }\r\n            \r\n            form.find('.txt-form-action').val(formContent.attr('action') || '');\r\n            form.find('.select-method').val(formContent.attr('method') || 'get');\r\n            form.find('.select-enctype').val(formContent.attr('enctype'));\r\n            form.find('.select-layout').val(layout);\r\n            form.find('.select-grid-wrapper').css('display', layout === 'form-horizontal' ? 'block' : 'none');\r\n            form.find('.select-grid').val(formContent.attr('data-grid') || '4-8');\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['googlemap'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"googlemap\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Google Map Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"googlemap\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-googlemap-edit\">Update Map</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-googlemap-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Google Map embed code in here:');\r\n                var iframe = $(inputData);\r\n                var src = iframe.attr('src');\r\n                if (iframe.length > 0 && src && src.length > 0) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', src);\r\n                } else {\r\n                    alert('Your Google Map embed code is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-googlemap-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-googlemap-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n    \r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"photo\" component', component);\r\n            \r\n            var componentContent = component.children('.keditor-component-content');\r\n            var img = componentContent.find('img');\r\n            \r\n            img.css('display', 'inline-block');\r\n        },\r\n        \r\n        settingEnabled: true,\r\n        \r\n        settingTitle: 'Photo Settings',\r\n        \r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"photo\" component');\r\n            \r\n            var self = this;\r\n            var options = keditor.options;\r\n            \r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '           <input type=\"file\" style=\"display: none\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-style\" class=\"form-control\">' +\r\n                '               <option value=\"\">None</option>' +\r\n                '               <option value=\"img-rounded\">Rounded</option>' +\r\n                '               <option value=\"img-circle\">Circle</option>' +\r\n                '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n            \r\n            var photoEdit = form.find('#photo-edit');\r\n            var fileInput = photoEdit.next();\r\n            photoEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/image/.test(file.type)) {\r\n                    var reader = new FileReader();\r\n                    \r\n                    reader.addEventListener('load', function (e) {\r\n                        var img = keditor.getSettingComponent().find('img');\r\n                        img.attr('src', e.target.result);\r\n                        img.css({\r\n                            width: '',\r\n                            height: ''\r\n                        });\r\n                        img.load(function () {\r\n                            keditor.showSettingPanel(keditor.getSettingComponent(), options);\r\n                        });\r\n                    });\r\n                    \r\n                    reader.readAsDataURL(this.files[0]);\r\n                } else {\r\n                    alert('Your selected file is not photo!');\r\n                }\r\n            });\r\n            \r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = keditor.getSettingComponent().find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n            \r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                keditor.getSettingComponent().find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n            \r\n            var cbbStyle = form.find('#photo-style');\r\n            cbbStyle.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var val = this.value;\r\n                \r\n                img.removeClass('img-rounded img-circle img-thumbnail');\r\n                if (val) {\r\n                    img.addClass(val);\r\n                }\r\n            });\r\n            \r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n                \r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n                \r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = keditor.getSettingComponent().find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n                \r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n                \r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n        \r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"photo\" component', component);\r\n            \r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            var cbbStyle = form.find('#photo-style');\r\n            \r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n            \r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n            \r\n            if (img.hasClass('img-rounded')) {\r\n                cbbStyle.val('img-rounded');\r\n            } else if (img.hasClass('img-circle')) {\r\n                cbbStyle.val('img-circle');\r\n            } else if (img.hasClass('img-thumbnail')) {\r\n                cbbStyle.val('img-thumbnail');\r\n            } else {\r\n                cbbStyle.val('');\r\n            }\r\n            \r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n            \r\n            $('<img />').attr('src', img.attr('src')).load(function () {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        }\r\n    };\r\n    \r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    CKEDITOR.disableAutoInline = true;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']},\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"text\" component', component);\r\n\r\n            var self = this;\r\n            var options = keditor.options;\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(self.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, keditor) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['video'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"video\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var video = componentContent.find('video');\r\n\r\n            if (!video.parent().is('.video-wrapper')) {\r\n                video.wrap('<div class=\"video-wrapper\"></div>');\r\n            }\r\n        },\r\n\r\n        getContent: function (component, keditor) {\r\n            flog('getContent \"video\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var video = componentContent.find('video');\r\n            video.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Video Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('init \"video\" settings', form);\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"videoFileInput\" class=\"col-sm-12\">Video file</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <div class=\"video-toolbar\">' +\r\n                '                <a href=\"#\" class=\"btn-videoFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n                '                <input id=\"videoFileInput\" type=\"file\" style=\"display: none\">' +\r\n                '            </div>' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-autoplay\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-loop\" class=\"col-sm-12\">Loop</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-loop\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"checkbox\" id=\"video-showcontrols\" checked />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"\" class=\"col-sm-12\">Ratio</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"4/3\" checked /> 4:3' +\r\n                '        </div>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"16/9\" /> 16:9' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '    <div class=\"form-group\">' +\r\n                '        <label for=\"video-width\" class=\"col-sm-12\">Width (px)</label>' +\r\n                '        <div class=\"col-sm-12\">' +\r\n                '            <input type=\"number\" id=\"video-width\" min=\"320\" max=\"1920\" class=\"form-control\" value=\"320\" />' +\r\n                '        </div>' +\r\n                '    </div>' +\r\n                '</form>'\r\n            );\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"video\" settings', form, component);\r\n\r\n            var options = keditor.options;\r\n            var video = component.find('video');\r\n            var fileInput = form.find('#videoFileInput');\r\n            var btnVideoFileInput = form.find('.btn-videoFileInput');\r\n            btnVideoFileInput.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.off('change').on('change', function () {\r\n                var file = this.files[0];\r\n                if (/video/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n\r\n                    video.attr('src', URL.createObjectURL(file));\r\n\r\n                    video.load(function () {\r\n                        keditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an video file!');\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#video-autoplay');\r\n            autoplayToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.prop('autoplay', true);\r\n                } else {\r\n                    video.removeProp('autoplay');\r\n                }\r\n            });\r\n\r\n            var loopToggle = form.find('#video-loop');\r\n            loopToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.prop('loop', true);\r\n                } else {\r\n                    video.removeProp('loop');\r\n                }\r\n            });\r\n\r\n            var ratio = form.find('.video-ratio');\r\n            ratio.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    var currentWidth = video.css('width') || video.prop('width');\r\n                    currentWidth = currentWidth.replace('px', '');\r\n\r\n                    var currentRatio = this.value === '16/9' ? 16 / 9 : 4 / 3;\r\n                    var height = currentWidth / currentRatio;\r\n                    video.css('width', currentWidth + 'px');\r\n                    video.css('height', height + 'px');\r\n                    video.removeProp('width');\r\n                    video.removeProp('height');\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#video-showcontrols');\r\n            showcontrolsToggle.off('click').on('click', function (e) {\r\n                if (this.checked) {\r\n                    video.attr('controls', 'controls');\r\n                } else {\r\n                    video.removeAttr('controls');\r\n                }\r\n            });\r\n\r\n            var videoWidth = form.find('#video-width');\r\n            videoWidth.off('change').on('change', function () {\r\n                video.css('width', this.value + 'px');\r\n                var currentRatio = form.find('.video-ratio:checked').val() === '16/9' ? 16 / 9 : 4 / 3;\r\n                var height = this.value / currentRatio;\r\n                video.css('height', height + 'px');\r\n                video.removeProp('width');\r\n                video.removeProp('height');\r\n            });\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['vimeo'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"vimeo\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Vimeo Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"vimeo\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-vimeo-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"vimeo-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-vimeo-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Vimeo URL in here:');\r\n                var vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n                var match = inputData.match(vimeoRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\r\n                } else {\r\n                    alert('Your Vimeo URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-vimeo-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-vimeo-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"vimeo\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#vimeo-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        init: function (contentArea, container, component, keditor) {\r\n            flog('init \"youtube\" component', component);\r\n\r\n            var iframe = component.find('iframe');\r\n            var wrapper = iframe.parent();\r\n            keditor.initIframeCover(iframe, wrapper);\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Settings',\r\n\r\n        initSettingForm: function (form, keditor) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    keditor.getSettingComponent().find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                keditor.getSettingComponent().find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = keditor.getSettingComponent().find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, keditor) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"]}