{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./src/keditor/constants/classNames.js","webpack:///./src/keditor/constants/defaults.js","webpack:///./src/keditor/utils/log.js","webpack:///./src/keditor/utils/error.js","webpack:///./src/keditor/constants/toolbarType.js","webpack:///./src/keditor/sidebar/openSidebar.js","webpack:///./src/keditor/sidebar/closeSidebar.js","webpack:///./src/keditor/snippet/renderSnippets.js","webpack:///./src/keditor/constants/snippetType.js","webpack:///./src/keditor/component/getComponentType.js","webpack:///./src/keditor/component/initComponent.js","webpack:///./src/keditor/component/deleteComponent.js","webpack:///./src/keditor/component/getComponentContent.js","webpack:///./src/keditor/init.js","webpack:///./src/keditor/destroy.js","webpack:///./src/keditor/index.js","webpack:///./src/keditor/utils/generateId.js","webpack:///./src/keditor/utils/generateContentAreasWrapper.js","webpack:///./src/keditor/utils/generateToolbar.js","webpack:///./src/keditor/utils/beautifyCategories.js","webpack:///./src/keditor/utils/getDataAttributes.js","webpack:///./src/keditor/utils/getClickedElement.js","webpack:///./src/keditor/iframe/initIframe.js","webpack:///./src/keditor/iframe/initIframeCover.js","webpack:///./src/keditor/utils/initKEditorClicks.js","webpack:///./src/keditor/sidebar/initSidebar.js","webpack:///./src/keditor/modal/initSnippetsModal.js","webpack:///./src/keditor/snippet/initSnippetsFilter.js","webpack:///./src/keditor/modal/openModal.js","webpack:///./src/keditor/modal/closeModal.js","webpack:///./src/keditor/contentArea/initContentAreas.js","webpack:///./src/keditor/contentArea/initContentArea.js","webpack:///./src/keditor/container/convertToContainer.js","webpack:///./src/keditor/container/initContainer.js","webpack:///./src/keditor/container/initContainerContent.js","webpack:///./src/keditor/component/convertToComponent.js","webpack:///./src/keditor/component/initDynamicContent.js","webpack:///./src/keditor/container/getContainerContent.js","webpack:///./src/keditor/getContent.js","webpack:///./src/keditor/setContent.js"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","classNames","UI","concat","HIDDEN_ELEMENT","CLICKS_INITIALIZED","CONTENT_AREAS_WRAPPER","defaults","nestedContainerEnabled","explicitSnippetEnabled","containerForQuickAddComponent","btnAddContentText","btnAddContainerText","btnAddSubContainerText","btnAddComponentText","btnMoveContainerText","btnMoveComponentText","btnSettingContainerText","btnSettingComponentText","btnDuplicateContainerText","btnDuplicateComponentText","btnDeleteContainerText","btnDeleteComponentText","confirmDeleteContainerText","confirmDeleteComponentText","defaultComponentType","snippetsUrl","snippetsFilterEnabled","snippetsCategoriesSeparator","iframeMode","contentStyles","contentAreasSelector","contentAreasWrapper","CLASS_NAMES","containerSettingEnabled","containerSettingInitFunction","containerSettingShowFunction","containerSettingHideFunction","onReady","onSnippetsLoaded","modal","onSnippetsError","error","onInitIframe","iframe","iframeHead","iframeBody","onContentChanged","event","contentArea","onBeforeInitContentArea","onInitContentArea","onBeforeInitContainer","container","onInitContainer","onBeforeContainerDeleted","selectedContainer","onContainerDeleted","onContainerChanged","changedContainer","onContainerDuplicated","originalContainer","newContainer","onContainerSelected","onContainerSnippetAdded","selectedSnippet","onComponentReady","component","onBeforeInitComponent","onInitComponent","onBeforeComponentDeleted","selectedComponent","onComponentDeleted","onComponentChanged","changedComponent","onComponentDuplicated","originalComponent","newComponent","onComponentSelected","onComponentSnippetAdded","onBeforeDynamicContentLoad","dynamicElement","onDynamicContentLoaded","response","status","xhr","onDynamicContentError","utils_log","console","log","$","keditor","debug","_len","arguments","length","args","Array","_key","apply","utils_error","message","Error","toolbarType","sidebar_openSidebar","target","options","sidebar","sidebarTitle","find","sidebarBody","children","removeClass","is","setSettingComponent","setSettingContainer","componentType","getComponentType","componentData","KEditor","components","html","settingTitle","settingForm","initSettingForm","loadingText","append","initFunction","when","done","setTimeout","remove","showSettingForm","addClass","sidebar_closeSidebar","activeForm","activeType","attr","hideSettingForm","constants_snippetType","component_getComponentType","replace","component_initComponent","body","hasClass","generateId","generateToolbar","TOOLBAR_TYPE","settingEnabled","each","initDynamicContent","init","component_deleteComponent","destroy","component_getComponentContent","content","clonedComponent","clone","dataAttributes","getDataAttributes","iframeWrapper","unwrap","getContent","join","config","element","extend","DEFAULTS","initIframe","window","document","originalContent","val","generateContentAreasWrapper","after","empty","initSidebar","initSnippetsModal","initContentAreas","initKEditorClicks","id","instances","keditor_destroy","data","fn","sortable","_classCallCheck","type","undefined","timestamp","Date","getTime","random","Math","round","isComponentConfigurable","settingBtn","categories","newArray","category","inArray","push","sort","settingContainer","settingComponent","ignoreAttributes","isArray","attributes","indexOf","selector","closest","wrapper","iframeDoc","contents","open","close","contentWindow","contentDocument","defaultView","styles","style","href","idStr","wrap","parent","cover","prepend","on","e","preventDefault","getClickedElement","btn","closeSidebar","openSidebar","getContainerContent","convertToContainer","confirm","deleteComponent","getComponentContent","convertToComponent","sidebarId","form","appendTo","modalId","snippetsWrapperHtml","ajax","dataType","url","success","resp","renderSnippets","initSnippetsFilter","SNIPPET_TYPE","jqXHR","closeModal","modalTarget","snippetType","snippetContentElement","snippetContent","isAddingContainer","isAddingComponent","isAddingComponentWithContainer","modalSnippetType","initContainer","initComponent","eq","snippet","css","snippetsContainerHtml","snippetsComponentHtml","snippetsContentHtml","snippetsCategories","snippetsContainerCategories","snippetsComponentCategories","filter","snippetId","trim","previewUrl","title","snippetHtml","split","beautifyCategories","_toConsumableArray","snippetsWrapperSelector","categoriesOptions","snippetsWrapper","snippets","filterCategories","toLowerCase","timer","txtSearch","cbbFilter","doFilter","selectedCategory","searchText","dataCategories","dataCategoriesString","clearTimeout","modalTitle","modalAction","contentAreas","initContentArea","dontInitToolbar","contentAreaInner","contentAreaToolbar","openModal","handle","items","helper","connectWith","axis","tolerance","receive","ui","item","start","stop","contentData","wrapInner","isNested","containerContents","containerContent","parents","initContainerContent","containerContentInner","containerContentToolbar","child","isExisting","dynamicHref","param","containerInner","not","removeAttr","result","jquery","blank","instance","slice","constructor"],"mappings":"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","file":"js/keditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jQuery\")) : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","const PREFIX_CLASS = 'keditor-';\rexport default {\rUI: `${PREFIX_CLASS}ui`,\rHIDDEN_ELEMENT: `${PREFIX_CLASS}hidden-element`,\rCLICKS_INITIALIZED: `${PREFIX_CLASS}clicks-initialized`,\rCONTENT_AREAS_WRAPPER: `${PREFIX_CLASS}content-areas-wrapper`,\r\n};","import CLASS_NAMES from './classNames';\rexport default {\rnestedContainerEnabled: true,\rexplicitSnippetEnabled: false,\rcontainerForQuickAddComponent: `\r<div class=\"row\">\r<div class=\"col-sm-12\" data-type=\"container-content\">\r</div>\r</div>\r`,\rbtnAddContentText: '<i class=\"fa fa-plus\"></i>',\rbtnAddContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\rbtnAddSubContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\rbtnAddComponentText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-list-ul\"></i>',\rbtnMoveContainerText: '<i class=\"fa fa-sort\"></i>',\rbtnMoveComponentText: '<i class=\"fa fa-arrows\"></i>',\rbtnSettingContainerText: '<i class=\"fa fa-cog\"></i>',\rbtnSettingComponentText: '<i class=\"fa fa-cog\"></i>',\rbtnDuplicateContainerText: '<i class=\"fa fa-files-o\"></i>',\rbtnDuplicateComponentText: '<i class=\"fa fa-files-o\"></i>',\rbtnDeleteContainerText: '<i class=\"fa fa-times\"></i>',\rbtnDeleteComponentText: '<i class=\"fa fa-times\"></i>',\rconfirmDeleteContainerText: 'Are you sure that you want to delete this container? This action can not be undone!',\rconfirmDeleteComponentText: 'Are you sure that you want to delete this component? This action can not be undone!',\rdefaultComponentType: 'blank',\rsnippetsUrl: 'snippets/snippets.html',\rsnippetsFilterEnabled: true,\rsnippetsCategoriesSeparator: ';',\riframeMode: false,\rcontentStyles: [],\rcontentAreasSelector: null,\rcontentAreasWrapper: `<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREAS_WRAPPER}\"></div>`,\rcontainerSettingEnabled: false,\rcontainerSettingInitFunction: null,\rcontainerSettingShowFunction: null,\rcontainerSettingHideFunction: null,\ronReady: function () {\r},\ronSnippetsLoaded: function (modal) {\r},\ronSnippetsError: function (modal, error) {\r},\ronInitIframe: function (iframe, iframeHead, iframeBody) {\r},\ronContentChanged: function (event, contentArea) {\r},\ronBeforeInitContentArea: function (contentArea) {\r},\ronInitContentArea: function (contentArea) {\r},\ronBeforeInitContainer: function (container, contentArea) {\r},\ronInitContainer: function (container, contentArea) {\r},\ronBeforeContainerDeleted: function (event, selectedContainer, contentArea) {\r},\ronContainerDeleted: function (event, selectedContainer, contentArea) {\r},\ronContainerChanged: function (event, changedContainer, contentArea) {\r},\ronContainerDuplicated: function (event, originalContainer, newContainer, contentArea) {\r},\ronContainerSelected: function (event, selectedContainer, contentArea) {\r},\ronContainerSnippetAdded: function (event, newContainer, selectedSnippet, contentArea) {\r},\ronComponentReady: function (component) {\r},\ronBeforeInitComponent: function (component, contentArea) {\r},\ronInitComponent: function (component, contentArea) {\r},\ronBeforeComponentDeleted: function (event, selectedComponent, contentArea) {\r},\ronComponentDeleted: function (event, selectedComponent, contentArea) {\r},\ronComponentChanged: function (event, changedComponent, contentArea) {\r},\ronComponentDuplicated: function (event, originalComponent, newComponent, contentArea) {\r},\ronComponentSelected: function (event, selectedComponent, contentArea) {\r},\ronComponentSnippetAdded: function (event, newComponent, selectedSnippet, contentArea) {\r},\ronBeforeDynamicContentLoad: function (dynamicElement, component, contentArea) {\r},\ronDynamicContentLoaded: function (dynamicElement, response, status, xhr, contentArea) {\r},\ronDynamicContentError: function (dynamicElement, response, status, xhr, contentArea) {\r}\r\n};\r","import $ from 'jquery';\rexport default (...args) => {\rif (console && typeof console.log === 'function' && $.keditor.debug) {\rconsole.log.apply(console, ['[ KEditor ] ', ...args]);\r}\r\n};\r\n","export default (message) => {\rthrow new Error(`[ KEditor ] ${message}`);\r\n};\r\n","export default {\rCONTENT_AREA: 0,\rCONTAINER: 1,\rSUB_CONTAINER: 2,\rCONTAINER_CONTENT: 3,\rSUB_CONTAINER_CONTENT: 4,\rCOMPONENT: 5\r\n};\r\n","import log from '../utils/log';\rexport default function (target) {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\rlet sidebarTitle = sidebar.find('.keditor-sidebar-title');\rlet sidebarBody = sidebar.find('.keditor-sidebar-body');\rlet activeForm = sidebarBody.children('.active');\ractiveForm.removeClass('active');\rif (target.is('.keditor-component')) {\rself.setSettingComponent(target);\rself.setSettingContainer(null);\rlet componentType = self.getComponentType(target);\rlet componentData = KEditor.components[componentType];\rsidebarTitle.html(componentData.settingTitle);\rlet settingForm = sidebarBody.find(`.keditor-setting-${componentType}`);\rif (settingForm.length === 0) {\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.initSettingForm === 'function') {\rsettingForm = $(`\r<div\rdata-type=\"${componentType}\"\rclass=\"keditor-ui keditor-setting-form keditor-setting-${componentType} clearfix active\"\r>\r</div>\r`);\rlet loadingText = $('<span />').html('Loading...');\rsidebarBody.append(settingForm);\rsettingForm.append(loadingText);\rlet initFunction = componentData.initSettingForm.call(componentData, settingForm, self);\r$.when(initFunction).done(function () {\rlog(`Initialized setting form for component type \"${componentType}\"`);\rsetTimeout(function () {\rloadingText.remove();\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\r}, 100);\r});\r}\r} else {\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\rsettingForm.addClass('active');\r}\r} else {\rself.setSettingContainer(target);\rself.setSettingComponent(null);\rsidebarTitle.html('Container Settings');\rlet settingForm = sidebar.find('.keditor-container-setting');\rif (typeof options.containerSettingShowFunction === 'function') {\roptions.containerSettingShowFunction.call(self, settingForm, target, self);\r}\rsettingForm.addClass('active');\r}\rsidebar.addClass('opened');\r\n};\r\n","import log from '../utils/log';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\rlet activeForm = sidebar.find('.keditor-sidebar-body').children('.active');\rif (activeForm.length > 0) {\rif (activeForm.is('.keditor-container-setting')) {\rif (typeof options.containerSettingHideFunction === 'function') {\roptions.containerSettingHideFunction.call(self, activeForm, self);\r}\r} else {\rlet activeType = activeForm.attr('data-type');\rlet componentData = KEditor.components[activeType];\rif (typeof componentData.hideSettingForm === 'function') {\rcomponentData.hideSettingForm.call(componentData, activeForm, self);\r}\r}\ractiveForm.removeClass('active');\r}\rself.setSettingComponent(null);\rself.setSettingContainer(null);\rsidebar.removeClass('opened');\r\n}","import log from '../utils/log';\rexport default function (resp) {\rlog('renderSnippets');\rlet self = this;\rlet options = self.options;\rlet snippetsContainerHtml = '';\rlet snippetsComponentHtml = '';\rlet snippetsContentHtml = '';\rself.snippetsCategories = [];\rself.snippetsContainerCategories = [];\rself.snippetsComponentCategories = [];\r$(resp).filter('div').each(function (i) {\rlet snippet = $(this);\rlet snippetId = self.generateId('snippet');\rlet content = snippet.html().trim();\rlet previewUrl = snippet.attr('data-preview');\rlet type = snippet.attr('data-type');\rlet title = snippet.attr('data-keditor-title');\rlet categories = snippet.attr('data-keditor-categories') || '';\rlet snippetHtml = `\r<section\rclass=\"keditor-ui keditor-snippet\"\rdata-snippet=\"#${snippetId}\"\rdata-type=\"${type}\"\rtitle=\"${title}\"\rdata-keditor-categories=\"${categories}\"\r>\r<span><span style=\"background-image: url('${previewUrl}')\"></span></span>\r</section>\r`;\rcategories = categories.split(options.snippetsCategoriesSeparator);\rif (type === 'container') {\rsnippetsContainerHtml += snippetHtml;\rself.snippetsContainerCategories = self.snippetsContainerCategories.concat(categories);\r} else if (type.indexOf('component') !== -1) {\rsnippetsComponentHtml += snippetHtml;\rself.snippetsComponentCategories = self.snippetsComponentCategories.concat(categories);\r}\rlet dataAttributes = self.getDataAttributes(snippet, ['data-preview', 'data-type', 'data-keditor-title', 'data-keditor-categories'], true);\rsnippetsContentHtml += `<script id=\"${snippetId}\" type=\"text/html\" ${dataAttributes.join(' ')}>${content}</script>`;\r});\rself.snippetsContainerCategories = self.beautifyCategories(self.snippetsContainerCategories);\rself.snippetsComponentCategories = self.beautifyCategories(self.snippetsComponentCategories);\rself.snippetsCategories = self.beautifyCategories([...self.snippetsContainerCategories, ...self.snippetsComponentCategories]);\rif (options.explicitSnippetEnabled) {\rself.modal.find('.keditor-snippets-container').html(snippetsContainerHtml);\rself.modal.find('.keditor-snippets-component').html(snippetsComponentHtml);\r} else {\rself.modal.find('.keditor-snippets').html(snippetsContainerHtml + snippetsComponentHtml)\r}\rself.modal.find('.keditor-modal-body').append(snippetsContentHtml);\r\n};\r\n","export default {\rALL: 0,\rCONTAINER: 1,\rCOMPONENT: 2\r\n};\r\n","import error from '../utils/error';\r\nimport log from '../utils/log';\rexport default function (component) {\rlet self = this;\rlet options = self.options;\rlet componentType = (component.attr('data-type') || '').replace('component-', '');\rif (componentType && (componentType in KEditor.components)) {\rreturn componentType;\r} else {\rif (typeof options.defaultComponentType === 'string') {\rcomponentType = options.defaultComponentType;\r} else if (typeof options.defaultComponentType === 'function') {\rcomponentType = options.defaultComponentType.call(self, component);\r}\rif (!componentType) {\rerror('Component type is undefined!');\r}\rlog(`Fallback to defaultComponentType: ${componentType}`);\rreturn componentType;\r}\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport log from '../utils/log';\rexport default function (contentArea, container, component) {\rlog('initComponent', contentArea, container, component);\rlet self = this;\rlet options = self.options;\rlet body = self.body;\rif (!component.hasClass('keditor-initialized-component') || !component.hasClass('keditor-initializing-component')) {\rcomponent.addClass('keditor-initializing-component');\rcomponent.attr('id', self.generateId('component'));\rif (typeof options.onBeforeInitComponent === 'function') {\roptions.onBeforeInitComponent.call(self, component, contentArea);\r}\rlet componentContent = component.children('.keditor-component-content');\rcomponentContent.attr('id', self.generateId('component-content'));\rlet componentType = self.getComponentType(component);\rlog(`Component type: ${componentType}`);\rlet componentData = KEditor.components[componentType];\rlog('Render KEditor toolbar for component', component);\rcomponent.append(self.generateToolbar(TOOLBAR_TYPE.COMPONENT, componentData.settingEnabled));\rcomponent.find('[data-dynamic-href]').each(function () {\rlet dynamicElement = $(this);\rself.initDynamicContent(dynamicElement);\r});\rif (typeof componentData.init === 'function') {\rcomponentData.init.call(componentData, contentArea, container, component, self);\r} else {\rlog(`\"init\" function of component type \"${componentType}\" does not exist`);\r}\rif (typeof options.onInitComponent === 'function') {\roptions.onInitComponent.call(self, component, contentArea);\r}\rcomponent.addClass('keditor-initialized-component');\rcomponent.removeClass('keditor-initializing-component');\r} else {\rif (component.hasClass('keditor-initialized-component')) {\rlog('Component is already initialized!');\r} else {\rlog('Component is initializing...');\r}\r}\r\n};\r\n","import log from '../utils/log';\rexport default function (component) {\rlog('deleteComponent', component);\rlet self = this;\rlet componentType = self.getComponentType(component);\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.destroy === 'function') {\rcomponentData.destroy.call(componentData, component, self);\r}\rcomponent.remove();\r\n};\r\n","import log from '../utils/log';\rexport default function (component) {\rlog('getComponentContent');\rlet self = this;\rlet clonedComponent = component.clone();\rlet componentType = self.getComponentType(clonedComponent);\rlet componentData = KEditor.components[componentType];\rlet dataAttributes = self.getDataAttributes(clonedComponent, null, true);\rlet content;\r// Handle iframe-wrapper\rlet iframeWrapper = component.find('.keditor-iframe-wrapper');\rif (iframeWrapper.length > 0) {\riframeWrapper.find('.keditor-iframe-cover').remove();\rlet iframe = iframeWrapper.children('iframe');\rif (iframeWrapper.hasClass('keditor-iframe-wrapper-fake')) {\riframe.unwrap();\r} else {\riframeWrapper.removeClass('keditor-iframe-wrapper');\r}\r}\rif (typeof componentData.getContent === 'function') {\rcontent = componentData.getContent.call(componentData, clonedComponent, self);\r} else {\rlet componentContent = clonedComponent.children('.keditor-component-content');\rcontent = componentContent.html();\r}\rclonedComponent.html(content).find('[data-dynamic-href]').each(function () {\r$(this).html('');\r});\rreturn `<section ${dataAttributes.join(' ')}>${clonedComponent.html()}</section>`;\r\n};\r\n","import DEFAULTS from './constants/defaults';\r\nimport CLASS_NAMES from './constants/classNames';\rexport default function (target, config) {\rlet self = this;\rlet element = self.element = target;\rlet options = self.options = $.extend({}, DEFAULTS, config);\rif (options.iframeMode) {\rself.initIframe();\r} else {\rself.window = window;\rself.body = $(document.body);\rlet originalContent = element.val() || element.html() || '';\rlet contentAreasWrapper = self.generateContentAreasWrapper(originalContent);\rif (element.is('textarea')) {\relement.after(contentAreasWrapper);\relement.addClass(CLASS_NAMES.HIDDEN_ELEMENT);\r} else {\relement.empty().append(contentAreasWrapper);\r}\rself.contentAreasWrapper = contentAreasWrapper;\r}\rself.initSidebar();\rself.initSnippetsModal();\rself.initContentAreas();\rif (!self.body.hasClass(CLASS_NAMES.CLICKS_INITIALIZED)) {\rself.initKEditorClicks();\r}\rself.id = self.generateId();\rKEditor.instances[self.id] = self;\rif (typeof options.onReady === 'function') {\roptions.onReady.call(self);\r}\r\n};","export default function () {\rlet self = this;\rlet element = self.element;\rlet id = self.id;\rlet content = self.getContent(false);\rif (self.options.iframeMode) {\rself.iframeWrapper.remove();\r} else {\rself.contentAreasWrapper.remove();\r}\rif (element.is('textarea')) {\relement.val(content);\r} else {\relement.html(content);\r}\relement.removeClass('keditor-hidden-element');\relement.data('keditor', null);\rdelete KEditor.instances[id];\r\n};\r\n","import $ from 'jquery';\rimport DEFAULTS from './constants/defaults';\rimport log from './utils/log';\r\nimport error from './utils/error';\r\nimport generateId from './utils/generateId';\r\nimport generateToolbar from './utils/generateToolbar';\r\nimport generateContentAreasWrapper from './utils/generateContentAreasWrapper';\r\nimport beautifyCategories from './utils/beautifyCategories';\r\nimport getDataAttributes from './utils/getDataAttributes';\r\nimport getClickedElement from './utils/getClickedElement';\r\nimport initKEditorClicks from './utils/initKEditorClicks';\rimport initIframe from './iframe/initIframe';\r\nimport initIframeCover from './iframe/initIframeCover';\rimport initSidebar from './sidebar/initSidebar';\r\nimport openSidebar from './sidebar/openSidebar';\r\nimport closeSidebar from './sidebar/closeSidebar';\rimport renderSnippets from './snippet/renderSnippets';\r\nimport initSnippetsFilter from './snippet/initSnippetsFilter';\rimport initSnippetsModal from './modal/initSnippetsModal';\r\nimport openModal from './modal/openModal';\r\nimport closeModal from './modal/closeModal';\rimport initContentAreas from './contentArea/initContentAreas';\r\nimport initContentArea from './contentArea/initContentArea';\rimport convertToContainer from './container/convertToContainer';\r\nimport initContainer from './container/initContainer';\r\nimport initContainerContent from './container/initContainerContent';\r\nimport getContainerContent from './container/getContainerContent';\rimport getComponentType from './component/getComponentType';\r\nimport convertToComponent from './component/convertToComponent';\r\nimport initComponent from './component/initComponent';\r\nimport initDynamicContent from './component/initDynamicContent';\r\nimport deleteComponent from './component/deleteComponent';\r\nimport getComponentContent from './component/getComponentContent';\rimport init from './init';\r\nimport destroy from './destroy';\r\nimport getContent from './getContent';\r\nimport setContent from './setContent';\rimport '../styles/keditor.less';\r// Check dependencies\r\nif (!$.fn.sortable) {\rerror('$.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.');\r\n}\r// KEditor class\r\nclass KEditor {\rstatic DEFAULTS = DEFAULTS;\rstatic debug = false;\rstatic version = '2.0.0';\rstatic instances = {};\rstatic components = {\rblank: {\rsettingEnabled: false\r}\r};\rstatic log(...args) {\rlog(...args);\r}\rstatic error(...args) {\rerror(...args);\r}\rstatic init(target, config) {\rreturn new KEditor(target, config);\r}\rconstructor(target, config) {\rreturn init.apply(this, [target, config]);\r}\rgenerateId(type) {\rreturn generateId.apply(this, [type]);\r}\rgenerateContentAreasWrapper(content) {\rreturn generateContentAreasWrapper.apply(this, [content]);\r}\rgenerateToolbar(type, isComponentConfigurable) {\rreturn generateToolbar.apply(this, [type, isComponentConfigurable]);\r}\rbeautifyCategories(categories) {\rreturn beautifyCategories.apply(this, [categories]);\r}\rsetSettingContainer(container) {\rthis.settingContainer = container;\r}\rgetSettingContainer() {\rreturn this.settingContainer;\r}\rsetSettingComponent(component) {\rthis.settingComponent = component;\r}\rgetSettingComponent() {\rreturn this.settingComponent;\r}\rgetDataAttributes(target, ignoreAttributes, isArray) {\rreturn getDataAttributes.apply(this, [target, ignoreAttributes, isArray]);\r}\rgetComponentType(component) {\rreturn getComponentType.apply(this, [component]);\r}\rgetClickedElement(event, selector) {\rreturn getClickedElement.apply(this, [event, selector]);\r}\r// Iframe\r//---------------------------------\rinitIframe() {\rreturn initIframe.apply(this);\r}\rinitIframeCover(iframe, wrapper) {\rreturn initIframeCover.apply(this, [iframe, wrapper]);\r}\r// KEditor clicks\r//---------------------------------\rinitKEditorClicks() {\rreturn initKEditorClicks.apply(this);\r}\r// Sidebar\r//---------------------------------\rinitSidebar() {\rreturn initSidebar.apply(this);\r}\ropenSidebar(target) {\rreturn openSidebar.apply(this, [target]);\r}\rcloseSidebar() {\rreturn closeSidebar.apply(this);\r}\r// Legacy methods. DEPRECATED\r//---------------------------------\rshowSettingPanel(target) {\rthis.openSidebar(target);\r}\rhideSettingPanel() {\rthis.closeSidebar();\r}\r// Snippet modal\r//---------------------------------\rinitSnippetsModal() {\rreturn initSnippetsModal.apply(this);\r}\rrenderSnippets(resp) {\rreturn renderSnippets.apply(this, [resp]);\r}\rinitSnippetsFilter(type) {\rreturn initSnippetsFilter.apply(this, [type]);\r}\ropenModal(target, snippetType) {\rreturn openModal.apply(this, [target, snippetType]);\r}\rcloseModal() {\rreturn closeModal.apply(this);\r}\r// Content areas\r//---------------------------------\rinitContentAreas() {\rreturn initContentAreas.apply(this);\r}\rinitContentArea(contentArea, dontInitToolbar) {\rreturn initContentArea.apply(this, [contentArea, dontInitToolbar]);\r}\r// Containers\r//---------------------------------\rconvertToContainer(contentArea, target) {\rreturn convertToContainer.apply(this, [contentArea, target]);\r}\rinitContainer(contentArea, container) {\rreturn initContainer.apply(this, [contentArea, container]);\r}\rinitContainerContent(contentArea, container, containerContent, isNested) {\rreturn initContainerContent.apply(this, [contentArea, container, containerContent, isNested]);\r}\r// Components\r//---------------------------------\rconvertToComponent(contentArea, container, target, isExisting) {\rreturn convertToComponent.apply(this, [contentArea, container, target, isExisting]);\r}\rinitComponent(contentArea, container, component) {\rreturn initComponent.apply(this, [contentArea, container, component]);\r}\rinitDynamicContent(dynamicElement) {\rreturn initDynamicContent.apply(this, [dynamicElement]);\r}\rdeleteComponent(component) {\rreturn deleteComponent.apply(this, [component]);\r}\r// Get content\r//---------------------------------\rgetComponentContent(component) {\rreturn getComponentContent.apply(this, [component]);\r}\rgetContainerContent(container, isNested) {\rreturn getContainerContent.apply(this, [container, isNested]);\r}\rgetContent(inArray) {\rreturn getContent.apply(this, [inArray]);\r}\r// Set content\r//---------------------------------\rsetContent(content, contentArea) {\rreturn setContent.apply(this, [content, contentArea]);\r}\r// Destroy\r//---------------------------------\rdestroy() {\rreturn destroy.apply(this);\r}\r\n}\r// KEditor plugins\r\n$.fn.keditor = function (options) {\rlet element = $(this);\rlet instance = element.data('keditor');\rif (typeof options === 'string') {\rif (instance && instance[options] && typeof instance[options] === 'function') {\rreturn instance[options].apply(instance, Array.prototype.slice.call(arguments, 1));\r}\r} else {\rif (!instance) {\rinstance = KEditor.init(element, options);\relement.data('keditor', instance);\r}\rreturn instance;\r}\r\n};\rwindow.KEditor = $.keditor = $.fn.keditor.constructor = KEditor;\r\n","export default (type = '') => {\rlet timestamp = (new Date()).getTime();\rlet random = Math.round(Math.random() * 9876543210);\rreturn `keditor-${type}-${timestamp}${random}`;\r\n};\r\n","export default function (content) {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = $(options.contentAreasWrapper || '<div />');\rcontentAreasWrapper.attr('class', 'keditor-ui keditor-content-area-wrapper');\rif (!contentAreasWrapper.attr('id')) {\rcontentAreasWrapper.attr('id', self.generateId('content-area-wrapper'));\r}\rcontentAreasWrapper.html(content);\rreturn contentAreasWrapper;\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\rexport default function (type, isComponentConfigurable) {\rlet self = this;\rlet options = self.options;\rlet settingBtn = '';\rif (!options.explicitSnippetEnabled) {\rlet toolbarClass = '';\rswitch (type) {\rcase  TOOLBAR_TYPE.CONTENT_AREA:\rtoolbarClass = 'keditor-content-area-toolbar';\rcase  TOOLBAR_TYPE.CONTAINER_CONTENT:\rcase  TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rtoolbarClass = 'keditor-container-content-toolbar';\rreturn (`\r<div class=\"keditor-ui ${toolbarClass}\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-content\" title=\"Add content\">${options.btnAddContentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r}\rswitch (type) {\rcase  TOOLBAR_TYPE.CONTENT_AREA:\rreturn (`\r<div class=\"keditor-ui keditor-content-area-toolbar\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-container\" title=\"Add container\">${options.btnAddContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-setting\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-container\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-reposition\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-duplicate\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-delete\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-setting\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-container keditor-toolbar-sub-container\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-reposition\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-duplicate\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-delete\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER_CONTENT:\rreturn (`\r<div class=\"keditor-ui keditor-container-content-toolbar keditor-btn-group\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-container\" title=\"Add sub-container\">${options.btnAddSubContainerText}</a>\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-component\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rreturn (`\r<div class=\"keditor-ui keditor-container-content-toolbar\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-component\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.COMPONENT:\rif (isComponentConfigurable) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-setting\">${options.btnSettingComponentText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-component\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-reposition\">${options.btnMoveComponentText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-duplicate\">${options.btnDuplicateComponentText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-delete\">${options.btnDeleteComponentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r\n};\r\n","export default function (categories) {\rlet newArray = [];\rfor (let i = 0; i < categories.length; i++) {\rlet category = categories[i] || '';\rif (category !== '' && $.inArray(category, newArray) === -1) {\rnewArray.push(category);\r}\r}\rreturn newArray.sort();\r\n};\r\n","export default function (target, ignoreAttributes, isArray) {\rlet dataAttributes = isArray ? [] : {};\rif (!ignoreAttributes) {\rignoreAttributes = [];\r}\r$.each(target.get(0).attributes, function (i, attr) {\rif (attr.name.indexOf('data-') === 0 && $.inArray(attr.name, ignoreAttributes) === -1) {\rif (isArray) {\rdataAttributes.push(`${attr.name}=\"${attr.value}\"`);\r} else {\rdataAttributes[attr.name] = attr.value;\r}\r}\r});\rreturn dataAttributes;\r\n};\r\n","export default function (event, selector) {\rlet target = $(event.target);\rlet closest = target.closest(selector);\rif (target.is(selector)) {\rreturn target;\r} else if (closest.length > 0) {\rreturn closest;\r} else {\rreturn null;\r}\r\n};\r\n","import log from '../utils/log';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet element = self.element;\rlet originalContent = element.is('textarea') ? element.val() : element.html();\rlet wrapper = self.iframeWrapper = $('<div class=\"keditor-ui keditor-iframe-wrapper\"></div>');\rlet iframe = self.iframe = $('<iframe class=\"keditor-ui keditor-iframe\"></iframe>');\relement.after(wrapper);\rwrapper.attr('id', self.generateId('iframe-wrapper')).append(iframe);\relement.addClass('keditor-hidden-element');\rlet iframeDoc = self.iframeDoc = iframe.contents();\r// Fix issue Firefox can't render content inside iframe\r// ======================================================\riframeDoc.get(0).open();\riframeDoc.get(0).close();\r// ======================================================\rself.window = iframe[0].contentWindow ? iframe[0].contentWindow : iframe[0].contentDocument.defaultView;\rlet iframeHead = self.iframeHead = iframeDoc.find('head');\rlet iframeBody = self.iframeBody = self.body = iframeDoc.find('body');\rlog('Adding styles to iframe...');\rlet styles = '';\r$('[data-type=\"keditor-style\"]').each(function () {\rlet style = $(this);\rlet href = style.attr('href') || style.attr('data-href') || '';\rif (href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${href}\" />\\n`;\r} else {\rstyles += `<style type=\"text/css\">${style.html()}</style>\\n`;\r}\r});\rif (options.contentStyles && $.isArray(options.contentStyles)) {\r$.each(options.contentStyles, function (i, style) {\rlet idStr = '';\rif (style.id) {\ridStr = ` id=\"${style.id}\" `;\r}\rif (style.href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${style.href}\" ${idStr} />\\n`;\r} else {\rstyles += `<style type=\"text/css\" ${idStr}>${style.content}</style>\\n`;\r}\r});\r}\riframeHead.append(styles);\rlog('Adding original content to iframe...');\rlet contentAreasWrapper = self.generateContentAreasWrapper(originalContent);\riframeBody.append(contentAreasWrapper);\rself.contentAreasWrapper = contentAreasWrapper;\rif (typeof options.onInitIframe === 'function') {\roptions.onInitIframe.call(self, iframe, iframeHead, iframeBody);\r}\r\n};\r\n","import log from '../utils/log';\rexport default function (iframe, wrapper) {\rif (!wrapper) {\riframe.wrap('<div class=\"keditor-iframe-wrapper-fake\"></div>');\rwrapper = iframe.parent();\r}\rwrapper.addClass('keditor-iframe-wrapper');\rlet cover = $('<div class=\"keditor-iframe-cover\"></div>');\rwrapper.prepend(cover);\rwrapper.on('mouseleave', function () {\rwrapper.removeClass('hidden-cover');\r});\rcover.on('dblclick', function (e) {\re.preventDefault();\rwrapper.addClass('hidden-cover');\r});\r\n};\r\n","import log from '../utils/log';\rexport default function () {\rlog('initKEditorClicks');\rlet self = this;\rlet options = self.options;\rlet body = self.body;\rbody.on('click', function (e) {\rlet sidebar = self.getClickedElement(e, '.keditor-sidebar');\rlet modal = self.getClickedElement(e, '.keditor-modal');\rlet container = self.getClickedElement(e, '.keditor-container');\rif (container) {\rif (!container.hasClass('showed-keditor-toolbar')) {\rbody.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rbody.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontainer.addClass('showed-keditor-toolbar');\rlet contentArea = container.parent();\rif (typeof options.onContainerSelected === 'function') {\roptions.onContainerSelected.call(self, e, container, contentArea);\r}\r}\r} else {\rif (!sidebar && !modal) {\rbody.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rbody.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\r}\r}\rlet component = self.getClickedElement(e, '.keditor-component');\rif (component) {\rif (!component.hasClass('showed-keditor-toolbar')) {\rbody.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcomponent.addClass('showed-keditor-toolbar');\rlet contentArea = component.parent();\rif (typeof options.onComponentSelected === 'function') {\roptions.onComponentSelected.call(self, e, component, contentArea);\r}\r}\r} else {\rif (!sidebar) {\rbody.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\r}\r}\r});\rbody.on('click', '.btn-container-setting', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-container-setting', btn);\rlet container = btn.closest('.keditor-container');\rif (body.hasClass('opened-keditor-setting') && body.hasClass('opened-keditor-sidebar')) {\rif (!container.is(self.settingContainer)) {\rself.openSidebar(container);\r} else {\rself.closeSidebar();\r}\r} else {\rself.openSidebar(container);\r}\r});\rbody.on('click', '.btn-container-duplicate', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-container-duplicate', btn);\rlet container = btn.closest('.keditor-container');\rlet contentArea = container.parent();\rlet newContainer = $(self.getContainerContent(container, btn.parent().hasClass('keditor-toolbar-sub-container')));\rcontainer.after(newContainer);\rself.convertToContainer(contentArea, newContainer);\rlog('Container is duplicated');\rif (typeof options.onContainerDuplicated === 'function') {\roptions.onContainerDuplicated.call(self, container, newContainer, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\rbody.on('click', '.btn-container-delete', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-container-delete', btn);\rif (confirm(options.confirmDeleteContainerText)) {\rlet container = btn.closest('.keditor-container');\rlet components = container.find('.keditor-component');\rlet contentArea = container.parent();\rif (typeof options.onBeforeContainerDeleted === 'function') {\roptions.onBeforeContainerDeleted.call(self, e, container, contentArea);\r}\rlet settingComponent = self.settingComponent;\rif (settingComponent) {\rlet settingComponentParent = settingComponent.closest('.keditor-container');\rif (settingComponentParent.is(container)) {\rlog('Deleting container is container of setting container. Close setting panel for this setting component', settingComponent);\rself.closeSidebar();\r}\r} else if (container.is(self.settingContainer)) {\rlog('Deleting container is setting container. Close setting panel for this container', container);\rself.closeSidebar();\r}\rif (components.length > 0) {\rcomponents.each(function () {\rself.deleteComponent($(this));\r});\r}\rcontainer.remove();\rif (typeof options.onContainerDeleted === 'function') {\roptions.onContainerDeleted.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\rbody.on('click', '.btn-component-setting', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-component-setting', btn);\rlet component = btn.closest('.keditor-component');\rif (body.hasClass('opened-keditor-setting') && body.hasClass('opened-keditor-sidebar')) {\rif (!component.is(self.settingComponent())) {\rself.openSidebar(component);\r} else {\rself.closeSidebar();\r}\r} else {\rself.openSidebar(component);\r}\r});\rbody.on('click', '.btn-component-duplicate', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-component-duplicate', btn);\rlet component = btn.closest('.keditor-component');\rlet container = component.closest('.keditor-container');\rlet contentArea = container.parent();\rlet newComponent = $(self.getComponentContent(component));\rcomponent.after(newComponent);\rself.convertToComponent(contentArea, container, newComponent);\rlog('Component is duplicated');\rif (typeof options.onComponentDuplicated === 'function') {\roptions.onComponentDuplicated.call(self, component, newComponent, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\rbody.on('click', '.btn-component-delete', function (e) {\re.preventDefault();\rlet btn = $(this);\rlog('Click on .btn-component-delete', btn);\rif (confirm(options.confirmDeleteComponentText)) {\rlet component = btn.closest('.keditor-component');\rlet container = component.closest('.keditor-container');\rlet contentArea = component.closest('.keditor-content-area');\rif (typeof options.onBeforeComponentDeleted === 'function') {\roptions.onBeforeComponentDeleted.call(self, e, component, contentArea);\r}\rif (component.is(self.settingComponent)) {\rself.closeSidebar();\r}\rself.deleteComponent(component);\rif (typeof options.onComponentDeleted === 'function') {\roptions.onComponentDeleted.call(self, e, component, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\rbody.addClass('keditor-clicks-initialized');\r\n};\r\n","import error from \"../utils/error\";\r\nimport log from '../utils/log';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebarId = self.generateId('sidebar');\rlet sidebar = self.sidebar = $(`\r<div class=\"keditor-ui keditor-sidebar\" id=\"${sidebarId}\">\r<div class=\"keditor-ui keditor-sidebar-header\">\r<span class=\"keditor-ui keditor-sidebar-title\"></span>\r<a href=\"javascript:void(0);\" class=\"keditor-ui keditor-sidebar-close\">&times;</a>\r</div>\r<div class=\"keditor-ui keditor-sidebar-body\"></div>\r</div>\r`);\rsidebar.find('.keditor-sidebar-close').on('click', function (e) {\re.preventDefault();\rself.closeSidebar();\r});\rlet sidebarBody = sidebar.find('.keditor-sidebar-body');\rsidebarBody.on('submit', 'form', function (e) {\re.preventDefault();\rreturn false;\r});\rif (options.containerSettingEnabled === true) {\rif (typeof options.containerSettingInitFunction === 'function') {\rlet form = $('<div  class=\"keditor-ui keditor-setting-form keditor-container-setting\"></div>');\rsidebarBody.append(form);\rlog('Initialize container setting panel');\roptions.containerSettingInitFunction.call(self, form, self);\r} else {\rerror('\"containerSettingInitFunction\" is not function!');\r}\r}\rsidebar.appendTo(options.iframeMode ? self.iframeWrapper : self.body);\r\n};\r\n","import SNIPPET_TYPE from '../constants/snippetType';\r\nimport error from '../utils/error';\r\nimport log from '../utils/log';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet modalId = self.generateId('modal');\rlet snippetsWrapperHtml = '';\rif (options.explicitSnippetEnabled) {\rsnippetsWrapperHtml = `\r<div class=\"keditor-snippets-wrapper keditor-snippets-wrapper-container\">\r<div class=\"keditor-snippets keditor-snippets-container\"></div>\r</div>\r<div class=\"keditor-snippets-wrapper keditor-snippets-wrapper-component\">\r<div class=\"keditor-snippets keditor-snippets-component\"></div>\r</div>\r`;\r} else {\rsnippetsWrapperHtml = `\r<div class=\"keditor-snippets-wrapper\">\r<div class=\"keditor-snippets\"></div>\r</div>\r`;\r}\rlet modal = self.modal = $(`\r<div class=\"keditor-ui keditor-modal\" id=\"${modalId}\">\r<div class=\"keditor-modal-header\">\r<button type=\"button\" class=\"keditor-modal-close\">&times;</button>\r<h4 class=\"keditor-modal-title\"></h4>\r</div>\r<div class=\"keditor-modal-body\">${snippetsWrapperHtml}</div>\r<div class=\"keditor-modal-footer\">\r<button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-default keditor-modal-close\">Close</button>\r<button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-primary keditor-modal-add\">Add</button>\r</div>\r</div>\r`);\rif (typeof options.snippetsUrl === 'string' && options.snippetsUrl.length > 0) {\rlog(`Getting snippets form \"${options.snippetsUrl}\"...`);\r$.ajax({\rtype: 'get',\rdataType: 'html',\rurl: options.snippetsUrl,\rsuccess: function (resp) {\rlog('Success in getting snippets');\rif (typeof options.onSnippetsLoaded === 'function') {\rresp = options.onSnippetsLoaded.call(self, resp) || resp;\r}\rself.renderSnippets(resp);\rif (options.snippetsFilterEnabled) {\rif (options.explicitSnippetEnabled) {\rself.initSnippetsFilter(SNIPPET_TYPE.CONTAINER);\rself.initSnippetsFilter(SNIPPET_TYPE.COMPONENT);\r} else {\rself.initSnippetsFilter(SNIPPET_TYPE.ALL);\r}\r}\r},\rerror: function (jqXHR) {\rlog('Error when getting snippets', jqXHR);\rif (typeof options.onSnippetsError === 'function') {\roptions.onSnippetsError.call(self, jqXHR);\r}\r}\r});\r// Close buttons\rmodal.find('.keditor-modal-close').on('click', function (e) {\re.preventDefault();\rself.closeModal();\r});\r// Add button\rmodal.find('.keditor-modal-add').on('click', function (e) {\re.preventDefault();\rlet selectedSnippet = modal.find('.keditor-snippets-wrapper .selected');\rif (selectedSnippet.length === 0) {\rreturn;\r}\rlet contentArea = self.modalTarget.closest('.keditor-content-area');\rlet snippetType = selectedSnippet.attr('data-type');\rlet snippetContentElement = modal.find(selectedSnippet.attr('data-snippet'));\rlet snippetContent = snippetContentElement.html();\rlet isAddingContainer = false;\rlet isAddingComponent = false;\rlet isAddingComponentWithContainer = false;\rif (options.explicitSnippetEnabled) {\rswitch (self.modalSnippetType) {\rcase SNIPPET_TYPE.COMPONENT:\risAddingComponent = true;\rbreak;\rcase SNIPPET_TYPE.CONTAINER:\risAddingContainer = true;\rbreak;\rdefault:\r// Do nothing\r}\r} else {\rif (snippetType === 'container') {\risAddingContainer = true;\r} else {\rswitch (self.modalSnippetType) {\rcase SNIPPET_TYPE.COMPONENT:\risAddingComponent = true;\rbreak;\rcase SNIPPET_TYPE.ALL:\rif (self.modalTarget.is('.keditor-container-content-inner')) {\risAddingComponent = true;\r} else {\risAddingComponentWithContainer = true;\r}\rbreak;\rdefault:\r// Do nothing\r}\r}\r}\rlet newContainer;\rlet newComponent;\rif (isAddingContainer) {\rself.body.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rnewContainer = $(`\r<section class=\"keditor-ui keditor-container showed-keditor-toolbar\">\r<section class=\"keditor-ui keditor-container-inner\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newContainer);\rif (typeof options.onContainerSnippetAdded === 'function') {\roptions.onContainerSnippetAdded.call(self, e, newContainer, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initContainer(contentArea, newContainer);\r}\rif (isAddingComponent) {\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewComponent = $(`\r<section class=\"keditor-ui keditor-component\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"keditor-ui keditor-component-content\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newComponent);\rlet container = self.modalTarget.closest('.keditor-container');\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initComponent(contentArea, container, newComponent);\r}\rif (isAddingComponentWithContainer) {\rself.body.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewContainer = $(`\r<section class=\"keditor-ui keditor-container showed-keditor-toolbar\">\r<section class=\"keditor-ui keditor-container-inner\">${options.containerForQuickAddComponent}</section>\r</section>\r`);\rnewComponent = $(`\r<section class=\"keditor-ui keditor-component\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"keditor-ui keditor-component-content\">${snippetContent}</section>\r</section>\r`);\rnewContainer.find('[data-type=\"container-content\"]').eq(0).html(newComponent);\rself.modalTarget.append(newContainer);\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initContainer(contentArea, newContainer);\r}\rself.closeModal();\r});\r// Action click for snippet\rmodal.on('click', '.keditor-snippet', function (e) {\re.preventDefault();\rlet snippet = $(this);\rif (!snippet.hasClass('selected')) {\rsnippet.parent().find('.selected').removeClass('selected');\rsnippet.addClass('selected');\r}\r});\rlet cssTransitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\rmodal.on(cssTransitionEnd, () => {\rif (!modal.hasClass('showed')) {\rmodal.css('display', 'none');\r$(document.body).removeClass('opened-modal');\r}\r});\rmodal.appendTo(document.body);\r} else {\rerror('\"snippetsUrl\" must be not null!');\r}\r\n};\r\n","import SNIPPET_TYPE from '../constants/snippetType';\r\nimport log from '../utils/log';\rexport default function (type) {\rlog('initSnippetsFilter');\rlet self = this;\rlet options = self.options;\rlet modal = self.modal;\rlet categories;\rlet snippetsWrapperSelector;\rswitch (type) {\rcase SNIPPET_TYPE.ALL:\rcategories = self.snippetsCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper';\rbreak;\rcase SNIPPET_TYPE.CONTAINER:\rcategories = self.snippetsContainerCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper-container';\rbreak;\rcase SNIPPET_TYPE.COMPONENT:\rcategories = self.snippetsComponentCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper-component';\rbreak;\rdefault:\r// Do nothing\r}\rlet categoriesOptions = '';\r$.each(categories, function (i, category) {\rcategoriesOptions += `<option value=\"${category}\">${category}</option>`;\r});\rlet snippetsWrapper = modal.find(snippetsWrapperSelector);\rlet snippets = snippetsWrapper.find('.keditor-snippets').children('.keditor-snippet');\rsnippetsWrapper.prepend(`\r<div class=\"keditor-ui keditor-snippets-filter-wrapper\">\r<select class=\"keditor-ui keditor-snippets-filter\">\r<option value=\"\" selected=\"selected\">All</option>\r${categoriesOptions}\r</select>\r<input type=\"text\" class=\"keditor-ui keditor-snippets-search\" value=\"\" placeholder=\"Type to search...\" />\r</div>\r`);\rsnippets.each(function () {\rlet snippet = $(this);\rlet categories = snippet.attr('data-keditor-categories') || '';\rlet filterCategories = categories.toLowerCase();\rcategories = categories.split(options.snippetsCategoriesSeparator);\rfilterCategories = filterCategories.split(options.snippetsCategoriesSeparator);\rsnippet.data('categories', categories);\rsnippet.data('categoriesFilter', filterCategories);\r});\rlet txtSearch = snippetsWrapper.find('.keditor-snippets-search');\rlet cbbFilter = snippetsWrapper.find('.keditor-snippets-filter');\rlet doFilter = function () {\rlet selectedCategory = (cbbFilter.val() || '').toLowerCase();\rlet searchText = (txtSearch.val() || '').toLowerCase();\rsnippets.filter('.selected').removeClass('selected');\rif (selectedCategory || searchText) {\rlog('Filtering snippets');\rsnippets.each(function () {\rlet snippet = $(this);\rlet dataCategories = snippet.data('categoriesFilter');\rlet dataCategoriesString = dataCategories.join(';');\rlet error = 0;\rif (selectedCategory) {\rif ($.inArray(selectedCategory, dataCategories) === -1) {\rerror++;\r}\r}\rif (searchText) {\rlet title = snippet.attr('title').toLowerCase();\rif (title.indexOf(searchText) === -1 && dataCategoriesString.indexOf(searchText) === -1) {\rerror++;\r}\r}\rsnippet[error === 0 ? 'removeClass' : 'addClass']('not-matched');\r});\r} else {\rlog('Show all snippets');\rsnippets.removeClass('not-matched');\r}\r};\rcbbFilter.on('change', function () {\rdoFilter();\r});\rlet timer;\rtxtSearch.on('keydown', function () {\rclearTimeout(timer);\rtimer = setTimeout(doFilter, 200);\r});\r\n};\r\n","import SNIPPET_TYPE from '../constants/snippetType';\r\nimport log from '../utils/log';\rexport default function (target, snippetType) {\rlog('openModal', target, snippetType);\rlet self = this;\rlet modal = self.modal;\rlet options = self.options;\rlet modalTitle = '';\rswitch (snippetType) {\rcase SNIPPET_TYPE.CONTAINER:\rmodalTitle = 'Add container';\rbreak;\rcase SNIPPET_TYPE.COMPONENT:\rmodalTitle = 'Add component';\rbreak;\rdefault:\r// Do nothing\r}\rif (options.explicitSnippetEnabled) {\rmodal.find('.keditor-snippets-wrapper').css('display', 'none');\rmodal.find(snippetType === SNIPPET_TYPE.COMPONENT ? '.keditor-snippets-wrapper-component' : '.keditor-snippets-wrapper-container').css('display', 'block');\r} else {\rmodal.find('.keditor-snippets-wrapper').css('display', 'block').find('.keditor-snippet[data-type=container]').css('display', snippetType === SNIPPET_TYPE.COMPONENT ? 'none' : 'block');\rmodalTitle = 'Add content';\r}\rmodal.find('.keditor-modal-title').html(modalTitle);\rself.modalTarget = target;\rself.modalSnippetType = snippetType;\rmodal.css('display', 'block');\r$(document.body).addClass('opened-modal');\rsetTimeout(() => {\rmodal.addClass('showed');\r}, 0);\r\n};\r\n","export default function () {\rlet self = this;\rlet modal = self.modal;\rself.modalTarget = null;\rself.modalAction = null;\rmodal.find('.keditor-modal-title').html('');\rmodal.find('.keditor-snippets-wrapper .selected').removeClass('selected');\rmodal.removeClass('showed');\r\n};\r\n","import log from '../utils/log';\rexport default function () {\rlog('initContentAreas');\rlet self = this;\rlet contentAreasWrapper = self.contentAreasWrapper;\rlet options = self.options;\rlet contentAreas;\rif (options.contentAreasSelector) {\rcontentAreas = contentAreasWrapper.find(options.contentAreasSelector);\r}\rif (!contentAreas || contentAreas.length === 0) {\rlog('Do not find any content area. Creating default content area...');\rlet originalContent = contentAreasWrapper.html();\rcontentAreas = $('<div />').html(originalContent);\rcontentAreasWrapper.empty().append(contentAreas);\r}\rcontentAreas.each(function () {\rlet contentArea = $(this);\rif (!contentArea.attr('id')) {\rcontentArea.attr('id', self.generateId('content-area'));\r}\rself.initContentArea(contentArea);\r});\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport SNIPPET_TYPE from \"../constants/snippetType\";\r\nimport log from '../utils/log';\rexport default function (contentArea, dontInitToolbar) {\rlog('initContentArea', contentArea);\rlet self = this;\rlet options = self.options;\rcontentArea.addClass('keditor-content-area');\rlet content = contentArea.html();\rlet contentAreaInner = $('<div class=\"keditor-content-area-inner\"></div>').html(content);\rcontentArea.html(contentAreaInner);\rif (typeof options.onBeforeInitContentArea === 'function') {\roptions.onBeforeInitContentArea.call(self, contentArea);\r}\rif (!dontInitToolbar) {\rlet contentAreaToolbar = $(self.generateToolbar(TOOLBAR_TYPE.CONTENT_AREA));\rcontentArea.append(contentAreaToolbar);\rcontentAreaToolbar.children(options.explicitSnippetEnabled ? '.btn-add-container' : '.btn-add-content').on('click', function (e) {\re.preventDefault();\rself.openModal(contentAreaInner, options.explicitSnippetEnabled ? SNIPPET_TYPE.CONTAINER : SNIPPET_TYPE.ALL);\r});\r}\rlog('Initialize $.fn.sortable for content area');\rcontentAreaInner.sortable({\rhandle: '.keditor-toolbar-container:not(.keditor-toolbar-sub-container) .btn-container-reposition',\ritems: '> section',\rhelper: 'clone',\rconnectWith: '.keditor-content-area',\raxis: 'y',\rtolerance: 'pointer',\rsort: function () {\r$(this).removeClass('ui-state-default');\r},\rreceive: function (event, ui) {\rlog('On received snippet', event, ui);\rlet helper = ui.helper;\rlet item = ui.item;\rif (helper) {\rhelper.remove();\r}\rself.closeSidebar();\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.addClass('keditor-ui-dragging');\r},\rstart: function (e, ui) {\rui.item.addClass('keditor-ui-dragging');\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass('keditor-ui-dragging');\r}\r});\rlog('Initialize existing containers in content area');\rcontentAreaInner.children('section').each(function () {\rself.convertToContainer(contentArea, $(this));\r});\rif (typeof options.onInitContentArea === 'function') {\rlet contentData = options.onInitContentArea.call(self, contentArea);\rif (contentData && contentData.length > 0) {\r$.each(contentData, function () {\rself.convertToContainer(contentArea, $(this));\r});\r}\r}\r\n};\r\n","import log from '../utils/log';\rexport default function (contentArea, target) {\rlog('convertToContainer', contentArea, target);\rlet self = this;\rlet container;\rif (target.is('section')) {\rtarget.addClass('keditor-ui keditor-container');\rtarget.wrapInner('<section class=\"keditor-ui keditor-container-inner\"></section>');\rcontainer = target;\r} else {\rtarget.wrap('<section class=\"keditor-ui keditor-container\"><section class=\"keditor-ui keditor-container-inner\"></section></section>');\rcontainer = target.parent().parent();\r}\rself.initContainer(contentArea, container);\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport log from '../utils/log';\rexport default function (contentArea, container) {\rlet self = this;\rlet options = self.options;\rlet isNested = options.nestedContainerEnabled && container.closest('[data-type=\"container-content\"]').length > 0;\rlog(`initContainer - isNested=${isNested}`, contentArea, container);\rif (!container.hasClass('keditor-initialized-container') || !container.hasClass('keditor-initializing-container')) {\rcontainer.addClass('keditor-initializing-container');\rif (typeof options.onBeforeInitContainer === 'function') {\roptions.onBeforeInitContainer.call(self, container, contentArea);\r}\rif (isNested) {\rcontainer.addClass('keditor-sub-container');\r}\rlog('Render KEditor toolbar for container', container);\rcontainer.append(self.generateToolbar(isNested ? TOOLBAR_TYPE.SUB_CONTAINER : TOOLBAR_TYPE.CONTAINER));\rcontainer.attr('id', self.generateId(isNested ? 'sub-container' : 'container'));\rlet containerContents = container.find('[data-type=\"container-content\"]');\rlog(`Initialize ${containerContents.length} container content(s)`);\rcontainerContents.each(function () {\rlet containerContent = $(this);\rif (options.nestedContainerEnabled && !isNested && containerContent.parents('[data-type=\"container-content\"]').length > 0) {\r// Do nothing because it's container content of sub container\rreturn;\r}\rself.initContainerContent(contentArea, container, containerContent, isNested);\r});\rif (typeof options.onInitContainer === 'function') {\roptions.onInitContainer.call(self, container, contentArea);\r}\rcontainer.addClass('keditor-initialized-container');\rcontainer.removeClass('keditor-initializing-container');\r} else {\rif (container.hasClass('keditor-initialized-container')) {\rlog('Container is already initialized!');\r} else {\rlog('Container is initializing...');\r}\r}\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport SNIPPET_TYPE from \"../constants/snippetType\";\r\nimport log from '../utils/log';\rexport default function (contentArea, container, containerContent, isNested) {\rlog(`initContainerContent - isNested=${isNested}`, contentArea, container, containerContent);\rlet self = this;\rlet options = self.options;\rcontainerContent.addClass('keditor-container-content');\rif (isNested) {\rcontainerContent.addClass('keditor-sub-container-content');\r}\rcontainerContent.attr('id', self.generateId('container-content'));\rlet containerContentInner = $('<div class=\"keditor-container-content-inner\"></div>');\rcontainerContentInner.html(containerContent.html());\rcontainerContent.html(containerContentInner);\rlog('Initialize toolbar for container content');\rlet containerContentToolbar = $(self.generateToolbar(isNested ? TOOLBAR_TYPE.SUB_CONTAINER_CONTENT : TOOLBAR_TYPE.CONTAINER_CONTENT));\rcontainerContentToolbar.appendTo(containerContent);\rif (options.explicitSnippetEnabled) {\rif (!isNested) {\rif (options.explicitSnippetEnabled) {\rcontainerContentToolbar.children('.btn-add-container').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, SNIPPET_TYPE.CONTAINER);\r});\r}\r}\rcontainerContentToolbar.children('.btn-add-component').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, SNIPPET_TYPE.COMPONENT);\r});\r} else {\rcontainerContentToolbar.children('.btn-add-content').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, isNested ? SNIPPET_TYPE.COMPONENT : options.nestedContainerEnabled ? SNIPPET_TYPE.ALL : SNIPPET_TYPE.COMPONENT);\r});\r}\rlog('Initialize $.fn.sortable for container content');\rcontainerContentInner.sortable({\rhandle: '.btn-component-reposition, .btn-container-reposition',\rhelper: 'clone',\ritems: '> section',\rconnectWith: '.keditor-container-content-inner',\rtolerance: 'pointer',\rsort: function () {\r$(this).removeClass('ui-state-default');\r},\rreceive: function (event, ui) {\rlog('On received snippet', event, ui);\rlet helper = ui.helper;\rlet item = ui.item;\rlet container;\rif (helper) {\rhelper.remove();\r}\rcontainer = item.closest('.keditor-container');\rif (!container.hasClass('showed-keditor-toolbar')) {\r$('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontainer.addClass('showed-keditor-toolbar');\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, event, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.removeClass('keditor-ui-dragging');\r},\rstart: function (e, ui) {\rui.item.addClass('keditor-ui-dragging');\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass('keditor-ui-dragging');\r}\r});\rlog('Initialize existing components inside container content');\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.find('[data-type=\"container-content\"]').length > 0) {\rself.convertToContainer(contentArea, child);\r} else {\rself.convertToComponent(contentArea, container, child, true);\r}\r});\r\n};\r\n","import log from '../utils/log';\rexport default function (contentArea, container, target, isExisting) {\rlog('convertToComponent', contentArea, container, target, isExisting);\rif (target.is('.keditor-container-content-toolbar')) {\rreturn;\r}\rlet self = this;\rlet isSection = target.is('section');\rlet component;\rif (isSection) {\rtarget.addClass('keditor-ui keditor-component');\rtarget.wrapInner('<section class=\"keditor-ui keditor-component-content\"></section>');\rcomponent = target;\r} else {\rtarget.wrap('<section class=\"keditor-ui keditor-component\"><section class=\"keditor-ui keditor-component-content\"></section></section>');\rcomponent = target.parent().parent();\r}\rif (isExisting) {\rcomponent.addClass('existing-component');\r}\rself.initComponent(contentArea, container, component);\r\n};\r\n","import log from '../utils/log';\rexport default function (dynamicElement) {\rlog('initDynamicContent', dynamicElement);\rlet self = this;\rlet options = self.options;\rlet component = dynamicElement.closest('.keditor-component');\rlet contentArea = dynamicElement.closest('.keditor-content-area');\rdynamicElement.attr('id', self.generateId('dynamic-element'));\rif (typeof options.onBeforeDynamicContentLoad === 'function') {\roptions.onBeforeDynamicContentLoad.call(self, dynamicElement, component, contentArea);\r}\rlet dynamicHref = dynamicElement.attr('data-dynamic-href');\rlet data = self.getDataAttributes(component, ['data-type', 'data-dynamic-href'], false);\rdata = $.param(data);\rlog(`Dynamic href: ${dynamicHref}, Data: ${data}`);\rreturn $.ajax({\rurl: dynamicHref,\rdata: data,\rtype: 'GET',\rdataType: 'HTML',\rsuccess: function (response, status, xhr) {\rlog('Dynamic content is loaded', dynamicElement, response, status, xhr);\rdynamicElement.html(response);\rif (typeof options.onDynamicContentLoaded === 'function') {\roptions.onDynamicContentLoaded.call(self, dynamicElement, response, status, xhr, contentArea);\r}\r},\rerror: function (response, status, xhr) {\rlog('Error when loading dynamic content', dynamicElement, response, status, xhr);\rif (typeof options.onDynamicContentError === 'function') {\roptions.onDynamicContentError.call(self, dynamicElement, response, status, xhr, contentArea);\r}\r}\r});\r\n};\r\n","import log from '../utils/log';\rexport default function (container, isNested) {\rlog(`getContainerContent - isNested=${isNested}`, container);\rlet self = this;\rlet containerInner = container.children('.keditor-container-inner').clone();\rcontainerInner.find('[data-type=container-content]').not(isNested ? '' : '.keditor-sub-container-content').each(function () {\rlet containerContent = $(this);\rcontainerContent.removeClass('keditor-container-content keditor-sub-container-content ui-sortable').removeAttr('id');\rlet containerContentInner = containerContent.children();\rlet content = '';\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.is('.keditor-component')) {\rcontent += self.getComponentContent(child);\r} else if (child.is('.keditor-sub-container')) {\rcontent += self.getContainerContent(child, true);\r}\r});\rcontainerContent.html(content);\r});\rreturn `<section>${containerInner.html()}</section>`;\r\n}","export default function (inArray) {\rlet self = this;\rlet result = [];\rself.contentAreasWrapper.find('.keditor-content-area-inner').each(function () {\rlet html = '';\r$(this).children('.keditor-container').each(function () {\rlet container = $(this);\rhtml += self.getContainerContent(container);\r});\rresult.push(html);\r});\rreturn inArray ? result : result.join('\\n');\r\n};\r\n","import error from \"./utils/error\";\rexport default function (content, contentArea) {\rlet self = this;\rlet contentAreasWrapper = self.contentAreasWrapper;\rif (!contentArea) {\rcontentArea = contentAreasWrapper.children('.keditor-content-area');\r} else {\rif (!contentArea.jquery) {\rcontentArea = contentAreasWrapper.find(contentArea);\r}\r}\rif (contentArea.length === 0) {\rerror('Content area does not exist!');\r}\rcontentArea.html(content);\rself.initContentArea(contentArea, true);\r\n};\r\n"],"sourceRoot":""}