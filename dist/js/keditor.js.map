{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/keditor/component/convertToComponent.js","webpack:///./src/keditor/component/deleteComponent.js","webpack:///./src/keditor/component/getComponentContent.js","webpack:///./src/keditor/component/getComponentType.js","webpack:///./src/keditor/component/initComponent.js","webpack:///./src/keditor/component/initDynamicContent.js","webpack:///./src/keditor/constants/classNames.js","webpack:///./src/keditor/constants/defaults.js","webpack:///./src/keditor/constants/snippetType.js","webpack:///./src/keditor/constants/toolbarType.js","webpack:///./src/keditor/container/convertToContainer.js","webpack:///./src/keditor/container/getContainerContent.js","webpack:///./src/keditor/container/initContainer.js","webpack:///./src/keditor/container/initContainerContent.js","webpack:///./src/keditor/contentArea/initContentArea.js","webpack:///./src/keditor/contentArea/initContentAreaWrapper.js","webpack:///./src/keditor/contentArea/initContentAreas.js","webpack:///./src/keditor/destroy.js","webpack:///./src/keditor/getContent.js","webpack:///./src/keditor/iframe/initIframeActions.js","webpack:///./src/keditor/iframe/initIframeCover.js","webpack:///./src/keditor/index.js","webpack:///./src/keditor/init.js","webpack:///./src/keditor/modal/closeModal.js","webpack:///./src/keditor/modal/initSnippetsModal.js","webpack:///./src/keditor/modal/openModal.js","webpack:///./src/keditor/setContent.js","webpack:///./src/keditor/sidebar/closeSidebar.js","webpack:///./src/keditor/sidebar/initSidebar.js","webpack:///./src/keditor/sidebar/openSidebar.js","webpack:///./src/keditor/snippet/addSnippet.js","webpack:///./src/keditor/snippet/initSnippetsFilter.js","webpack:///./src/keditor/snippet/renderSnippet.js","webpack:///./src/keditor/snippet/renderSnippetFilter.js","webpack:///./src/keditor/snippet/renderSnippets.js","webpack:///./src/keditor/topbar/initDeviceSwitcher.js","webpack:///./src/keditor/topbar/initTopbar.js","webpack:///./src/keditor/topbar/initTopbarRightActions.js","webpack:///./src/keditor/utils/beautifyCategories.js","webpack:///./src/keditor/utils/generateId.js","webpack:///./src/keditor/utils/generateToolbar.js","webpack:///./src/keditor/utils/getClickedElement.js","webpack:///./src/keditor/utils/getDataAttributes.js","webpack:///./src/keditor/utils/log.js","webpack:///./src/styles/keditor.less?26f3","webpack:///external \"jQuery\""],"names":["contentArea","container","target","isExisting","is","self","isSection","component","addClass","wrapInner","wrap","parent","initComponent","componentType","getComponentType","componentData","KEditor","components","destroy","call","remove","clonedComponent","clone","dataAttributes","getDataAttributes","content","iframeWrapper","find","length","iframe","children","hasClass","unwrap","removeClass","getContent","componentContent","html","each","$","join","options","attr","replace","defaultComponentType","error","generateId","onBeforeInitComponent","append","generateToolbar","TOOLBAR_TYPE","COMPONENT","settingEnabled","dynamicElement","initDynamicContent","init","onInitComponent","closest","onBeforeDynamicContentLoad","dynamicHref","data","param","ajax","url","type","dataType","success","response","status","jqXHR","onDynamicContentLoaded","textStatus","errorThrown","onDynamicContentError","CLASS_NAMES","UI","WRAPPER","HIDDEN_ELEMENT","SIDEBAR","SIDEBAR_HEADER","SIDEBAR_BODY","SIDEBAR_TITLE","SIDEBAR_CLOSER","SIDEBAR_OPENED","TOPBAR","TOPBAR_LEFT","TOPBAR_RIGHT","TOPBAR_CENTER","TOPBAR_BUTTON","TOPBAR_BUTTON_ACTIVE","TOPBAR_TITLE","SETTING","SETTING_CONTAINER","SETTING_FORM","SETTING_FORM_ACTIVE","CONTENT_AREAS_WRAPPER","CONTENT_AREAS","CONTENT_AREA","IFRAME","IFRAME_WRAPPER","IFRAME_FAKER","IFRAME_COVER_WRAPPER","IFRAME_COVER","IFRAME_COVER_HIDDEN","PREVIEW_AREA","title","nestedContainerEnabled","explicitSnippetEnabled","containerForQuickAddComponent","btnAddContentText","btnAddContainerText","btnAddSubContainerText","btnAddComponentText","btnMoveContainerText","btnMoveComponentText","btnSettingContainerText","btnSettingComponentText","btnDuplicateContainerText","btnDuplicateComponentText","btnDeleteContainerText","btnDeleteComponentText","confirmDeleteContainerText","confirmDeleteComponentText","widthMobile","widthTablet","snippetsUrl","snippetsFilterEnabled","snippetsCategoriesSeparator","contentStyles","contentAreasSelector","contentAreasWrapper","containerSettingEnabled","containerSettingInitFunction","containerSettingShowFunction","containerSettingHideFunction","onReady","onSave","onSnippetsLoaded","resp","onSnippetsError","onInitIframe","iframeHead","iframeBody","onContentChanged","event","onBeforeInitContentArea","onInitContentArea","onBeforeInitContainer","onInitContainer","onBeforeContainerDeleted","selectedContainer","onContainerDeleted","onContainerChanged","changedContainer","onContainerDuplicated","originalContainer","newContainer","onContainerSelected","onContainerSnippetAdded","selectedSnippet","onComponentReady","onBeforeComponentDeleted","selectedComponent","onComponentDeleted","onComponentChanged","changedComponent","onComponentDuplicated","originalComponent","newComponent","onComponentSelected","onComponentSnippetAdded","ALL","CONTAINER","SUB_CONTAINER","CONTAINER_CONTENT","SUB_CONTAINER_CONTENT","initContainer","isNested","containerInner","not","containerContent","removeAttr","containerContentInner","child","getComponentContent","getContainerContent","containerContents","parents","initContainerContent","containerContentToolbar","appendTo","on","e","preventDefault","openModal","SNIPPET_TYPE","sortable","handle","helper","items","connectWith","tolerance","sort","receive","ui","item","start","stop","convertToContainer","convertToComponent","dontInitToolbar","contentAreaInner","contentAreaToolbar","axis","closeSidebar","contentData","element","wrapper","after","iframeDoc","contents","get","open","close","iframeWindow","contentWindow","contentDocument","defaultView","styles","style","idStr","href","isArray","i","id","val","initContentAreas","initIframeActions","contentAreas","originalContent","empty","initContentArea","instances","inArray","result","push","sidebar","getClickedElement","modal","btn","settingContainer","openSidebar","confirm","settingComponent","settingComponentParent","deleteComponent","cover","prepend","fn","window","KEDITOR_DEBUG","args","log","apply","message","Error","config","isComponentConfigurable","categories","beautifyCategories","ignoreAttributes","selector","initIframeCover","initTopbar","initDeviceSwitcher","initTopbarRightActions","initSidebar","initSnippetsModal","renderSnippets","initSnippetsFilter","snippetType","closeModal","initContentAreaWrapper","setContent","previewUrl","addSnippet","DEFAULTS","blank","keditor","instance","Array","prototype","slice","arguments","constructor","extend","modalTarget","modalAction","modalId","snippetsWrapperHtml","snippetContentElement","snippetContent","isAddingContainer","isAddingComponent","isAddingComponentWithContainer","modalSnippetType","body","eq","snippet","cssTransitionEnd","css","document","modalTitle","setTimeout","jquery","activeForm","activeType","hideSettingForm","setSettingComponent","setSettingContainer","sidebarId","sidebarBody","form","alert","sidebarTitle","settingTitle","settingFormClass","settingForm","initSettingForm","loadingText","initFunction","when","done","showSettingForm","extraData","renderSnippet","snippetPreviewHtml","snippetContentHtml","snippetsContainerCategories","snippetsComponentCategories","snippetsCategories","indexOf","filterType","renderSnippetFilter","categoriesOptions","snippetsWrapper","trigger","txtSearch","cbbFilter","doFilter","selectedCategory","toLowerCase","searchText","snippets","filter","dataCategoriesString","dataCategories","split","timer","clearTimeout","snippetId","concat","snippetsWrapperSelector","category","snippetsContainerHtml","snippetsComponentHtml","snippetsContentHtml","trim","topbarCenter","btnMobile","btnTablet","btnDesktop","topbarId","topbar","topbarLeft","topbarRight","btnPreview","iconPreviewOff","iconPreviewOn","previewArea","isPreviewOn","btnSave","newArray","timestamp","Date","getTime","random","Math","round","settingBtn","toolbarClass","attributes","name","value","console"],"mappings":"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","file":"js/keditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jQuery\")) : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_jquery__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/keditor/index.js\");\n","export default function (contentArea, container, target, isExisting) {\rif (target.is('.keditor-container-content-toolbar')) {\rreturn;\r}\rlet self = this;\rlet isSection = target.is('section');\rlet component;\rif (isSection) {\rtarget.addClass('keditor-ui keditor-component');\rtarget.wrapInner('<section class=\"keditor-ui keditor-component-content\"></section>');\rcomponent = target;\r} else {\rtarget.wrap('<section class=\"keditor-ui keditor-component\"><section class=\"keditor-ui keditor-component-content\"></section></section>');\rcomponent = target.parent().parent();\r}\rif (isExisting) {\rcomponent.addClass('existing-component');\r}\rself.initComponent(contentArea, container, component);\r\n};\r\n","export default function (component) {\rlet self = this;\rlet componentType = self.getComponentType(component);\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.destroy === 'function') {\rcomponentData.destroy.call(componentData, component, self);\r}\rcomponent.remove();\r\n};\r\n","export default function (component) {\rlet self = this;\rlet clonedComponent = component.clone();\rlet componentType = self.getComponentType(clonedComponent);\rlet componentData = KEditor.components[componentType];\rlet dataAttributes = self.getDataAttributes(clonedComponent, null, true);\rlet content;\r// Handle iframe-wrapper\rlet iframeWrapper = component.find('.keditor-iframe-wrapper');\rif (iframeWrapper.length > 0) {\riframeWrapper.find('.keditor-iframe-cover').remove();\rlet iframe = iframeWrapper.children('iframe');\rif (iframeWrapper.hasClass('keditor-iframe-wrapper-fake')) {\riframe.unwrap();\r} else {\riframeWrapper.removeClass('keditor-iframe-wrapper');\r}\r}\rif (typeof componentData.getContent === 'function') {\rcontent = componentData.getContent.call(componentData, clonedComponent, self);\r} else {\rlet componentContent = clonedComponent.children('.keditor-component-content');\rcontent = componentContent.html();\r}\rclonedComponent.html(content).find('[data-dynamic-href]').each(function () {\r$(this).html('');\r});\rreturn `<section ${dataAttributes.join(' ')}>${clonedComponent.html()}</section>`;\r\n};\r\n","export default function (component) {\rlet self = this;\rlet options = self.options;\rlet componentType = (component.attr('data-type') || '').replace('component-', '');\rif (componentType && (componentType in KEditor.components)) {\rreturn componentType;\r} else {\rif (typeof options.defaultComponentType === 'string') {\rcomponentType = options.defaultComponentType;\r} else if (typeof options.defaultComponentType === 'function') {\rcomponentType = options.defaultComponentType.call(self, component);\r}\rif (!componentType) {\rself.error('Component type is undefined!');\r}\rreturn componentType;\r}\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\rexport default function (contentArea, container, component) {\rlet self = this;\rlet options = self.options;\rif (!component.hasClass('keditor-initialized-component') || !component.hasClass('keditor-initializing-component')) {\rcomponent.addClass('keditor-initializing-component');\rcomponent.attr('id', self.generateId());\rif (typeof options.onBeforeInitComponent === 'function') {\roptions.onBeforeInitComponent.call(self, component, contentArea);\r}\rlet componentContent = component.children('.keditor-component-content');\rcomponentContent.attr('id', self.generateId());\rlet componentType = self.getComponentType(component);\rlet componentData = KEditor.components[componentType];\rcomponent.append(self.generateToolbar(TOOLBAR_TYPE.COMPONENT, componentData.settingEnabled));\rcomponent.find('[data-dynamic-href]').each(function () {\rlet dynamicElement = $(this);\rself.initDynamicContent(dynamicElement);\r});\rif (typeof componentData.init === 'function') {\rcomponentData.init.call(componentData, contentArea, container, component, self);\r}\rif (typeof options.onInitComponent === 'function') {\roptions.onInitComponent.call(self, component, contentArea);\r}\rcomponent.addClass('keditor-initialized-component');\rcomponent.removeClass('keditor-initializing-component');\r}\r\n};\r\n","export default function (dynamicElement) {\rlet self = this;\rlet options = self.options;\rlet component = dynamicElement.closest('.keditor-component');\rlet contentArea = dynamicElement.closest('.keditor-content-area');\rdynamicElement.attr('id', self.generateId());\rif (typeof options.onBeforeDynamicContentLoad === 'function') {\roptions.onBeforeDynamicContentLoad.call(self, dynamicElement, component, contentArea);\r}\rlet dynamicHref = dynamicElement.attr('data-dynamic-href');\rlet data = self.getDataAttributes(component, ['data-type', 'data-dynamic-href'], false);\rdata = $.param(data);\rreturn $.ajax({\rurl: dynamicHref,\rdata: data,\rtype: 'GET',\rdataType: 'HTML',\rsuccess: function (response, status, jqXHR) {\rdynamicElement.html(response);\rif (typeof options.onDynamicContentLoaded === 'function') {\roptions.onDynamicContentLoaded.call(self, dynamicElement, jqXHR, contentArea);\r}\r},\rerror: function (jqXHR, textStatus, errorThrown ) {\rif (typeof options.onDynamicContentError === 'function') {\roptions.onDynamicContentError.call(self, dynamicElement, jqXHR, contentArea);\r}\r}\r});\r\n};\r\n","const CLASS_NAMES = {\rUI: 'keditor-ui',\rWRAPPER: 'keditor-wrapper',\rHIDDEN_ELEMENT: 'keditor-hidden-element',\rSIDEBAR: 'keditor-sidebar',\rSIDEBAR_HEADER: 'keditor-sidebar-header',\rSIDEBAR_BODY: 'keditor-sidebar-body',\rSIDEBAR_TITLE: 'keditor-sidebar-title',\rSIDEBAR_CLOSER: 'keditor-sidebar-closer',\rSIDEBAR_OPENED: 'opened',\rTOPBAR: 'keditor-topbar',\rTOPBAR_LEFT: 'keditor-topbar-left',\rTOPBAR_RIGHT: 'keditor-topbar-right',\rTOPBAR_CENTER: 'keditor-topbar-center',\rTOPBAR_BUTTON: 'keditor-topbar-btn',\rTOPBAR_BUTTON_ACTIVE: 'active',\rTOPBAR_TITLE: 'keditor-topbar-title',\rSETTING: 'keditor-setting',\rSETTING_CONTAINER: 'keditor-setting-container',\rSETTING_FORM: 'keditor-setting-form',\rSETTING_FORM_ACTIVE: 'active',\rCONTENT_AREAS_WRAPPER: 'keditor-content-areas-wrapper',\rCONTENT_AREAS: 'keditor-content-areas',\rCONTENT_AREA: 'keditor-content-area',\rIFRAME: 'keditor-iframe',\rIFRAME_WRAPPER: 'keditor-iframe-wrapper',\rIFRAME_FAKER: 'keditor-iframe-faker',\rIFRAME_COVER_WRAPPER: 'keditor-iframe-cover-wrapper',\rIFRAME_COVER: 'keditor-iframe-cover',\rIFRAME_COVER_HIDDEN: 'hidden-cover',\rCOMPONENT: 'keditor-component',\rPREVIEW_AREA: 'keditor-preview-area',\r\n};\rexport default CLASS_NAMES;\r\n","import CLASS_NAMES from './classNames';\rexport default {\r/*\r* Title will be showed in left of topbar\r* @option {String}\r*/\rtitle: 'Editing with KEditor',\r/*\r* Enable nested container or not\r* @option {Boolean}\r*/\rnestedContainerEnabled: true,\r/*\r* Enable explicit snippet or not. When disable, there is only one button for adding. If add button is in content area or container, you can add component or containers. If add button is in sub-container, you just can add only component. When you add component in content area, please make sure you config \"containerForQuickAddComponent\" option\r* @option {Boolean}\r*/\rexplicitSnippetEnabled: false,\r/*\r* containerForQuickAddComponent The container snippet which will be added automatically in content are when you adding a component. Note: component will be added in first container content of container\r* @option {String}\r*/\rcontainerForQuickAddComponent: `\r<div class=\"row\">\r<div class=\"col-sm-12\" data-type=\"container-content\">\r</div>\r</div>\r`,\r/*\r* Text content for add content button. This available only when \"explicitSippetEnabled\" is \"false\"\r* @option {String}\r*/\rbtnAddContentText: '<i class=\"fa fa-plus\"></i>',\r/*\r* Text content for add container button\r* @option {String}\r*/\rbtnAddContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\r/*\r* Text content for add sub-container button\r* @option {String}\r*/\rbtnAddSubContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\r/*\r* Text content for add component button\r* @option {String}\r*/\rbtnAddComponentText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-list-ul\"></i>',\r/*\r* Text content for move button of container\r* @option {String}\r*/\rbtnMoveContainerText: '<i class=\"fa fa-sort\"></i>',\r/*\r* Text content for move button of component\r* @option {String}\r*/\rbtnMoveComponentText: '<i class=\"fa fa-arrows\"></i>',\r/*\r* Text content for setting button of container\r* @option {String}\r*/\rbtnSettingContainerText: '<i class=\"fa fa-cog\"></i>',\r/*\r* Text content for setting button of component\r* @option {String}\r*/\rbtnSettingComponentText: '<i class=\"fa fa-cog\"></i>',\r/*\r* Text content for duplicate button of container\r* @option {String}\r*/\rbtnDuplicateContainerText: '<i class=\"fa fa-files-o\"></i>',\r/*\r* Text content for duplicate button of component\r* @option {String}\r*/\rbtnDuplicateComponentText: '<i class=\"fa fa-files-o\"></i>',\r/*\r* Text content for delete button of container\r* @option {String}\r*/\rbtnDeleteContainerText: '<i class=\"fa fa-times\"></i>',\r/*\r* Text content for delete button of component\r* @option {String}\r*/\rbtnDeleteComponentText: '<i class=\"fa fa-times\"></i>',\r/*\r* Text content for confirm dialog when deleting container\r* @option {String}\r*/\rconfirmDeleteContainerText: 'Are you sure that you want to delete this container? This action can not be undone!',\r/*\r* Text content for confirm dialog when deleting container\r* @option {String}\r*/\rconfirmDeleteComponentText: 'Are you sure that you want to delete this component? This action can not be undone!',\r/*\r* Width of mobile device\r* @option {Number}\r*/\rwidthMobile: 320,\r/*\r* Width of tablet device\r* @option {Number}\r*/\rwidthTablet: 768,\r/*\r* Default component type of component. If type of component does not exist in KEditor.components, will be used \"defaultComponentType\" as type of this component. If is function, argument is component\r* @option {String|Function}\r* @param {jQuery} component\r*/\rdefaultComponentType: 'blank',\r/*\r* Url to snippets file\r* @option {String}\r*/\rsnippetsUrl: 'snippets/snippets.html',\r/*\r* Enable filtering snippets by categories and text searching or not\r* @option {Boolean}\r*/\rsnippetsFilterEnabled: true,\r/*\r* The separator character between each categories\r* @option {String}\r*/\rsnippetsCategoriesSeparator: ';',\r/*\r* Content styles for iframe mode. Beside of this option, KEditor will add all elements which have 'data-type=keditor-style' for iframe stylesheet. These elements can be 'link', 'style' or any tags. If these elements have 'href' attribute, will create link tag with href. If these elements do not have 'href' attribute, will create style tag with css rule is html code inside element\r* @option {Array<Object>}\r* @example:\r* [\r*     {\r*         href: '/path/to/style/file'\r*     }, {\r*         content: 'a { color: red; }'\r*     }\r* ]\r*/\rcontentStyles: [],\r/*\r* Selector of content areas. If is null or selector does not match any elements, will create default content area and wrap all content inside it.\r* @option {String}\r*/\rcontentAreasSelector: null,\r/*\r* The wrapper element for all contents inside iframe or new div which will contains content of textarea. It's just for displaying purpose. If you want all contents inside iframe are appended into body tag, just leave it as blank\r* @option {String}\r*/\rcontentAreasWrapper: `<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREAS_WRAPPER}\"></div>`,\r/*\r* Enable setting panel for container\r* @option {Boolean}\r*/\rcontainerSettingEnabled: false,\r/*\r* Method will be called when initializing setting panel for container\r* @option {Function}\r* @param {jQuery} container\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingInitFunction: null,\r/*\r* Method will be called when setting panel for container is showed\r* @option {Function}\r* @param {jQuery} settingForm\r* @param {jQuery} container\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingShowFunction: null,\r/*\r* Method will be called when setting panel for container is hidden\r* @option {Function}\r* @param {jQuery} settingForm\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingHideFunction: null,\r/*\r* Callback will be called after keditor instance is ready\r* @option {Function}\r*/\ronReady: function () {\r},\r/*\r* Callback will be called after clicking on \"Save\" button in topbar\r* @option {Function}\r* @param {String} content\r*/\ronSave: function (content) {\r},\r/*\r* Callback will be called after snippets are loaded. If you want to modify snippets content, please return modified\r* @option {Function}\r* @param {String} resp\r* @return {String}\r*/\ronSnippetsLoaded: function (resp) {\r},\r/*\r* Callback will be called when error in loading snippets\r* @option {Function}\r* @param {jqXHR} jqXHR\r*/\ronSnippetsError: function (jqXHR) {\r},\r/*\r* Callback will be called after iframe and content areas wrapper inside it are created\r* @option {Function}\r* @param {jQuery} iframe\r* @param {jQuery} iframeHead\r* @param {jQuery} iframeBody\r*/\ronInitIframe: function (iframe, iframeHead, iframeBody) {\r},\r/*\r* Callback will be called when content is changed. Includes add, delete, duplicate container or component. Or content of a component is changed\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} contentArea\r*/\ronContentChanged: function (event, contentArea) {\r},\r/*\r* Callback will be called before initializing container\r* @option {Function}\r* @param {jQuery} contentArea\r*/\ronBeforeInitContentArea: function (contentArea) {\r},\r/*\r* Callback will be called when initializing content area. It can return array of jQuery objects which will be initialized as container in content area. By default, all first level sections under content area will be initialized\r* @option {Function}\r* @param {jQuery} contentArea\r*/\ronInitContentArea: function (contentArea) {\r},\r/*\r* Callback will be called before initializing container\r* @option {Function}\r* @param {jQuery} container\r* @param {jQuery} contentArea\r*/\ronBeforeInitContainer: function (container, contentArea) {\r},\r/*\r* Callback will be called when initializing container. It can return array of jQuery objects which will be initialized as editable components in container content (NOTE: these objects MUST be under elements which have attribute data-type=`container-content\"). By default, all first level sections under container content will be initialized\r* @option {Function}\r* @param {jQuery} container\r* @param {jQuery} contentArea\r*/\ronInitContainer: function (container, contentArea) {\r},\r/*\r* Callback will be called before container is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronBeforeContainerDeleted: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called after container and its components are already deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronContainerDeleted: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called when content of container is changed. It can be when container received new component from snippet or from other container. Or content of any components are changed or any components are deleted or duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} changedContainer\r* @param {jQuery} contentArea\r*/\ronContainerChanged: function (event, changedContainer, contentArea) {\r},\r/*\r* Callback will be called when a container is duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} originalContainer\r* @param {jQuery} newContainer\r* @param {jQuery} contentArea\r*/\ronContainerDuplicated: function (event, originalContainer, newContainer, contentArea) {\r},\r/*\r* Callback will be called when a container is selected\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronContainerSelected: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called when a container snippet is added in a content area\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} newContainer\r* @param {jQuery} selectedSnippet\r* @param {jQuery} contentArea\r*/\ronContainerSnippetAdded: function (event, newContainer, selectedSnippet, contentArea) {\r},\r/*\r* Callback will be called after component is initialized. This callback is available or not is depend on component type handler.\r* @option {Function}\r* @param {jQuery} component\r*/\ronComponentReady: function (component) {\r},\r/*\r* Callback will be called before initializing component\r* @option {Function}\r* @param {jQuery} component\r* @param {jQuery} contentArea\r*/\ronBeforeInitComponent: function (component, contentArea) {\r},\r/*\r* Callback will be called when initializing component\r* @option {Function}\r* @param {jQuery} component\r* @param {jQuery} contentArea\r*/\ronInitComponent: function (component, contentArea) {\r},\r/*\r* Callback will be called before a component is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronBeforeComponentDeleted: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called after a component is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronComponentDeleted: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called when content of a component is changed\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} changedComponent\r* @param {jQuery} contentArea\r*/\ronComponentChanged: function (event, changedComponent, contentArea) {\r},\r/*\r* Callback will be called when a component is duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} originalComponent\r* @param {jQuery} newComponent\r* @param {jQuery} contentArea\r*/\ronComponentDuplicated: function (event, originalComponent, newComponent, contentArea) {\r},\r/*\r* Callback will be called when a component is selected\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronComponentSelected: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called after a component snippet is added in a container\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} newComponent\r* @param {jQuery} selectedSnippet\r* @param {jQuery} contentArea\r*/\ronComponentSnippetAdded: function (event, newComponent, selectedSnippet, contentArea) {\r},\r/*\r* Callback will be called before loading dynamic content\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jQuery} component\r* @param {jQuery} contentArea\r*/\ronBeforeDynamicContentLoad: function (dynamicElement, component, contentArea) {\r},\r/*\r* Callback will be called after dynamic content is loaded\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jqXHR} , jqXHR\r* @param {jQuery} contentArea\r*/\ronDynamicContentLoaded: function (dynamicElement, jqXHR, contentArea) {\r},\r/*\r* Callback will be called if loading dynamic content is error, abort or timeout\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jqXHR} , jqXHR\r* @param {jQuery} contentArea\r*/\ronDynamicContentError: function (dynamicElement, jqXHR, contentArea) {\r}\r\n};\r","export default {\rALL: 0,\rCONTAINER: 1,\rCOMPONENT: 2\r\n};\r\n","export default {\rCONTENT_AREA: 0,\rCONTAINER: 1,\rSUB_CONTAINER: 2,\rCONTAINER_CONTENT: 3,\rSUB_CONTAINER_CONTENT: 4,\rCOMPONENT: 5\r\n};\r\n","export default function (contentArea, target) {\rlet self = this;\rlet container;\rif (target.is('section')) {\rtarget.addClass('keditor-ui keditor-container');\rtarget.wrapInner('<section class=\"keditor-ui keditor-container-inner\"></section>');\rcontainer = target;\r} else {\rtarget.wrap('<section class=\"keditor-ui keditor-container\"><section class=\"keditor-ui keditor-container-inner\"></section></section>');\rcontainer = target.parent().parent();\r}\rself.initContainer(contentArea, container);\r\n};\r\n","export default function (container, isNested) {\rlet self = this;\rlet containerInner = container.children('.keditor-container-inner').clone();\rcontainerInner.find('[data-type=container-content]').not(isNested ? '' : '.keditor-sub-container-content').each(function () {\rlet containerContent = $(this);\rcontainerContent.removeClass('keditor-container-content keditor-sub-container-content ui-sortable').removeAttr('id');\rlet containerContentInner = containerContent.children();\rlet content = '';\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.is('.keditor-component')) {\rcontent += self.getComponentContent(child);\r} else if (child.is('.keditor-sub-container')) {\rcontent += self.getContainerContent(child, true);\r}\r});\rcontainerContent.html(content);\r});\rreturn `<section>${containerInner.html()}</section>`;\r\n}","import TOOLBAR_TYPE from \"../constants/toolbarType\";\rexport default function (contentArea, container) {\rlet self = this;\rlet options = self.options;\rlet isNested = options.nestedContainerEnabled && container.closest('[data-type=\"container-content\"]').length > 0;\rif (!container.hasClass('keditor-initialized-container') || !container.hasClass('keditor-initializing-container')) {\rcontainer.addClass('keditor-initializing-container');\rif (typeof options.onBeforeInitContainer === 'function') {\roptions.onBeforeInitContainer.call(self, container, contentArea);\r}\rif (isNested) {\rcontainer.addClass('keditor-sub-container');\r}\rcontainer.append(self.generateToolbar(isNested ? TOOLBAR_TYPE.SUB_CONTAINER : TOOLBAR_TYPE.CONTAINER));\rcontainer.attr('id', self.generateId());\rlet containerContents = container.find('[data-type=\"container-content\"]');\rcontainerContents.each(function () {\rlet containerContent = $(this);\rif (options.nestedContainerEnabled && !isNested && containerContent.parents('[data-type=\"container-content\"]').length > 0) {\r// Do nothing because it's container content of sub container\rreturn;\r}\rself.initContainerContent(contentArea, container, containerContent, isNested);\r});\rif (typeof options.onInitContainer === 'function') {\roptions.onInitContainer.call(self, container, contentArea);\r}\rcontainer.addClass('keditor-initialized-container');\rcontainer.removeClass('keditor-initializing-container');\r}\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport SNIPPET_TYPE from \"../constants/snippetType\";\rexport default function (contentArea, container, containerContent, isNested) {\rlet self = this;\rlet options = self.options;\rcontainerContent.addClass('keditor-container-content');\rif (isNested) {\rcontainerContent.addClass('keditor-sub-container-content');\r}\rcontainerContent.attr('id', self.generateId());\rlet containerContentInner = $('<div class=\"keditor-container-content-inner\"></div>');\rcontainerContentInner.html(containerContent.html());\rcontainerContent.html(containerContentInner);\rlet containerContentToolbar = $(self.generateToolbar(isNested ? TOOLBAR_TYPE.SUB_CONTAINER_CONTENT : TOOLBAR_TYPE.CONTAINER_CONTENT));\rcontainerContentToolbar.appendTo(containerContent);\rif (options.explicitSnippetEnabled) {\rif (!isNested) {\rif (options.explicitSnippetEnabled) {\rcontainerContentToolbar.children('.btn-add-container').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, SNIPPET_TYPE.CONTAINER);\r});\r}\r}\rcontainerContentToolbar.children('.btn-add-component').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, SNIPPET_TYPE.COMPONENT);\r});\r} else {\rcontainerContentToolbar.children('.btn-add-content').on('click', function (e) {\re.preventDefault();\rself.openModal(containerContentInner, isNested ? SNIPPET_TYPE.COMPONENT : options.nestedContainerEnabled ? SNIPPET_TYPE.ALL : SNIPPET_TYPE.COMPONENT);\r});\r}\rcontainerContentInner.sortable({\rhandle: '.btn-component-reposition, .btn-container-reposition',\rhelper: 'clone',\ritems: '> section',\rconnectWith: '.keditor-container-content-inner',\rtolerance: 'pointer',\rsort: function () {\r$(this).removeClass('ui-state-default');\r},\rreceive: function (event, ui) {\rlet helper = ui.helper;\rlet item = ui.item;\rlet container;\rif (helper) {\rhelper.remove();\r}\rcontainer = item.closest('.keditor-container');\rif (!container.hasClass('showed-keditor-toolbar')) {\r$('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontainer.addClass('showed-keditor-toolbar');\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, event, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.removeClass('keditor-ui-dragging');\r},\rstart: function (e, ui) {\rui.item.addClass('keditor-ui-dragging');\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass('keditor-ui-dragging');\r}\r});\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.find('[data-type=\"container-content\"]').length > 0) {\rself.convertToContainer(contentArea, child);\r} else {\rself.convertToComponent(contentArea, container, child, true);\r}\r});\r\n};\r\n","import TOOLBAR_TYPE from \"../constants/toolbarType\";\r\nimport SNIPPET_TYPE from \"../constants/snippetType\";\rexport default function (contentArea, dontInitToolbar) {\rlet self = this;\rlet options = self.options;\rcontentArea.addClass('keditor-content-area');\rlet content = contentArea.html();\rlet contentAreaInner = $('<div class=\"keditor-content-area-inner\"></div>').html(content);\rcontentArea.html(contentAreaInner);\rif (typeof options.onBeforeInitContentArea === 'function') {\roptions.onBeforeInitContentArea.call(self, contentArea);\r}\rif (!dontInitToolbar) {\rlet contentAreaToolbar = $(self.generateToolbar(TOOLBAR_TYPE.CONTENT_AREA));\rcontentArea.append(contentAreaToolbar);\rcontentAreaToolbar.children(options.explicitSnippetEnabled ? '.btn-add-container' : '.btn-add-content').on('click', function (e) {\re.preventDefault();\rself.openModal(contentAreaInner, options.explicitSnippetEnabled ? SNIPPET_TYPE.CONTAINER : SNIPPET_TYPE.ALL);\r});\r}\rcontentAreaInner.sortable({\rhandle: '.keditor-toolbar-container:not(.keditor-toolbar-sub-container) .btn-container-reposition',\ritems: '> section',\rhelper: 'clone',\rconnectWith: '.keditor-content-area',\raxis: 'y',\rtolerance: 'pointer',\rsort: function () {\r$(this).removeClass('ui-state-default');\r},\rreceive: function (event, ui) {\rlet helper = ui.helper;\rlet item = ui.item;\rif (helper) {\rhelper.remove();\r}\rself.closeSidebar();\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.addClass('keditor-ui-dragging');\r},\rstart: function (e, ui) {\rui.item.addClass('keditor-ui-dragging');\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass('keditor-ui-dragging');\r}\r});\rcontentAreaInner.children('section').each(function () {\rself.convertToContainer(contentArea, $(this));\r});\rif (typeof options.onInitContentArea === 'function') {\rlet contentData = options.onInitContentArea.call(self, contentArea);\rif (contentData && contentData.length > 0) {\r$.each(contentData, function () {\rself.convertToContainer(contentArea, $(this));\r});\r}\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet element = self.element;\rlet options = self.options;\rlet wrapper = self.wrapper = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.WRAPPER}\"></div>`);\rlet iframeWrapper = self.iframeWrapper = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.IFRAME_WRAPPER}\"></div>`);\rlet iframe = self.iframe = $(`<iframe class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.IFRAME}\"></iframe>`);\relement.after(wrapper);\relement.addClass(CLASS_NAMES.HIDDEN_ELEMENT);\riframeWrapper.html(iframe);\rwrapper.attr('id', self.generateId()).append(iframeWrapper);\rself.iframeDoc = iframe.contents();\r// Fix issue Firefox can't render content inside iframe\r// ======================================================\rself.iframeDoc.get(0).open();\rself.iframeDoc.get(0).close();\r// ======================================================\rself.iframeWindow = iframe[0].contentWindow ? iframe[0].contentWindow : iframe[0].contentDocument.defaultView;\rself.iframeHead = self.iframeDoc.find('head');\rself.iframeBody = self.iframeDoc.find('body');\r// Generate head content for iframe\rlet styles = '';\r$('[data-type=\"keditor-style\"]').each(function () {\rlet style = $(this);\rlet idStr = style.attr('id') || '';\rlet href = style.attr('href') || style.attr('data-href') || '';\rif (href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${href}\" ${idStr} />\\n`;\r} else {\rstyles += `<style type=\"text/css\" ${idStr}>${style.html()}</style>\\n`;\r}\r});\r$.isArray(options.contentStyles) && $.each(options.contentStyles, function (i, style) {\rlet idStr = style.id || '';\rif (style.href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${style.href}\" ${idStr} />\\n`;\r} else {\rstyles += `<style type=\"text/css\" ${idStr}>${style.content}</style>\\n`;\r}\r});\rself.iframeHead.append(styles);\r// Generate body content for iframe\rself.contentAreasWrapper = $(options.contentAreasWrapper || '<div />');\rself.contentAreasWrapper.attr('class', `${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREAS_WRAPPER}`);\rself.contentAreasWrapper.html(element.val() || element.html() || '');\rif (!self.contentAreasWrapper.attr('id')) {\rself.contentAreasWrapper.attr('id', self.generateId());\r}\rself.iframeBody.append(self.contentAreasWrapper);\rif (typeof options.onInitIframe === 'function') {\roptions.onInitIframe.call(self, self.iframe, self.iframeHead, self.iframeBody);\r}\rself.initContentAreas();\rself.initIframeActions();\r\n};\r\n","export default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rlet contentAreas;\rif (options.contentAreasSelector) {\rcontentAreas = contentAreasWrapper.find(options.contentAreasSelector);\r}\rif (!contentAreas || contentAreas.length === 0) {\rlet originalContent = contentAreasWrapper.html();\rcontentAreas = $('<div />').html(originalContent);\rcontentAreasWrapper.empty().append(contentAreas);\r}\rcontentAreas.each(function () {\rlet contentArea = $(this);\rif (!contentArea.attr('id')) {\rcontentArea.attr('id', self.generateId());\r}\rself.initContentArea(contentArea);\r});\r\n};\r\n","export default function () {\rlet self = this;\rlet element = self.element;\rlet id = self.id;\rlet content = self.getContent(false);\rself.wrapper.remove();\rif (element.is('textarea')) {\relement.val(content);\r} else {\relement.html(content);\r}\relement.removeClass('keditor-hidden-element');\relement.data('keditor', null);\rdelete KEditor.instances[id];\r\n};\r\n","export default function (inArray) {\rlet self = this;\rlet result = [];\rself.contentAreasWrapper.find('.keditor-content-area-inner').each(function () {\rlet html = '';\r$(this).children('.keditor-container').each(function () {\rlet container = $(this);\rhtml += self.getContainerContent(container);\r});\rresult.push(html);\r});\rreturn inArray ? result : result.join('\\n');\r\n};\r\n","export default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', function (e) {\rlet sidebar = self.getClickedElement(e, '.keditor-sidebar');\rlet modal = self.getClickedElement(e, '.keditor-modal');\rlet container = self.getClickedElement(e, '.keditor-container');\rif (container) {\rif (!container.hasClass('showed-keditor-toolbar')) {\rcontentAreasWrapper.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontentAreasWrapper.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontainer.addClass('showed-keditor-toolbar');\rlet contentArea = container.parent();\rif (typeof options.onContainerSelected === 'function') {\roptions.onContainerSelected.call(self, e, container, contentArea);\r}\r}\r} else {\rif (!sidebar && !modal) {\rcontentAreasWrapper.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcontentAreasWrapper.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\r}\r}\rlet component = self.getClickedElement(e, '.keditor-component');\rif (component) {\rif (!component.hasClass('showed-keditor-toolbar')) {\rcontentAreasWrapper.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rcomponent.addClass('showed-keditor-toolbar');\rlet contentArea = component.parent();\rif (typeof options.onComponentSelected === 'function') {\roptions.onComponentSelected.call(self, e, component, contentArea);\r}\r}\r} else {\rif (!sidebar) {\rcontentAreasWrapper.find('.keditor-component.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\r}\r}\r});\rcontentAreasWrapper.on('click', '.btn-container-setting', function (e) {\re.preventDefault();\rlet btn = $(this);\rlet container = btn.closest('.keditor-container');\rif (contentAreasWrapper.hasClass('opened-keditor-setting') && contentAreasWrapper.hasClass('opened-keditor-sidebar')) {\rif (!container.is(self.settingContainer)) {\rself.openSidebar(container);\r} else {\rself.closeSidebar();\r}\r} else {\rself.openSidebar(container);\r}\r});\rcontentAreasWrapper.on('click', '.btn-container-duplicate', function (e) {\re.preventDefault();\rlet btn = $(this);\rlet container = btn.closest('.keditor-container');\rlet contentArea = container.parent();\rlet newContainer = $(self.getContainerContent(container, btn.parent().hasClass('keditor-toolbar-sub-container')));\rcontainer.after(newContainer);\rself.convertToContainer(contentArea, newContainer);\rif (typeof options.onContainerDuplicated === 'function') {\roptions.onContainerDuplicated.call(self, container, newContainer, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\rcontentAreasWrapper.on('click', '.btn-container-delete', function (e) {\re.preventDefault();\rlet btn = $(this);\rif (confirm(options.confirmDeleteContainerText)) {\rlet container = btn.closest('.keditor-container');\rlet components = container.find('.keditor-component');\rlet contentArea = container.parent();\rif (typeof options.onBeforeContainerDeleted === 'function') {\roptions.onBeforeContainerDeleted.call(self, e, container, contentArea);\r}\rlet settingComponent = self.settingComponent;\rif (settingComponent) {\rlet settingComponentParent = settingComponent.closest('.keditor-container');\rif (settingComponentParent.is(container)) {\rself.closeSidebar();\r}\r} else if (container.is(self.settingContainer)) {\rself.closeSidebar();\r}\rif (components.length > 0) {\rcomponents.each(function () {\rself.deleteComponent($(this));\r});\r}\rcontainer.remove();\rif (typeof options.onContainerDeleted === 'function') {\roptions.onContainerDeleted.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\rcontentAreasWrapper.on('click', '.btn-component-setting', function (e) {\re.preventDefault();\rlet btn = $(this);\rlet component = btn.closest('.keditor-component');\rif (contentAreasWrapper.hasClass('opened-keditor-setting') && contentAreasWrapper.hasClass('opened-keditor-sidebar')) {\rif (!component.is(self.settingComponent())) {\rself.openSidebar(component);\r} else {\rself.closeSidebar();\r}\r} else {\rself.openSidebar(component);\r}\r});\rcontentAreasWrapper.on('click', '.btn-component-duplicate', function (e) {\re.preventDefault();\rlet btn = $(this);\rlet component = btn.closest('.keditor-component');\rlet container = component.closest('.keditor-container');\rlet contentArea = container.parent();\rlet newComponent = $(self.getComponentContent(component));\rcomponent.after(newComponent);\rself.convertToComponent(contentArea, container, newComponent);\rif (typeof options.onComponentDuplicated === 'function') {\roptions.onComponentDuplicated.call(self, component, newComponent, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\rcontentAreasWrapper.on('click', '.btn-component-delete', function (e) {\re.preventDefault();\rlet btn = $(this);\rif (confirm(options.confirmDeleteComponentText)) {\rlet component = btn.closest('.keditor-component');\rlet container = component.closest('.keditor-container');\rlet contentArea = component.closest('.keditor-content-area');\rif (typeof options.onBeforeComponentDeleted === 'function') {\roptions.onBeforeComponentDeleted.call(self, e, component, contentArea);\r}\rif (component.is(self.settingComponent)) {\rself.closeSidebar();\r}\rself.deleteComponent(component);\rif (typeof options.onComponentDeleted === 'function') {\roptions.onComponentDeleted.call(self, e, component, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\rcontentAreasWrapper.addClass('keditor-clicks-initialized');\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function (iframe, wrapper) {\rif (!wrapper) {\riframe.wrap(`<div class=\"${CLASS_NAMES.IFRAME_FAKER}\"></div>`);\rwrapper = iframe.parent();\r}\rwrapper.addClass(`${CLASS_NAMES.IFRAME_COVER_WRAPPER}`);\rlet cover = $(`<div class=\"${CLASS_NAMES.IFRAME_COVER}\"></div>`);\rwrapper.prepend(cover);\rwrapper.on('mouseleave', function () {\rwrapper.removeClass(`${CLASS_NAMES.IFRAME_COVER_HIDDEN}`);\r});\rcover.on('dblclick', function (e) {\re.preventDefault();\rwrapper.addClass(`${CLASS_NAMES.IFRAME_COVER_HIDDEN}`);\r});\r\n};\r\n","import $ from 'jquery';\rimport DEFAULTS from './constants/defaults';\rimport log from './utils/log';\r\nimport generateId from './utils/generateId';\r\nimport generateToolbar from './utils/generateToolbar';\r\nimport beautifyCategories from './utils/beautifyCategories';\r\nimport getDataAttributes from './utils/getDataAttributes';\r\nimport getClickedElement from './utils/getClickedElement';\rimport initIframeActions from './iframe/initIframeActions';\r\nimport initIframeCover from './iframe/initIframeCover';\rimport initTopbar from './topbar/initTopbar';\r\nimport initTopbarRightActions from './topbar/initTopbarRightActions';\r\nimport initDeviceSwitcher from './topbar/initDeviceSwitcher';\rimport initSidebar from './sidebar/initSidebar';\r\nimport openSidebar from './sidebar/openSidebar';\r\nimport closeSidebar from './sidebar/closeSidebar';\rimport renderSnippets from './snippet/renderSnippets';\r\nimport initSnippetsFilter from './snippet/initSnippetsFilter';\r\nimport addSnippet from './snippet/addSnippet';\rimport initSnippetsModal from './modal/initSnippetsModal';\r\nimport openModal from './modal/openModal';\r\nimport closeModal from './modal/closeModal';\rimport initContentAreaWrapper from './contentArea/initContentAreaWrapper';\r\nimport initContentAreas from './contentArea/initContentAreas';\r\nimport initContentArea from './contentArea/initContentArea';\rimport convertToContainer from './container/convertToContainer';\r\nimport initContainer from './container/initContainer';\r\nimport initContainerContent from './container/initContainerContent';\r\nimport getContainerContent from './container/getContainerContent';\rimport getComponentType from './component/getComponentType';\r\nimport convertToComponent from './component/convertToComponent';\r\nimport initComponent from './component/initComponent';\r\nimport initDynamicContent from './component/initDynamicContent';\r\nimport deleteComponent from './component/deleteComponent';\r\nimport getComponentContent from './component/getComponentContent';\rimport init from './init';\r\nimport destroy from './destroy';\r\nimport getContent from './getContent';\r\nimport setContent from './setContent';\rimport '../styles/keditor.less';\r// Check dependencies\r\nif (!$.fn.sortable) {\rerror('$.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.');\r\n}\rwindow.KEDITOR_DEBUG = true;\r// KEditor class\r\nclass KEditor {\rstatic DEFAULTS = DEFAULTS;\rstatic debug = false;\rstatic version = '2.0.0';\rstatic instances = {};\rstatic components = {\rblank: {\rsettingEnabled: false\r}\r};\rstatic log(...args) {\rreturn log.apply(null, args);\r}\rstatic error(message) {\rthrow new Error(`[ KEditor ] ${message}`);\r}\rstatic init(target, config) {\rreturn new KEditor(target, config);\r}\rconstructor(target, config) {\rreturn init.apply(this, [target, config]);\r}\rgenerateId() {\rreturn generateId();\r}\rgenerateToolbar(type, isComponentConfigurable) {\rreturn generateToolbar.apply(this, [type, isComponentConfigurable]);\r}\rbeautifyCategories(categories) {\rreturn beautifyCategories.apply(this, [categories]);\r}\rsetSettingContainer(container) {\rthis.settingContainer = container;\r}\rgetSettingContainer() {\rreturn this.settingContainer;\r}\rsetSettingComponent(component) {\rthis.settingComponent = component;\r}\rgetSettingComponent() {\rreturn this.settingComponent;\r}\rgetDataAttributes(target, ignoreAttributes, isArray) {\rreturn getDataAttributes.apply(this, [target, ignoreAttributes, isArray]);\r}\rgetComponentType(component) {\rreturn getComponentType.apply(this, [component]);\r}\rgetClickedElement(event, selector) {\rreturn getClickedElement.apply(this, [event, selector]);\r}\r// Iframe\r//---------------------------------\rinitIframeCover(iframe, wrapper) {\rreturn initIframeCover.apply(this, [iframe, wrapper]);\r}\r// KEditor clicks\r//---------------------------------\rinitIframeActions() {\rreturn initIframeActions.apply(this);\r}\r// Topbar\r//---------------------------------\rinitTopbar() {\rreturn initTopbar.apply(this);\r}\rinitDeviceSwitcher() {\rreturn initDeviceSwitcher.apply(this);\r}\rinitTopbarRightActions() {\rreturn initTopbarRightActions.apply(this);\r}\r// Sidebar\r//---------------------------------\rinitSidebar() {\rreturn initSidebar.apply(this);\r}\ropenSidebar(target) {\rreturn openSidebar.apply(this, [target]);\r}\rcloseSidebar() {\rreturn closeSidebar.apply(this);\r}\r// Legacy methods. DEPRECATED\r//---------------------------------\rshowSettingPanel(target) {\rthis.openSidebar(target);\r}\rhideSettingPanel() {\rthis.closeSidebar();\r}\r// Snippet modal\r//---------------------------------\rinitSnippetsModal() {\rreturn initSnippetsModal.apply(this);\r}\rrenderSnippets(resp) {\rreturn renderSnippets.apply(this, [resp]);\r}\rinitSnippetsFilter(type) {\rreturn initSnippetsFilter.apply(this, [type]);\r}\ropenModal(target, snippetType) {\rreturn openModal.apply(this, [target, snippetType]);\r}\rcloseModal() {\rreturn closeModal.apply(this);\r}\r// Content areas\r//---------------------------------\rinitContentAreaWrapper() {\rreturn initContentAreaWrapper.apply(this);\r}\rinitContentAreas() {\rreturn initContentAreas.apply(this);\r}\rinitContentArea(contentArea, dontInitToolbar) {\rreturn initContentArea.apply(this, [contentArea, dontInitToolbar]);\r}\r// Containers\r//---------------------------------\rconvertToContainer(contentArea, target) {\rreturn convertToContainer.apply(this, [contentArea, target]);\r}\rinitContainer(contentArea, container) {\rreturn initContainer.apply(this, [contentArea, container]);\r}\rinitContainerContent(contentArea, container, containerContent, isNested) {\rreturn initContainerContent.apply(this, [contentArea, container, containerContent, isNested]);\r}\r// Components\r//---------------------------------\rconvertToComponent(contentArea, container, target, isExisting) {\rreturn convertToComponent.apply(this, [contentArea, container, target, isExisting]);\r}\rinitComponent(contentArea, container, component) {\rreturn initComponent.apply(this, [contentArea, container, component]);\r}\rinitDynamicContent(dynamicElement) {\rreturn initDynamicContent.apply(this, [dynamicElement]);\r}\rdeleteComponent(component) {\rreturn deleteComponent.apply(this, [component]);\r}\r// Get content\r//---------------------------------\rgetComponentContent(component) {\rreturn getComponentContent.apply(this, [component]);\r}\rgetContainerContent(container, isNested) {\rreturn getContainerContent.apply(this, [container, isNested]);\r}\rgetContent(inArray) {\rreturn getContent.apply(this, [inArray]);\r}\r// Set content\r//---------------------------------\rsetContent(content, contentArea) {\rreturn setContent.apply(this, [content, contentArea]);\r}\r// Destroy\r//---------------------------------\rdestroy() {\rreturn destroy.apply(this);\r}\r// Snippet\r//---------------------------------\raddSnippet(type, title, previewUrl, categories, content, dataAttributes) {\rreturn addSnippet.apply(this, [type, title, previewUrl, categories, content, dataAttributes]);\r}\r\n}\r// KEditor plugins\r\n$.fn.keditor = function (options) {\rlet element = $(this);\rlet instance = element.data('keditor');\rif (typeof options === 'string') {\rif (instance && instance[options] && typeof instance[options] === 'function') {\rreturn instance[options].apply(instance, Array.prototype.slice.call(arguments, 1));\r}\r} else {\rif (!instance) {\rinstance = KEditor.init(element, options);\relement.data('keditor', instance);\r}\rreturn instance;\r}\r\n};\rwindow.KEditor = $.keditor = $.fn.keditor.constructor = KEditor;\r\n","import DEFAULTS from './constants/defaults';\rexport default function (target, config) {\rlet self = this;\rself.element = target;\rself.options = $.extend({}, DEFAULTS, config);\rself.initContentAreaWrapper();\rself.initTopbar();\rself.initSidebar();\rself.initSnippetsModal();\rself.id = self.generateId();\rKEditor.instances[self.id] = self;\rif (typeof self.options.onReady === 'function') {\rself.options.onReady.call(self);\r}\r\n};\r\n","export default function () {\rlet self = this;\rlet modal = self.modal;\rself.modalTarget = null;\rself.modalAction = null;\rmodal.find('.keditor-modal-title').html('');\rmodal.find('.keditor-snippets-wrapper .selected').removeClass('selected');\rmodal.removeClass('showed');\r\n};\r\n","import SNIPPET_TYPE from '../constants/snippetType';\r\nimport log from '../utils/log';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet modalId = self.generateId();\rlet snippetsWrapperHtml = '';\rif (options.explicitSnippetEnabled) {\rsnippetsWrapperHtml = `\r<div class=\"keditor-snippets-wrapper keditor-snippets-wrapper-container\">\r<div class=\"keditor-snippets keditor-snippets-container\"></div>\r</div>\r<div class=\"keditor-snippets-wrapper keditor-snippets-wrapper-component\">\r<div class=\"keditor-snippets keditor-snippets-component\"></div>\r</div>\r`;\r} else {\rsnippetsWrapperHtml = `\r<div class=\"keditor-snippets-wrapper\">\r<div class=\"keditor-snippets\"></div>\r</div>\r`;\r}\rlet modal = self.modal = $(`\r<div class=\"keditor-ui keditor-modal\" id=\"${modalId}\">\r<div class=\"keditor-modal-header\">\r<button type=\"button\" class=\"keditor-modal-close\">&times;</button>\r<h4 class=\"keditor-modal-title\"></h4>\r</div>\r<div class=\"keditor-modal-body\">${snippetsWrapperHtml}</div>\r<div class=\"keditor-modal-footer\">\r<button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-default keditor-modal-close\">Close</button>\r<button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-primary keditor-modal-add\">Add</button>\r</div>\r</div>\r`);\rif (typeof options.snippetsUrl === 'string' && options.snippetsUrl.length > 0) {\r$.ajax({\rtype: 'get',\rdataType: 'html',\rurl: options.snippetsUrl,\rsuccess: function (resp) {\rif (typeof options.onSnippetsLoaded === 'function') {\rresp = options.onSnippetsLoaded.call(self, resp) || resp;\r}\rself.renderSnippets(resp);\rif (options.snippetsFilterEnabled) {\rif (options.explicitSnippetEnabled) {\rself.initSnippetsFilter(SNIPPET_TYPE.CONTAINER);\rself.initSnippetsFilter(SNIPPET_TYPE.COMPONENT);\r} else {\rself.initSnippetsFilter(SNIPPET_TYPE.ALL);\r}\r}\r},\rerror: function (jqXHR) {\rif (typeof options.onSnippetsError === 'function') {\roptions.onSnippetsError.call(self, jqXHR);\r}\r}\r});\r// Close buttons\rmodal.find('.keditor-modal-close').on('click', function (e) {\re.preventDefault();\rself.closeModal();\r});\r// Add button\rmodal.find('.keditor-modal-add').on('click', function (e) {\re.preventDefault();\rlet selectedSnippet = modal.find('.keditor-snippets-wrapper .selected');\rif (selectedSnippet.length === 0) {\rreturn;\r}\rlet contentArea = self.modalTarget.closest('.keditor-content-area');\rlet snippetType = selectedSnippet.attr('data-type');\rlet snippetContentElement = modal.find(selectedSnippet.attr('data-snippet'));\rlet snippetContent = snippetContentElement.html();\rlet isAddingContainer = false;\rlet isAddingComponent = false;\rlet isAddingComponentWithContainer = false;\rif (options.explicitSnippetEnabled) {\rswitch (self.modalSnippetType) {\rcase SNIPPET_TYPE.COMPONENT:\risAddingComponent = true;\rbreak;\rcase SNIPPET_TYPE.CONTAINER:\risAddingContainer = true;\rbreak;\rdefault:\r// Do nothing\r}\r} else {\rif (snippetType === 'container') {\risAddingContainer = true;\r} else {\rswitch (self.modalSnippetType) {\rcase SNIPPET_TYPE.COMPONENT:\risAddingComponent = true;\rbreak;\rcase SNIPPET_TYPE.ALL:\rif (self.modalTarget.is('.keditor-container-content-inner')) {\risAddingComponent = true;\r} else {\risAddingComponentWithContainer = true;\r}\rbreak;\rdefault:\r// Do nothing\r}\r}\r}\rlet newContainer;\rlet newComponent;\rif (isAddingContainer) {\rself.body.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rnewContainer = $(`\r<section class=\"keditor-ui keditor-container showed-keditor-toolbar\">\r<section class=\"keditor-ui keditor-container-inner\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newContainer);\rif (typeof options.onContainerSnippetAdded === 'function') {\roptions.onContainerSnippetAdded.call(self, e, newContainer, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initContainer(contentArea, newContainer);\r}\rif (isAddingComponent) {\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewComponent = $(`\r<section class=\"keditor-ui keditor-component\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"keditor-ui keditor-component-content\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newComponent);\rlet container = self.modalTarget.closest('.keditor-container');\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initComponent(contentArea, container, newComponent);\r}\rif (isAddingComponentWithContainer) {\rself.body.find('.keditor-container.showed-keditor-toolbar').removeClass('showed-keditor-toolbar');\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewContainer = $(`\r<section class=\"keditor-ui keditor-container showed-keditor-toolbar\">\r<section class=\"keditor-ui keditor-container-inner\">${options.containerForQuickAddComponent}</section>\r</section>\r`);\rnewComponent = $(`\r<section class=\"keditor-ui keditor-component\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"keditor-ui keditor-component-content\">${snippetContent}</section>\r</section>\r`);\rnewContainer.find('[data-type=\"container-content\"]').eq(0).html(newComponent);\rself.modalTarget.append(newContainer);\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rself.initContainer(contentArea, newContainer);\r}\rself.closeModal();\r});\r// Action click for snippet\rmodal.on('click', '.keditor-snippet', function (e) {\re.preventDefault();\rlet snippet = $(this);\rif (!snippet.hasClass('selected')) {\rsnippet.parent().find('.selected').removeClass('selected');\rsnippet.addClass('selected');\r}\r});\rlet cssTransitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\rmodal.on(cssTransitionEnd, () => {\rif (!modal.hasClass('showed')) {\rmodal.css('display', 'none');\r$(document.body).removeClass('opened-modal');\r}\r});\rmodal.appendTo(document.body);\r} else {\rself.error('\"snippetsUrl\" must be not null!');\r}\r\n};\r\n","import SNIPPET_TYPE from '../constants/snippetType';\rexport default function (target, snippetType) {\rlet self = this;\rlet modal = self.modal;\rlet options = self.options;\rlet modalTitle = '';\rswitch (snippetType) {\rcase SNIPPET_TYPE.CONTAINER:\rmodalTitle = 'Add container';\rbreak;\rcase SNIPPET_TYPE.COMPONENT:\rmodalTitle = 'Add component';\rbreak;\rdefault:\r// Do nothing\r}\rif (options.explicitSnippetEnabled) {\rmodal.find('.keditor-snippets-wrapper').css('display', 'none');\rmodal.find(snippetType === SNIPPET_TYPE.COMPONENT ? '.keditor-snippets-wrapper-component' : '.keditor-snippets-wrapper-container').css('display', 'block');\r} else {\rmodal.find('.keditor-snippets-wrapper').css('display', 'block').find('.keditor-snippet[data-type=container]').css('display', snippetType === SNIPPET_TYPE.COMPONENT ? 'none' : 'block');\rmodalTitle = 'Add content';\r}\rmodal.find('.keditor-modal-title').html(modalTitle);\rself.modalTarget = target;\rself.modalSnippetType = snippetType;\rmodal.css('display', 'block');\r$(document.body).addClass('opened-modal');\rsetTimeout(() => {\rmodal.addClass('showed');\r}, 0);\r\n};\r\n","export default function (content, contentArea) {\rlet self = this;\rlet contentAreasWrapper = self.wrapper;\rif (!contentArea) {\rcontentArea = contentAreasWrapper.children('.keditor-content-area');\r} else {\rif (!contentArea.jquery) {\rcontentArea = contentAreasWrapper.find(contentArea);\r}\r}\rif (contentArea.length === 0) {\rself.error('Content area does not exist!');\r}\rcontentArea.html(content);\rself.initContentArea(contentArea, true);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\rlet activeForm = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`).children(`.${CLASS_NAMES.SETTING_FORM_ACTIVE}`);\rif (activeForm.length > 0) {\rif (activeForm.is(`.${CLASS_NAMES.SETTING_CONTAINER}`)) {\rif (typeof options.containerSettingHideFunction === 'function') {\roptions.containerSettingHideFunction.call(self, activeForm, self);\r}\r} else {\rlet activeType = activeForm.attr('data-type');\rlet componentData = KEditor.components[activeType];\rif (typeof componentData.hideSettingForm === 'function') {\rcomponentData.hideSettingForm.call(componentData, activeForm, self);\r}\r}\ractiveForm.removeClass(CLASS_NAMES.SETTING_FORM_ACTIVE);\r}\rself.setSettingComponent(null);\rself.setSettingContainer(null);\rsidebar.removeClass(CLASS_NAMES.SIDEBAR_OPENED);\r\n}","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebarId = self.generateId();\rlet sidebar = self.sidebar = $(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR}\" id=\"${sidebarId}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_HEADER}\">\r<span class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_TITLE}\"></span>\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_CLOSER}\">&times;</a>\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_BODY}\"></div>\r</div>\r`);\rsidebar.find(`.${CLASS_NAMES.SIDEBAR_CLOSER}`).on('click', function (e) {\re.preventDefault();\rself.closeSidebar();\r});\rlet sidebarBody = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`);\rsidebarBody.on('submit', 'form', function (e) {\re.preventDefault();\rreturn false;\r});\rif (options.containerSettingEnabled === true) {\rif (typeof options.containerSettingInitFunction === 'function') {\rlet form = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SETTING_FORM} ${CLASS_NAMES.SETTING_CONTAINER}\"></div>`);\rsidebarBody.append(form);\roptions.containerSettingInitFunction.call(self, form, self);\r} else {\rself.error('\"containerSettingInitFunction\" is not function!');\r}\r}\rsidebar.appendTo(self.wrapper);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function (target) {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\ralert(self.sidebar);\rlet sidebarTitle = sidebar.find(`.${CLASS_NAMES.SIDEBAR_TITLE}`);\rlet sidebarBody = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`);\rlet activeForm = sidebarBody.children(`.${CLASS_NAMES.SETTING_FORM_ACTIVE}`);\ractiveForm.removeClass(CLASS_NAMES.SETTING_FORM_ACTIVE);\rif (target.is(`.${CLASS_NAMES.COMPONENT}`)) {\rself.setSettingComponent(target);\rself.setSettingContainer(null);\rlet componentType = self.getComponentType(target);\rlet componentData = KEditor.components[componentType];\rsidebarTitle.html(componentData.settingTitle);\rlet settingFormClass = `${CLASS_NAMES.SETTING}-${componentType}`;\rlet settingForm = sidebarBody.find(`.${settingFormClass}`);\rif (settingForm.length === 0) {\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.initSettingForm === 'function') {\rsettingForm = $(`\r<div\rdata-type=\"${componentType}\"\rclass=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SETTING_FORM} ${settingFormClass} clearfix ${CLASS_NAMES.SETTING_FORM_ACTIVE}\"\r>\r</div>\r`);\rlet loadingText = $('<span />').html('Loading...');\rsidebarBody.append(settingForm);\rsettingForm.append(loadingText);\rlet initFunction = componentData.initSettingForm.call(componentData, settingForm, self);\r$.when(initFunction).done(function () {\rsetTimeout(function () {\rloadingText.remove();\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\r}, 100);\r});\r}\r} else {\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\rsettingForm.addClass(CLASS_NAMES.SETTING_FORM_ACTIVE);\r}\r} else {\rself.setSettingContainer(target);\rself.setSettingComponent(null);\rsidebarTitle.html('Container Settings');\rlet settingForm = sidebar.find(`.${CLASS_NAMES.SETTING_CONTAINER}`);\rif (typeof options.containerSettingShowFunction === 'function') {\roptions.containerSettingShowFunction.call(self, settingForm, target, self);\r}\rsettingForm.addClass(CLASS_NAMES.SETTING_FORM_ACTIVE);\r}\rsidebar.addClass(CLASS_NAMES.SIDEBAR_OPENED);\r\n};\r\n","import renderSnippet from \"./renderSnippet\";\r\nimport renderSnippetFilter from \"./renderSnippetFilter\";\r\nimport SNIPPET_TYPE from \"../constants/snippetType\";\rexport default function (type, title, previewUrl, categories, content, extraData) {\rlet self = this;\rlet options = self.options;\rlet [\rsnippetPreviewHtml,\rsnippetContentHtml\r] = renderSnippet.call(self, type, title, previewUrl, categories, content, extraData);\rself.snippetsContainerCategories = self.beautifyCategories(self.snippetsContainerCategories);\rself.snippetsComponentCategories = self.beautifyCategories(self.snippetsComponentCategories);\rself.snippetsCategories = self.beautifyCategories([...self.snippetsContainerCategories, ...self.snippetsComponentCategories]);\rif (options.explicitSnippetEnabled) {\rif (type === 'container') {\rself.modal.find('.keditor-snippets-container').append(snippetPreviewHtml);\r} else if (type.indexOf('component') !== -1) {\rself.modal.find('.keditor-snippets-component').append(snippetPreviewHtml);\r}\r} else {\rself.modal.find('.keditor-snippets').append(snippetPreviewHtml)\r}\rself.modal.find('.keditor-modal-body').append(snippetContentHtml);\rlet filterType;\rif (options.snippetsFilterEnabled) {\rif (options.explicitSnippetEnabled) {\rfilterType = type === 'container' ? SNIPPET_TYPE.CONTAINER : SNIPPET_TYPE.COMPONENT;\r} else {\rfilterType = SNIPPET_TYPE.ALL;\r}\r}\rlet [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(this, filterType);\rsnippetsWrapper.find('.keditor-snippets-filter').html(categoriesOptions).trigger('change');\r\n};\r\n","import renderSnippetFilter from \"./renderSnippetFilter\";\rexport default function (type) {\rlet self = this;\rlet options = self.options;\rlet [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(this, type);\rsnippetsWrapper.prepend(`\r<div class=\"keditor-ui keditor-snippets-filter-wrapper\">\r<select class=\"keditor-ui keditor-snippets-filter\">\r${categoriesOptions}\r</select>\r<input type=\"text\" class=\"keditor-ui keditor-snippets-search\" value=\"\" placeholder=\"Type to search...\" />\r</div>\r`);\rlet txtSearch = snippetsWrapper.find('.keditor-snippets-search');\rlet cbbFilter = snippetsWrapper.find('.keditor-snippets-filter');\rlet doFilter = function () {\rlet selectedCategory = (cbbFilter.val() || '').toLowerCase();\rlet searchText = (txtSearch.val() || '').toLowerCase();\rlet snippets = snippetsWrapper.find('.keditor-snippets').children('.keditor-snippet');\rsnippets.filter('.selected').removeClass('selected');\rif (selectedCategory || searchText) {\rsnippets.each(function () {\rlet snippet = $(this);\rlet dataCategoriesString = snippet.attr('data-keditor-categories').toLowerCase();\rlet dataCategories = dataCategoriesString.split(options.snippetsCategoriesSeparator);\rlet error = 0;\rif (selectedCategory) {\rif ($.inArray(selectedCategory, dataCategories) === -1) {\rerror++;\r}\r}\rif (searchText) {\rlet title = snippet.attr('title').toLowerCase();\rif (title.indexOf(searchText) === -1 && dataCategoriesString.indexOf(searchText) === -1) {\rerror++;\r}\r}\rsnippet[error === 0 ? 'removeClass' : 'addClass']('not-matched');\r});\r} else {\rsnippets.removeClass('not-matched');\r}\r};\rcbbFilter.on('change', function () {\rdoFilter();\r});\rlet timer;\rtxtSearch.on('keydown', function () {\rclearTimeout(timer);\rtimer = setTimeout(doFilter, 200);\r});\r\n};\r\n","export default function (type, title, previewUrl, categories, content, extraData) {\rlet self = this;\rlet options = self.options;\rlet snippetId = self.generateId();\rlet snippetPreviewHtml = `\r<section\rclass=\"keditor-ui keditor-snippet\"\rdata-snippet=\"#${snippetId}\"\rdata-type=\"${type}\"\rtitle=\"${title}\"\rdata-keditor-categories=\"${categories}\"\r>\r<span><span style=\"background-image: url('${previewUrl}')\"></span></span>\r</section>\r`;\rlet snippetContentHtml = `<script id=\"${snippetId}\" type=\"text/html\" ${extraData.join(' ')}>${content}</script>`;\rcategories = categories.split(options.snippetsCategoriesSeparator);\rif (type === 'container') {\rself.snippetsContainerCategories = self.snippetsContainerCategories.concat(categories);\r} else if (type.indexOf('component') !== -1) {\rself.snippetsComponentCategories = self.snippetsComponentCategories.concat(categories);\r}\rreturn [\rsnippetPreviewHtml,\rsnippetContentHtml\r];\r\n};\r\n","import SNIPPET_TYPE from \"../constants/snippetType\";\rexport default function (type) {\rlet self = this;\rlet modal = self.modal;\rlet categories;\rlet snippetsWrapperSelector;\rswitch (type) {\rcase SNIPPET_TYPE.ALL:\rcategories = self.snippetsCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper';\rbreak;\rcase SNIPPET_TYPE.CONTAINER:\rcategories = self.snippetsContainerCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper-container';\rbreak;\rcase SNIPPET_TYPE.COMPONENT:\rcategories = self.snippetsComponentCategories;\rsnippetsWrapperSelector = '.keditor-snippets-wrapper-component';\rbreak;\rdefault:\r// Do nothing\r}\rlet categoriesOptions = '<option value=\"\" selected=\"selected\">All</option>';\r$.each(categories, function (i, category) {\rcategoriesOptions += `<option value=\"${category}\">${category}</option>`;\r});\rreturn [\rcategoriesOptions,\rmodal.find(snippetsWrapperSelector)\r];\r\n};\r\n","import renderSnippet from './renderSnippet';\rexport default function (resp) {\rlet self = this;\rlet options = self.options;\rlet snippetsContainerHtml = '';\rlet snippetsComponentHtml = '';\rlet snippetsContentHtml = '';\rself.snippetsCategories = [];\rself.snippetsContainerCategories = [];\rself.snippetsComponentCategories = [];\r$(resp).filter('div').each(function () {\rlet snippet = $(this);\rlet content = snippet.html().trim();\rlet previewUrl = snippet.attr('data-preview');\rlet type = snippet.attr('data-type');\rlet title = snippet.attr('data-keditor-title');\rlet categories = snippet.attr('data-keditor-categories') || '';\rlet dataAttributes = self.getDataAttributes(snippet, ['data-preview', 'data-type', 'data-keditor-title', 'data-keditor-categories'], true);\rlet [\rsnippetPreviewHtml,\rsnippetContentHtml\r] = renderSnippet.call(self, type, title, previewUrl, categories, content, dataAttributes);\rif (type === 'container') {\rsnippetsContainerHtml += snippetPreviewHtml;\r} else if (type.indexOf('component') !== -1) {\rsnippetsComponentHtml += snippetPreviewHtml;\r}\rsnippetsContentHtml += snippetContentHtml;\r});\rself.snippetsContainerCategories = self.beautifyCategories(self.snippetsContainerCategories);\rself.snippetsComponentCategories = self.beautifyCategories(self.snippetsComponentCategories);\rself.snippetsCategories = self.beautifyCategories([...self.snippetsContainerCategories, ...self.snippetsComponentCategories]);\rif (options.explicitSnippetEnabled) {\rself.modal.find('.keditor-snippets-container').html(snippetsContainerHtml);\rself.modal.find('.keditor-snippets-component').html(snippetsComponentHtml);\r} else {\rself.modal.find('.keditor-snippets').html(snippetsContainerHtml + snippetsComponentHtml)\r}\rself.modal.find('.keditor-modal-body').append(snippetsContentHtml);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet topbarCenter = self.topbarCenter;\rlet options = self.options;\rlet btnMobile = $(`<a href=\"javascript:void(0);\" title=\"View on mobile\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-mobile\"></i></a>`);\rbtnMobile.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.TOPBAR_BUTTON_ACTIVE}`).removeClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\rself.iframeWrapper.css('width', options.widthMobile);\rbtnMobile.addClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\r});\rlet btnTablet = $(`<a href=\"javascript:void(0);\" title=\"View on tablet\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-tablet\"></i></a>`);\rbtnTablet.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.TOPBAR_BUTTON_ACTIVE}`).removeClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\rself.iframeWrapper.css('width', options.widthTablet);\rbtnTablet.addClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\r});\rlet btnDesktop = $(`<a href=\"javascript:void(0);\" title=\"View on desktop\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON} ${CLASS_NAMES.TOPBAR_BUTTON_ACTIVE}\"><i class=\"fa fa-fw fa-desktop\"></i></a>`);\rbtnDesktop.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.TOPBAR_BUTTON_ACTIVE}`).removeClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\rself.iframeWrapper.css('width', '');\rbtnDesktop.addClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\r});\rtopbarCenter.append(btnMobile);\rtopbarCenter.append(btnTablet);\rtopbarCenter.append(btnDesktop);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet topbarId = self.generateId();\rlet options = self.options;\rself.topbar = $(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR}\" id=\"${topbarId}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_LEFT}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_TITLE}\" title=\"${options.title}\">${options.title}</div>\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_CENTER}\">\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_RIGHT}\">\r</div>\r</div>\r`);\rself.topbarLeft = self.topbar.find(`.${CLASS_NAMES.TOPBAR_LEFT}`);\rself.topbarCenter = self.topbar.find(`.${CLASS_NAMES.TOPBAR_CENTER}`);\rself.topbarRight = self.topbar.find(`.${CLASS_NAMES.TOPBAR_RIGHT}`);\rself.topbar.appendTo(self.wrapper);\rself.initDeviceSwitcher();\rself.initTopbarRightActions();\r\n};\r\n","import CLASS_NAMES from \"../constants/classNames\";\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet topbarRight = self.topbarRight;\rlet btnPreview = $(`<a href=\"javascript:void(0);\" title=\"Preview OFF\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"></a>`);\rlet iconPreviewOff = $(`<i class=\"fa fa-fw fa-eye-slash\"></i>`);\rlet iconPreviewOn = $(`<i class=\"fa fa-fw fa-eye\" style=\"display: none;\"></i>`);\rbtnPreview.append(iconPreviewOff);\rbtnPreview.append(iconPreviewOn);\rself.previewArea = $(`<div class=\"${CLASS_NAMES.PREVIEW_AREA}\" style=\"display: none;\"></div>`);\rself.contentAreasWrapper.after(self.previewArea);\rbtnPreview.on('click', function (e) {\re.preventDefault();\rlet isPreviewOn = btnPreview.hasClass(CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\rbtnPreview[isPreviewOn ? 'removeClass' : 'addClass'](CLASS_NAMES.TOPBAR_BUTTON_ACTIVE);\rbtnPreview.attr('title', isPreviewOn ? 'Preview OFF' : 'Preview ON');\riconPreviewOff.css('display', isPreviewOn ? '' : 'none');\riconPreviewOn.css('display', isPreviewOn ? 'none' : '');\rself.contentAreasWrapper.css('display', isPreviewOn ? '' : 'none');\rself.previewArea.css('display', isPreviewOn ? 'none' : '');\rif (!isPreviewOn) {\rlet content = self.getContent();\rself.previewArea.html(content);\r}\r});\rlet btnSave = $(`<a href=\"javascript:void(0);\" title=\"Save\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-save\"></i></a>`);\rbtnSave.on('click', function (e) {\re.preventDefault();\rlet content = self.getContent();\rtypeof options.onSave === 'function' && options.onSave.call(self, content);\r});\rtopbarRight.append(btnSave);\rtopbarRight.append(btnPreview);\r\n};\r\n","export default function (categories) {\rlet newArray = [];\rfor (let i = 0; i < categories.length; i++) {\rlet category = categories[i] || '';\rif (category !== '' && $.inArray(category, newArray) === -1) {\rnewArray.push(category);\r}\r}\rreturn newArray.sort();\r\n};\r\n","export default function () {\rlet timestamp = (new Date()).getTime();\rlet random = Math.round(Math.random() * 9876543210);\rreturn `keditor-ui-${timestamp}${random}`;\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\rexport default function (type, isComponentConfigurable) {\rlet self = this;\rlet options = self.options;\rlet settingBtn = '';\rif (!options.explicitSnippetEnabled) {\rlet toolbarClass = '';\rswitch (type) {\rcase  TOOLBAR_TYPE.CONTENT_AREA:\rtoolbarClass = 'keditor-content-area-toolbar';\rcase  TOOLBAR_TYPE.CONTAINER_CONTENT:\rcase  TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rtoolbarClass = 'keditor-container-content-toolbar';\rreturn (`\r<div class=\"keditor-ui ${toolbarClass}\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-content\" title=\"Add content\">${options.btnAddContentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r}\rswitch (type) {\rcase  TOOLBAR_TYPE.CONTENT_AREA:\rreturn (`\r<div class=\"keditor-ui keditor-content-area-toolbar\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-container\" title=\"Add container\">${options.btnAddContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-setting\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-container\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-reposition\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-duplicate\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-delete\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-setting\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-container keditor-toolbar-sub-container\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-reposition\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-duplicate\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-container-delete\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER_CONTENT:\rreturn (`\r<div class=\"keditor-ui keditor-container-content-toolbar keditor-btn-group\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-container\" title=\"Add sub-container\">${options.btnAddSubContainerText}</a>\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-component\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rreturn (`\r<div class=\"keditor-ui keditor-container-content-toolbar\">\r<a href=\"javascript:void(0)\" class=\"keditor-ui keditor-btn keditor-btn-default btn-add-component\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.COMPONENT:\rif (isComponentConfigurable) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-setting\">${options.btnSettingComponentText}</a>`;\r}\rreturn (`\r<div class=\"keditor-toolbar keditor-toolbar-component\">\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-reposition\">${options.btnMoveComponentText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-duplicate\">${options.btnDuplicateComponentText}</a>\r<a href=\"javascript:void(0);\" class=\"keditor-ui btn-component-delete\">${options.btnDeleteComponentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r\n};\r\n","export default function (event, selector) {\rlet target = $(event.target);\rlet closest = target.closest(selector);\rif (target.is(selector)) {\rreturn target;\r} else if (closest.length > 0) {\rreturn closest;\r} else {\rreturn null;\r}\r\n};\r\n","export default function (target, ignoreAttributes, isArray) {\rlet dataAttributes = isArray ? [] : {};\rif (!ignoreAttributes) {\rignoreAttributes = [];\r}\r$.each(target.get(0).attributes, function (i, attr) {\rif (attr.name.indexOf('data-') === 0 && $.inArray(attr.name, ignoreAttributes) === -1) {\rif (isArray) {\rdataAttributes.push(`${attr.name}=\"${attr.value}\"`);\r} else {\rdataAttributes[attr.name] = attr.value;\r}\r}\r});\rreturn dataAttributes;\r\n};\r\n","export default (...args) => {\rif (console && typeof console.log === 'function' && window.KEDITOR_DEBUG) {\rconsole.log.apply(console, ['[ KEditor ] ', ...args]);\r}\r\n};\r\n","// extracted by mini-css-extract-plugin","module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;"],"sourceRoot":""}