{"version":3,"sources":["keditor-components-1.1.1.js"],"names":["$","KEditor","keditor","flog","log","components","init","contentArea","container","component","options","getContent","componentContent","children","audio","find","unwrap","html","destroy","settingEnabled","settingTitle","initSettingForm","form","append","showSettingForm","fileInput","on","file","this","files","test","type","attr","URL","createObjectURL","load","showSettingPanel","alert","autoplayToggle","e","checked","removeAttr","showcontrolsToggle","audioWidth","css","value","hideSettingForm","jQuery","remove","img","self","photoEdit","next","preventDefault","trigger","settingComponent","width","height","inputAlign","panel","inputResponsive","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","val","algin","prop","hasClass","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","contentId","generateId","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","id","CKEDITOR","instances","getData","wrapper","cover","mouseleave","mouseenter","btnEdit","inputData","prompt","youtubeRegex","match","btn169","removeClass","addClass","btn43","chkAutoplay","embedItem","currentUrl","newUrl","replace","is","src","indexOf"],"mappings":"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","file":"keditor-components-1.1.1.min.js","sourcesContent":["/**\r\n * KEditor Audio Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    $.keditor.components['audio'] = {\r\n        /**\r\n         * Function will be called when initializing a component with this type\r\n         * @param {jQuery} contentArea\r\n         * @param {jQuery} container\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"audio\" component', component);\r\n        },\r\n\r\n        /**\r\n         * Function will be called for getting content of component from method of KEditor \"target.keditor('getContent')\"\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        getContent: function (component, options) {\r\n            flog('getContent \"audio\" component, component');\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var audio = componentContent.find('audio');\r\n            audio.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        /**\r\n         * Function will be called when deleting component\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        destroy: function (component, options) {\r\n\r\n        },\r\n\r\n        // Enable setting panel for this type or not\r\n        settingEnabled: true,\r\n\r\n        // Title of setting panel\r\n        settingTitle: 'Audio settings',\r\n\r\n        /**\r\n         * Initialize setting form of this type\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         * @param {Object} options\r\n         */\r\n        initSettingForm: function (form, options) {\r\n            flog('init \"audio\" settings', form);\r\n            var self = this;\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                            '<input type=\"file\" id=\"audioFileInput\">' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                            '<input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                        '<input type=\"checkbox\" id=\"audio-showcontrols\" checked />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-width\" class=\"col-sm-12\">Width (%)</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                        '<input type=\"number\" id=\"audio-width\" min=\"20\" max=\"100\" class=\"form-control\" value=\"100\" />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</form>'\r\n            );\r\n\r\n\r\n        },\r\n\r\n        /**\r\n         * Show setting form for this type. This function will be called when user clicks on setting button of component when setting panel is hidden. You can fulfill form controls in this function.\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         * @param {jQuery} component Component will be applied setting\r\n         * @param {Object} options\r\n         */\r\n        showSettingForm: function (form, component, options) {\r\n            var audio = component.find('audio');\r\n            var fileInput = form.find('#audioFileInput');\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/audio/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n\r\n                    audio.attr('src', URL.createObjectURL(file));\r\n\r\n                    audio.load(function () {\r\n                        KEditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an audio file!');\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            autoplayToggle.on('click', function(e){\r\n                if(this.checked){\r\n                    audio.attr('autoplay','autoplay');\r\n                }else{\r\n                    audio.removeAttr('autoplay');\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#audio-showcontrols');\r\n            showcontrolsToggle.on('click', function(e){\r\n                if(this.checked){\r\n                    audio.attr('controls','controls');\r\n                }else{\r\n                    audio.removeAttr('controls');\r\n                }\r\n            });\r\n\r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.on('change', function(){\r\n                audio.css('width',this.value+'%');\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Hide setting form for this type. This function will be called when user clicks again on setting button of component when setting panel is showed. You can clear setting form in this function\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         */\r\n        hideSettingForm: function (form) {\r\n\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"photo\" component, component');\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.photo-toolbar').remove();\r\n            var img = componentContent.find('img');\r\n            img.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Photo',\r\n\r\n        initSettingForm: function (form, options) {\r\n            var self = this;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '           <input type=\"file\" style=\"display: none\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var photoEdit = form.find('#photo-edit');\r\n            var fileInput = photoEdit.next();\r\n            photoEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/image/.test(file.type)) {\r\n                    var img = KEditor.settingComponent.find('img');\r\n                    img.attr('src', URL.createObjectURL(file));\r\n                    img.css({\r\n                        width: '',\r\n                        height: ''\r\n                    });\r\n                    img.load(function () {\r\n                        KEditor.showSettingPanel(KEditor.settingComponent, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not photo!');\r\n                }\r\n            });\r\n\r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = KEditor.settingComponent.find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                KEditor.settingComponent.find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = KEditor.settingComponent.find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n\r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n\r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = KEditor.settingComponent.find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n\r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n\r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n\r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n\r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n\r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n\r\n            $('<img />').attr('src', img.attr('src')).load(function() {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']},\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"text\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            var contentId = KEditor.generateId('component-content');\r\n            flog('Id for component content is: ' + contentId);\r\n            componentContent.attr('id', contentId);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(this.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Youtube Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var wrapper = componentContent.find('.youtube-wrapper');\r\n            var img = wrapper.find('img');\r\n\r\n            wrapper.append('<div class=\"youtube-cover\" style=\"display: none\"></div>');\r\n\r\n            var cover = wrapper.find('.youtube-cover');\r\n            wrapper.on({\r\n                mouseleave: function () {\r\n                    cover.css('display', 'none');\r\n                },\r\n                mouseenter: function () {\r\n                    cover.css('display', 'block');\r\n                }\r\n            });\r\n            cover.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                cover.css('display', 'none');\r\n            });\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.youtube-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Player',\r\n\r\n        initSettingForm: function (form, options) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    KEditor.settingComponent.find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                KEditor.settingComponent.find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                KEditor.settingComponent.find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = KEditor.settingComponent.find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}