{"version":3,"sources":["keditor-components-1.1.1.js"],"names":["$","KEditor","keditor","flog","log","components","init","contentArea","container","component","options","getContent","componentContent","children","audio","find","unwrap","html","destroy","settingEnabled","settingTitle","initSettingForm","form","append","showSettingForm","fileInput","btnAudioFileInput","on","e","preventDefault","trigger","file","this","files","test","type","attr","URL","createObjectURL","load","showSettingPanel","alert","autoplayToggle","checked","removeAttr","showcontrolsToggle","audioWidth","css","value","hideSettingForm","jQuery","remove","img","self","photoEdit","next","settingComponent","width","height","inputAlign","panel","inputResponsive","inputWidth","inputHeight","newWidth","newHeight","Math","round","ratio","val","algin","prop","hasClass","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","contentId","generateId","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","id","CKEDITOR","instances","getData","wrapper","cover","mouseleave","mouseenter","btnEdit","inputData","prompt","youtubeRegex","match","btn169","removeClass","addClass","btn43","chkAutoplay","embedItem","currentUrl","newUrl","replace","is","src","indexOf"],"mappings":"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","file":"keditor-components-1.1.1.min.js","sourcesContent":["/**\r\n * KEditor Audio Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    $.keditor.components['audio'] = {\r\n        /**\r\n         * Function will be called when initializing a component with this type\r\n         * @param {jQuery} contentArea\r\n         * @param {jQuery} container\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"audio\" component', component);\r\n        },\r\n\r\n        /**\r\n         * Function will be called for getting content of component from method of KEditor \"target.keditor('getContent')\"\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        getContent: function (component, options) {\r\n            flog('getContent \"audio\" component, component');\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var audio = componentContent.find('audio');\r\n            audio.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        /**\r\n         * Function will be called when deleting component\r\n         * @param {jQuery} component\r\n         * @param {Object} options\r\n         */\r\n        destroy: function (component, options) {\r\n\r\n        },\r\n\r\n        // Enable setting panel for this type or not\r\n        settingEnabled: true,\r\n\r\n        // Title of setting panel\r\n        settingTitle: 'Audio settings',\r\n\r\n        /**\r\n         * Initialize setting form of this type\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         * @param {Object} options\r\n         */\r\n        initSettingForm: function (form, options) {\r\n            flog('init \"audio\" settings', form);\r\n            var self = this;\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audioFileInput\" class=\"col-sm-12\">Audio file</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                            '<div class=\"audio-toolbar\">'+\r\n                                '<a href=\"#\" class=\"btn-audioFileInput btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>'+\r\n                                '<input id=\"audioFileInput\" type=\"file\" style=\"display: none\">' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-autoplay\" class=\"col-sm-12\">Autoplay</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                            '<input type=\"checkbox\" id=\"audio-autoplay\" />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-showcontrols\" class=\"col-sm-12\">Show Controls</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                        '<input type=\"checkbox\" id=\"audio-showcontrols\" checked />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<div class=\"form-group\">' +\r\n                        '<label for=\"audio-width\" class=\"col-sm-12\">Width (%)</label>' +\r\n                        '<div class=\"col-sm-12\">' +\r\n                        '<input type=\"number\" id=\"audio-width\" min=\"20\" max=\"100\" class=\"form-control\" value=\"100\" />' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</form>'\r\n            );\r\n\r\n\r\n        },\r\n\r\n        /**\r\n         * Show setting form for this type. This function will be called when user clicks on setting button of component when setting panel is hidden. You can fulfill form controls in this function.\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         * @param {jQuery} component Component will be applied setting\r\n         * @param {Object} options\r\n         */\r\n        showSettingForm: function (form, component, options) {\r\n            var audio = component.find('audio');\r\n            var fileInput = form.find('#audioFileInput');\r\n            var btnAudioFileInput = form.find('.btn-audioFileInput');\r\n            btnAudioFileInput.on('click', function(e){\r\n                e.preventDefault();\r\n\r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/audio/.test(file.type)) {\r\n                    // Todo: Upload to your server :)\r\n\r\n                    audio.attr('src', URL.createObjectURL(file));\r\n\r\n                    audio.load(function () {\r\n                        KEditor.showSettingPanel(component, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not an audio file!');\r\n                }\r\n            });\r\n\r\n            var autoplayToggle = form.find('#audio-autoplay');\r\n            autoplayToggle.on('click', function(e){\r\n                if(this.checked){\r\n                    audio.attr('autoplay','autoplay');\r\n                }else{\r\n                    audio.removeAttr('autoplay');\r\n                }\r\n            });\r\n\r\n            var showcontrolsToggle = form.find('#audio-showcontrols');\r\n            showcontrolsToggle.on('click', function(e){\r\n                if(this.checked){\r\n                    audio.attr('controls','controls');\r\n                }else{\r\n                    audio.removeAttr('controls');\r\n                }\r\n            });\r\n\r\n            var audioWidth = form.find('#audio-width');\r\n            audioWidth.on('change', function(){\r\n                audio.css('width',this.value+'%');\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Hide setting form for this type. This function will be called when user clicks again on setting button of component when setting panel is showed. You can clear setting form in this function\r\n         * @param {jQuery} form Form contains all setting of this type and is child of div[id=\"keditor-setting-forms\"]\r\n         */\r\n        hideSettingForm: function (form) {\r\n\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Photo Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['photo'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"photo\" component, component');\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.photo-toolbar').remove();\r\n            var img = componentContent.find('img');\r\n            img.unwrap();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Photo',\r\n\r\n        initSettingForm: function (form, options) {\r\n            var self = this;\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n                '           <input type=\"file\" style=\"display: none\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <select id=\"photo-align\" class=\"form-control\">' +\r\n                '               <option value=\"left\">Left</option>' +\r\n                '               <option value=\"center\">Center</option>' +\r\n                '               <option value=\"right\">Right</option>' +\r\n                '           </select>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var photoEdit = form.find('#photo-edit');\r\n            var fileInput = photoEdit.next();\r\n            photoEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                fileInput.trigger('click');\r\n            });\r\n            fileInput.on('change', function () {\r\n                var file = this.files[0];\r\n                if (/image/.test(file.type)) {\r\n                    var img = KEditor.settingComponent.find('img');\r\n                    img.attr('src', URL.createObjectURL(file));\r\n                    img.css({\r\n                        width: '',\r\n                        height: ''\r\n                    });\r\n                    img.load(function () {\r\n                        KEditor.showSettingPanel(KEditor.settingComponent, options);\r\n                    });\r\n                } else {\r\n                    alert('Your selected file is not photo!');\r\n                }\r\n            });\r\n\r\n            var inputAlign = form.find('#photo-align');\r\n            inputAlign.on('change', function () {\r\n                var panel = KEditor.settingComponent.find('.photo-panel');\r\n                panel.css('text-align', this.value);\r\n            });\r\n\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            inputResponsive.on('click', function () {\r\n                KEditor.settingComponent.find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n            });\r\n\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n            inputWidth.on('change', function () {\r\n                var img = KEditor.settingComponent.find('img');\r\n                var newWidth = +this.value;\r\n                var newHeight = Math.round(newWidth / self.ratio);\r\n\r\n                if (newWidth <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newWidth;\r\n                }\r\n\r\n                img.css({\r\n                    'width': newWidth,\r\n                    'height': newHeight\r\n                });\r\n                inputHeight.val(newHeight);\r\n            });\r\n            inputHeight.on('change', function () {\r\n                var img = KEditor.settingComponent.find('img');\r\n                var newHeight = +this.value;\r\n                var newWidth = Math.round(newHeight * self.ratio);\r\n\r\n                if (newHeight <= 0) {\r\n                    newWidth = self.width;\r\n                    newHeight = self.height;\r\n                    this.value = newHeight;\r\n                }\r\n\r\n                img.css({\r\n                    'height': newHeight,\r\n                    'width': newWidth\r\n                });\r\n                inputWidth.val(newWidth);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            var self = this;\r\n            var inputAlign = form.find('#photo-align');\r\n            var inputResponsive = form.find('#photo-responsive');\r\n            var inputWidth = form.find('#photo-width');\r\n            var inputHeight = form.find('#photo-height');\r\n\r\n            var panel = component.find('.photo-panel');\r\n            var img = panel.find('img');\r\n\r\n            var algin = panel.css('text-align');\r\n            if (algin !== 'right' || algin !== 'center') {\r\n                algin = 'left';\r\n            }\r\n\r\n            inputAlign.val(algin);\r\n            inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n            inputWidth.val(img.width());\r\n            inputHeight.val(img.height());\r\n\r\n            $('<img />').attr('src', img.attr('src')).load(function() {\r\n                self.ratio = this.width / this.height;\r\n                self.width = this.width;\r\n                self.height = this.height;\r\n            });\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Text Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    // Text component\r\n    // ---------------------------------------------------------------------\r\n    KEditor.components['text'] = {\r\n        options: {\r\n            toolbarGroups: [\r\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\r\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\r\n                {name: 'forms', groups: ['forms']},\r\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\r\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\r\n                {name: 'links', groups: ['links']},\r\n                {name: 'insert', groups: ['insert']},\r\n                '/',\r\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\r\n                {name: 'styles', groups: ['styles']},\r\n                {name: 'colors', groups: ['colors']},\r\n                {name: 'tools', groups: ['tools']},\r\n                {name: 'others', groups: ['others']},\r\n            ],\r\n            title: false,\r\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\r\n            bodyId: 'editor',\r\n            templates_replaceContent: false,\r\n            enterMode: 'P',\r\n            forceEnterMode: true,\r\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\r\n            removePlugins: 'table,magicline,tabletools',\r\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\r\n            minimumChangeMilliseconds: 100\r\n        },\r\n\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"text\" component', component);\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.prop('contenteditable', true);\r\n\r\n            var contentId = KEditor.generateId('component-content');\r\n            flog('Id for component content is: ' + contentId);\r\n            componentContent.attr('id', contentId);\r\n\r\n            componentContent.on('input', function (e) {\r\n                if (typeof options.onComponentChanged === 'function') {\r\n                    options.onComponentChanged.call(contentArea, e, component);\r\n                }\r\n\r\n                if (typeof options.onContainerChanged === 'function') {\r\n                    options.onContainerChanged.call(contentArea, e, container);\r\n                }\r\n\r\n                if (typeof options.onContentChanged === 'function') {\r\n                    options.onContentChanged.call(contentArea, e);\r\n                }\r\n            });\r\n\r\n            var editor = componentContent.ckeditor(this.options).editor;\r\n            editor.on('instanceReady', function () {\r\n                flog('CKEditor is ready', component);\r\n\r\n                if (typeof options.onComponentReady === 'function') {\r\n                    options.onComponentReady.call(contentArea, component, editor);\r\n                }\r\n            });\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"text\" component', component);\r\n\r\n            var componentContent = component.find('.keditor-component-content');\r\n            var id = componentContent.attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                return editor.getData();\r\n            } else {\r\n                return componentContent.html();\r\n            }\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            flog('destroy \"text\" component', component);\r\n\r\n            var id = component.find('.keditor-component-content').attr('id');\r\n            var editor = CKEDITOR.instances[id];\r\n            if (editor) {\r\n                editor.destroy();\r\n            }\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * KEditor Youtube Component\r\n * @copyright: Kademi (http://kademi.co)\r\n * @author: Kademi (http://kademi.co)\r\n * @version: 1.1.1\r\n * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap, FontAwesome (optional)\r\n */\r\n(function ($) {\r\n    var KEditor = $.keditor;\r\n    var flog = KEditor.log;\r\n\r\n    KEditor.components['youtube'] = {\r\n        init: function (contentArea, container, component, options) {\r\n            flog('init \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            var wrapper = componentContent.find('.youtube-wrapper');\r\n            var img = wrapper.find('img');\r\n\r\n            wrapper.append('<div class=\"youtube-cover\" style=\"display: none\"></div>');\r\n\r\n            var cover = wrapper.find('.youtube-cover');\r\n            wrapper.on({\r\n                mouseleave: function () {\r\n                    cover.css('display', 'none');\r\n                },\r\n                mouseenter: function () {\r\n                    cover.css('display', 'block');\r\n                }\r\n            });\r\n            cover.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                cover.css('display', 'none');\r\n            });\r\n        },\r\n\r\n        getContent: function (component, options) {\r\n            flog('getContent \"youtube\" component', component);\r\n\r\n            var componentContent = component.children('.keditor-component-content');\r\n            componentContent.find('.youtube-cover').remove();\r\n\r\n            return componentContent.html();\r\n        },\r\n\r\n        destroy: function (component, options) {\r\n            // Do nothing\r\n        },\r\n\r\n        settingEnabled: true,\r\n\r\n        settingTitle: 'Youtube Player',\r\n\r\n        initSettingForm: function (form, options) {\r\n            flog('initSettingForm \"youtube\" component');\r\n\r\n            form.append(\r\n                '<form class=\"form-horizontal\">' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '   <div class=\"form-group\">' +\r\n                '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n                '       <div class=\"col-sm-12\">' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n                '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n                '       </div>' +\r\n                '   </div>' +\r\n                '</form>'\r\n            );\r\n\r\n            var btnEdit = form.find('.btn-youtube-edit');\r\n            btnEdit.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                var inputData = prompt('Please enter Youtube URL in here:');\r\n                var youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n                var match = inputData.match(youtubeRegex);\r\n                if (match && match[1]) {\r\n                    KEditor.settingComponent.find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n                } else {\r\n                    alert('Your Youtube URL is invalid!');\r\n                }\r\n            });\r\n\r\n            var btn169 = form.find('.btn-youtube-169');\r\n            btn169.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                KEditor.settingComponent.find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n            });\r\n\r\n            var btn43 = form.find('.btn-youtube-43');\r\n            btn43.on('click', function (e) {\r\n                e.preventDefault();\r\n\r\n                KEditor.settingComponent.find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n            });\r\n\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            chkAutoplay.on('click', function () {\r\n                var embedItem = KEditor.settingComponent.find('.embed-responsive-item');\r\n                var currentUrl = embedItem.attr('src');\r\n                var newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n\r\n                flog('Current url: ' + currentUrl, 'New url: ' + newUrl);\r\n                embedItem.attr('src', newUrl);\r\n            });\r\n        },\r\n\r\n        showSettingForm: function (form, component, options) {\r\n            flog('showSettingForm \"youtube\" component', component);\r\n\r\n            var embedItem = component.find('.embed-responsive-item');\r\n            var chkAutoplay = form.find('#youtube-autoplay');\r\n            var src = embedItem.attr('src');\r\n\r\n            chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n        },\r\n\r\n        hideSettingForm: function (form) {\r\n            // Do nothing\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}