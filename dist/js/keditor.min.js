/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 2.0.0
 * @dependencies: $, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.classNames=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t="keditor-",n={UI:"".concat(t,"ui"),HIDDEN_ELEMENT:"".concat(t,"hidden-element"),CLICKS_INITIALIZED:"".concat(t,"clicks-initialized"),CONTENT_AREAS_WRAPPER:"".concat(t,"content-areas-wrapper")};e.default=n}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./classNames"],t);else if("undefined"!=typeof exports)t(exports,require("./classNames"));else{var n={};t(n,e.classNames),e.defaults=n}}(this,function(e,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(n=t)&&n.__esModule?n:{default:n};var o={nestedContainerEnabled:!0,explicitSnippetEnabled:!1,containerForQuickAddComponent:'\n        <div class="row">\n            <div class="col-sm-12" data-type="container-content">\n            </div>\n        </div>\n    ',btnAddContentText:'<i class="fa fa-plus"></i>',btnAddContainerText:'<i class="fa fa-plus"></i> <i class="fa fa-fw fa-columns"></i>',btnAddSubContainerText:'<i class="fa fa-plus"></i> <i class="fa fa-fw fa-columns"></i>',btnAddComponentText:'<i class="fa fa-plus"></i> <i class="fa fa-fw fa-list-ul"></i>',btnMoveContainerText:'<i class="fa fa-sort"></i>',btnMoveComponentText:'<i class="fa fa-arrows"></i>',btnSettingContainerText:'<i class="fa fa-cog"></i>',btnSettingComponentText:'<i class="fa fa-cog"></i>',btnDuplicateContainerText:'<i class="fa fa-files-o"></i>',btnDuplicateComponentText:'<i class="fa fa-files-o"></i>',btnDeleteContainerText:'<i class="fa fa-times"></i>',btnDeleteComponentText:'<i class="fa fa-times"></i>',confirmDeleteContainerText:"Are you sure that you want to delete this container? This action can not be undone!",confirmDeleteComponentText:"Are you sure that you want to delete this component? This action can not be undone!",defaultComponentType:"blank",snippetsUrl:"snippets/snippets.html",snippetsFilterEnabled:!0,snippetsCategoriesSeparator:";",iframeMode:!1,contentStyles:[],contentAreasSelector:null,contentAreasWrapper:'<div class="'.concat(t.default.UI," ").concat(t.default.CONTENT_AREAS_WRAPPER,'"></div>'),containerSettingEnabled:!1,containerSettingInitFunction:null,containerSettingShowFunction:null,containerSettingHideFunction:null,onReady:function(){},onSnippetsLoaded:function(e){},onSnippetsError:function(e,t){},onInitIframe:function(e,t,n){},onContentChanged:function(e,t){},onBeforeInitContentArea:function(e){},onInitContentArea:function(e){},onBeforeInitContainer:function(e,t){},onInitContainer:function(e,t){},onBeforeContainerDeleted:function(e,t,n){},onContainerDeleted:function(e,t,n){},onContainerChanged:function(e,t,n){},onContainerDuplicated:function(e,t,n,o){},onContainerSelected:function(e,t,n){},onContainerSnippetAdded:function(e,t,n,o){},onComponentReady:function(e){},onBeforeInitComponent:function(e,t){},onInitComponent:function(e,t){},onBeforeComponentDeleted:function(e,t,n){},onComponentDeleted:function(e,t,n){},onComponentChanged:function(e,t,n){},onComponentDuplicated:function(e,t,n,o){},onComponentSelected:function(e,t,n){},onComponentSnippetAdded:function(e,t,n,o){},onBeforeDynamicContentLoad:function(e,t,n){},onDynamicContentLoaded:function(e,t,n,o,i){},onDynamicContentError:function(e,t,n,o,i){}};e.default=o}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.snippetType=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={ALL:0,CONTAINER:1,COMPONENT:2}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.toolbarType=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={CONTENT_AREA:0,CONTAINER:1,SUB_CONTAINER:2,CONTAINER_CONTENT:3,SUB_CONTAINER_CONTENT:4,COMPONENT:5}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","jquery"],t);else if("undefined"!=typeof exports)t(exports,require("jquery"));else{var n={};t(n,e.jQuery),e.log=n}}(this,function(e,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o=(t=o)&&t.__esModule?t:{default:t};e.default=function(){if(console&&"function"==typeof console.log&&o.default.keditor.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log.apply(console,["[ KEditor ] "].concat(t))}}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.convertToComponent=n}}(this,function(e,a){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n,o){if((0,a.default)("convertToComponent",e,t,n,o),n.is(".keditor-container-content-toolbar"))return;var i;i=n.is("section")?(n.addClass("keditor-ui keditor-component"),n.wrapInner('<section class="keditor-ui keditor-component-content"></section>'),n):(n.wrap('<section class="keditor-ui keditor-component"><section class="keditor-ui keditor-component-content"></section></section>'),n.parent().parent());o&&i.addClass("existing-component");this.initComponent(e,t,i)},a=(t=a)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.deleteComponent=n}}(this,function(e,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){(0,o.default)("deleteComponent",e);var t=this.getComponentType(e),n=KEditor.components[t];"function"==typeof n.destroy&&n.destroy.call(n,e,this);e.remove()},o=(t=o)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.getComponentContent=n}}(this,function(e,l){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){(0,l.default)("getComponentContent");var t,n=e.clone(),o=this.getComponentType(n),i=KEditor.components[o],a=this.getDataAttributes(n,null,!0),r=e.find(".keditor-iframe-wrapper");if(0<r.length){r.find(".keditor-iframe-cover").remove();var s=r.children("iframe");r.hasClass("keditor-iframe-wrapper-fake")?s.unwrap():r.removeClass("keditor-iframe-wrapper")}if("function"==typeof i.getContent)t=i.getContent.call(i,n,this);else{var d=n.children(".keditor-component-content");t=d.html()}return n.html(t).find("[data-dynamic-href]").each(function(){$(this).html("")}),"<section ".concat(a.join(" "),">").concat(n.html(),"</section>")},l=(t=l)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/error","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/error"),require("../utils/log"));else{var n={};t(n,e.error,e.log),e.getComponentType=n}}(this,function(e,o,i){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=this.options,n=(e.attr("data-type")||"").replace("component-","");return n&&n in KEditor.components||("string"==typeof t.defaultComponentType?n=t.defaultComponentType:"function"==typeof t.defaultComponentType&&(n=t.defaultComponentType.call(this,e)),n||(0,o.default)("Component type is undefined!"),(0,i.default)("Fallback to defaultComponentType: ".concat(n))),n},o=t(o),i=t(i)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/toolbarType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/toolbarType"),require("../utils/log"));else{var n={};t(n,e.toolbarType,e.log),e.initComponent=n}}(this,function(e,d,l){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n){(0,l.default)("initComponent",e,t,n);var o=this,i=o.options;o.body;if(n.hasClass("keditor-initialized-component")&&n.hasClass("keditor-initializing-component"))n.hasClass("keditor-initialized-component")?(0,l.default)("Component is already initialized!"):(0,l.default)("Component is initializing...");else{n.addClass("keditor-initializing-component"),n.attr("id",o.generateId("component")),"function"==typeof i.onBeforeInitComponent&&i.onBeforeInitComponent.call(o,n,e);var a=n.children(".keditor-component-content");a.attr("id",o.generateId("component-content"));var r=o.getComponentType(n);(0,l.default)("Component type: ".concat(r));var s=KEditor.components[r];(0,l.default)("Render KEditor toolbar for component",n),n.append(o.generateToolbar(d.default.COMPONENT,s.settingEnabled)),n.find("[data-dynamic-href]").each(function(){var e=$(this);o.initDynamicContent(e)}),"function"==typeof s.init?s.init.call(s,e,t,n,o):(0,l.default)('"init" function of component type "'.concat(r,'" does not exist')),"function"==typeof i.onInitComponent&&i.onInitComponent.call(o,n,e),n.addClass("keditor-initialized-component"),n.removeClass("keditor-initializing-component")}},d=t(d),l=t(l)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.initDynamicContent=n}}(this,function(e,s){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){(0,s.default)("initDynamicContent",o);var i=this,a=i.options,e=o.closest(".keditor-component"),r=o.closest(".keditor-content-area");o.attr("id",i.generateId("dynamic-element")),"function"==typeof a.onBeforeDynamicContentLoad&&a.onBeforeDynamicContentLoad.call(i,o,e,r);var t=o.attr("data-dynamic-href"),n=i.getDataAttributes(e,["data-type","data-dynamic-href"],!1);return n=$.param(n),(0,s.default)("Dynamic href: ".concat(t,", Data: ").concat(n)),$.ajax({url:t,data:n,type:"GET",dataType:"HTML",success:function(e,t,n){(0,s.default)("Dynamic content is loaded",o,e,t,n),o.html(e),"function"==typeof a.onDynamicContentLoaded&&a.onDynamicContentLoaded.call(i,o,e,t,n,r)},error:function(e,t,n){(0,s.default)("Error when loading dynamic content",o,e,t,n),"function"==typeof a.onDynamicContentError&&a.onDynamicContentError.call(i,o,e,t,n,r)}})},s=(t=s)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.convertToContainer=n}}(this,function(e,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){(0,o.default)("convertToContainer",e,t);var n;n=t.is("section")?(t.addClass("keditor-ui keditor-container"),t.wrapInner('<section class="keditor-ui keditor-container-inner"></section>'),t):(t.wrap('<section class="keditor-ui keditor-container"><section class="keditor-ui keditor-container-inner"></section></section>'),t.parent().parent());this.initContainer(e,n)},o=(t=o)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.getContainerContent=n}}(this,function(e,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){(0,i.default)("getContainerContent - isNested=".concat(t),e);var o=this,n=e.children(".keditor-container-inner").clone();return n.find("[data-type=container-content]").not(t?"":".keditor-sub-container-content").each(function(){var e=$(this);e.removeClass("keditor-container-content keditor-sub-container-content ui-sortable").removeAttr("id");var t=e.children(),n="";t.children().each(function(){var e=$(this);e.is(".keditor-component")?n+=o.getComponentContent(e):e.is(".keditor-sub-container")&&(n+=o.getContainerContent(e,!0))}),e.html(n)}),"<section>".concat(n.html(),"</section>")},i=(t=i)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/toolbarType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/toolbarType"),require("../utils/log"));else{var n={};t(n,e.toolbarType,e.log),e.initContainer=n}}(this,function(e,r,s){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){var o=this,i=o.options,a=i.nestedContainerEnabled&&0<n.closest('[data-type="container-content"]').length;if((0,s.default)("initContainer - isNested=".concat(a),t,n),n.hasClass("keditor-initialized-container")&&n.hasClass("keditor-initializing-container"))n.hasClass("keditor-initialized-container")?(0,s.default)("Container is already initialized!"):(0,s.default)("Container is initializing...");else{n.addClass("keditor-initializing-container"),"function"==typeof i.onBeforeInitContainer&&i.onBeforeInitContainer.call(o,n,t),a&&n.addClass("keditor-sub-container"),(0,s.default)("Render KEditor toolbar for container",n),n.append(o.generateToolbar(a?r.default.SUB_CONTAINER:r.default.CONTAINER)),n.attr("id",o.generateId(a?"sub-container":"container"));var e=n.find('[data-type="container-content"]');(0,s.default)("Initialize ".concat(e.length," container content(s)")),e.each(function(){var e=$(this);i.nestedContainerEnabled&&!a&&0<e.parents('[data-type="container-content"]').length||o.initContainerContent(t,n,e,a)}),"function"==typeof i.onInitContainer&&i.onInitContainer.call(o,n,t),n.addClass("keditor-initialized-container"),n.removeClass("keditor-initializing-container")}},r=t(r),s=t(s)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/toolbarType","../constants/snippetType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/toolbarType"),require("../constants/snippetType"),require("../utils/log"));else{var n={};t(n,e.toolbarType,e.snippetType,e.log),e.initContainerContent=n}}(this,function(e,d,l,c){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a,t,e,n){(0,c.default)("initContainerContent - isNested=".concat(n),a,t,e);var r=this,s=r.options;e.addClass("keditor-container-content"),n&&e.addClass("keditor-sub-container-content");e.attr("id",r.generateId("container-content"));var o=$('<div class="keditor-container-content-inner"></div>');o.html(e.html()),e.html(o),(0,c.default)("Initialize toolbar for container content");var i=$(r.generateToolbar(n?d.default.SUB_CONTAINER_CONTENT:d.default.CONTAINER_CONTENT));i.appendTo(e),s.explicitSnippetEnabled?(n||s.explicitSnippetEnabled&&i.children(".btn-add-container").on("click",function(e){e.preventDefault(),r.openModal(o,l.default.CONTAINER)}),i.children(".btn-add-component").on("click",function(e){e.preventDefault(),r.openModal(o,l.default.COMPONENT)})):i.children(".btn-add-content").on("click",function(e){e.preventDefault(),r.openModal(o,n?l.default.COMPONENT:s.nestedContainerEnabled?l.default.ALL:l.default.COMPONENT)});(0,c.default)("Initialize $.fn.sortable for container content"),o.sortable({handle:".btn-component-reposition, .btn-container-reposition",helper:"clone",items:"> section",connectWith:".keditor-container-content-inner",tolerance:"pointer",sort:function(){$(this).removeClass("ui-state-default")},receive:function(e,t){(0,c.default)("On received snippet",e,t);var n,o=t.helper,i=t.item;o&&o.remove(),(n=i.closest(".keditor-container")).hasClass("showed-keditor-toolbar")||($(".keditor-container.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),n.addClass("showed-keditor-toolbar")),"function"==typeof s.onContainerChanged&&s.onContainerChanged.call(r,e,n,a),"function"==typeof s.onContentChanged&&s.onContentChanged.call(r,e,a),i.removeClass("keditor-ui-dragging")},start:function(e,t){t.item.addClass("keditor-ui-dragging")},stop:function(e,t){t.helper&&t.helper.remove(),t.item.removeClass("keditor-ui-dragging")}}),(0,c.default)("Initialize existing components inside container content"),o.children().each(function(){var e=$(this);0<e.find('[data-type="container-content"]').length?r.convertToContainer(a,e):r.convertToComponent(a,t,e,!0)})},d=t(d),l=t(l),c=t(c)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/toolbarType","../constants/snippetType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/toolbarType"),require("../constants/snippetType"),require("../utils/log"));else{var n={};t(n,e.toolbarType,e.snippetType,e.log),e.initContentArea=n}}(this,function(e,d,l,c){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i,e){(0,c.default)("initContentArea",i);var a=this,r=a.options;i.addClass("keditor-content-area");var t=i.html(),n=$('<div class="keditor-content-area-inner"></div>').html(t);i.html(n),"function"==typeof r.onBeforeInitContentArea&&r.onBeforeInitContentArea.call(a,i);if(!e){var o=$(a.generateToolbar(d.default.CONTENT_AREA));i.append(o),o.children(r.explicitSnippetEnabled?".btn-add-container":".btn-add-content").on("click",function(e){e.preventDefault(),a.openModal(n,r.explicitSnippetEnabled?l.default.CONTAINER:l.default.ALL)})}if((0,c.default)("Initialize $.fn.sortable for content area"),n.sortable({handle:".keditor-toolbar-container:not(.keditor-toolbar-sub-container) .btn-container-reposition",items:"> section",helper:"clone",connectWith:".keditor-content-area",axis:"y",tolerance:"pointer",sort:function(){$(this).removeClass("ui-state-default")},receive:function(e,t){(0,c.default)("On received snippet",e,t);var n=t.helper,o=t.item;n&&n.remove(),a.closeSidebar(),"function"==typeof r.onContentChanged&&r.onContentChanged.call(a,e,i),o.addClass("keditor-ui-dragging")},start:function(e,t){t.item.addClass("keditor-ui-dragging")},stop:function(e,t){t.helper&&t.helper.remove(),t.item.removeClass("keditor-ui-dragging")}}),(0,c.default)("Initialize existing containers in content area"),n.children("section").each(function(){a.convertToContainer(i,$(this))}),"function"==typeof r.onInitContentArea){var s=r.onInitContentArea.call(a,i);s&&0<s.length&&$.each(s,function(){a.convertToContainer(i,$(this))})}},d=t(d),l=t(l),c=t(c)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.initContentAreas=n}}(this,function(e,a){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){(0,a.default)("initContentAreas");var e,t=this,n=t.contentAreasWrapper,o=t.options;o.contentAreasSelector&&(e=n.find(o.contentAreasSelector));if(!e||0===e.length){(0,a.default)("Do not find any content area. Creating default content area...");var i=n.html();e=$("<div />").html(i),n.empty().append(e)}e.each(function(){var e=$(this);e.attr("id")||e.attr("id",t.generateId("content-area")),t.initContentArea(e)})},a=(t=a)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.destroy=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=this,t=e.element,n=e.id,o=e.getContent(!1);e.options.iframeMode?e.iframeWrapper.remove():e.contentAreasWrapper.remove();t.is("textarea")?t.val(o):t.html(o);t.removeClass("keditor-hidden-element"),t.data("keditor",null),delete KEditor.instances[n]}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.getContent=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var n=this,o=[];return n.contentAreasWrapper.find(".keditor-content-area-inner").each(function(){var t="";$(this).children(".keditor-container").each(function(){var e=$(this);t+=n.getContainerContent(e)}),o.push(t)}),e?o:o.join("\n")}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.initIframe=n}}(this,function(e,f){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=this,t=e.options,n=e.element,o=n.is("textarea")?n.val():n.html(),i=e.iframeWrapper=$('<div class="keditor-ui keditor-iframe-wrapper"></div>'),a=e.iframe=$('<iframe class="keditor-ui keditor-iframe"></iframe>');n.after(i),i.attr("id",e.generateId("iframe-wrapper")).append(a),n.addClass("keditor-hidden-element");var r=e.iframeDoc=a.contents();r.get(0).open(),r.get(0).close(),e.window=a[0].contentWindow?a[0].contentWindow:a[0].contentDocument.defaultView;var s=e.iframeHead=r.find("head"),d=e.iframeBody=e.body=r.find("body");(0,f.default)("Adding styles to iframe...");var l="";$('[data-type="keditor-style"]').each(function(){var e=$(this),t=e.attr("href")||e.attr("data-href")||"";l+=t?'<link rel="stylesheet" type="text/css" href="'.concat(t,'" />\n'):'<style type="text/css">'.concat(e.html(),"</style>\n")}),t.contentStyles&&$.isArray(t.contentStyles)&&$.each(t.contentStyles,function(e,t){var n="";t.id&&(n=' id="'.concat(t.id,'" ')),t.href?l+='<link rel="stylesheet" type="text/css" href="'.concat(t.href,'" ').concat(n," />\n"):l+='<style type="text/css" '.concat(n,">").concat(t.content,"</style>\n")});s.append(l),(0,f.default)("Adding original content to iframe...");var c=e.generateContentAreasWrapper(o);d.append(c),e.contentAreasWrapper=c,"function"==typeof t.onInitIframe&&t.onInitIframe.call(e,a,s,d)},f=(t=f)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.initIframeCover=n}}(this,function(e,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){t||(e.wrap('<div class="keditor-iframe-wrapper-fake"></div>'),t=e.parent());t.addClass("keditor-iframe-wrapper");var n=$('<div class="keditor-iframe-cover"></div>');t.prepend(n),t.on("mouseleave",function(){t.removeClass("hidden-cover")}),n.on("dblclick",function(e){e.preventDefault(),t.addClass("hidden-cover")})},t=(n=t)&&n.__esModule?n:{default:n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./constants/defaults","./constants/classNames"],t);else if("undefined"!=typeof exports)t(exports,require("./constants/defaults"),require("./constants/classNames"));else{var n={};t(n,e.defaults,e.classNames),e.init=n}}(this,function(e,s,d){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=this,o=n.element=e,i=n.options=$.extend({},s.default,t);if(i.iframeMode)n.initIframe();else{n.window=window,n.body=$(document.body);var a=o.val()||o.html()||"",r=n.generateContentAreasWrapper(a);o.is("textarea")?(o.after(r),o.addClass(d.default.HIDDEN_ELEMENT)):o.empty().append(r),n.contentAreasWrapper=r}n.initSidebar(),n.initSnippetsModal(),n.initContentAreas(),n.body.hasClass(d.default.CLICKS_INITIALIZED)||n.initKEditorClicks();n.id=n.generateId(),KEditor.instances[n.id]=n,"function"==typeof i.onReady&&i.onReady.call(n)},s=t(s),d=t(d)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.closeModal=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=this.modal;this.modalTarget=null,this.modalAction=null,e.find(".keditor-modal-title").html(""),e.find(".keditor-snippets-wrapper .selected").removeClass("selected"),e.removeClass("showed")}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/snippetType","../utils/error","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/snippetType"),require("../utils/error"),require("../utils/log"));else{var n={};t(n,e.snippetType,e.error,e.log),e.initSnippetsModal=n}}(this,function(e,y,n,o){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var C=this,m=C.options,e=C.generateId("modal"),t="";t=m.explicitSnippetEnabled?'\n                    <div class="keditor-snippets-wrapper keditor-snippets-wrapper-container">\n                        <div class="keditor-snippets keditor-snippets-container"></div>\n                    </div>\n                    <div class="keditor-snippets-wrapper keditor-snippets-wrapper-component">\n                        <div class="keditor-snippets keditor-snippets-component"></div>\n                    </div>\n                ':'\n                    <div class="keditor-snippets-wrapper">\n                        <div class="keditor-snippets"></div>\n                    </div>\n                ';var v=C.modal=$('\n                <div class="keditor-ui keditor-modal" id="'.concat(e,'">\n                    <div class="keditor-modal-header">\n                        <button type="button" class="keditor-modal-close">&times;</button>\n                        <h4 class="keditor-modal-title"></h4>\n                    </div>\n                    <div class="keditor-modal-body">').concat(t,'</div>\n                    <div class="keditor-modal-footer">\n                        <button type="button" class="keditor-ui keditor-btn keditor-btn-default keditor-modal-close">Close</button>\n                        <button type="button" class="keditor-ui keditor-btn keditor-btn-primary keditor-modal-add">Add</button>\n                    </div>\n                </div>\n            '));if("string"==typeof m.snippetsUrl&&0<m.snippetsUrl.length){(0,o.default)('Getting snippets form "'.concat(m.snippetsUrl,'"...')),$.ajax({type:"get",dataType:"html",url:m.snippetsUrl,success:function(e){(0,o.default)("Success in getting snippets"),"function"==typeof m.onSnippetsLoaded&&(e=m.onSnippetsLoaded.call(C,e)||e),C.renderSnippets(e),m.snippetsFilterEnabled&&(m.explicitSnippetEnabled?(C.initSnippetsFilter(y.default.CONTAINER),C.initSnippetsFilter(y.default.COMPONENT)):C.initSnippetsFilter(y.default.ALL))},error:function(e){(0,o.default)("Error when getting snippets",e),"function"==typeof m.onSnippetsError&&m.onSnippetsError.call(C,e)}}),v.find(".keditor-modal-close").on("click",function(e){e.preventDefault(),C.closeModal()}),v.find(".keditor-modal-add").on("click",function(e){e.preventDefault();var t=v.find(".keditor-snippets-wrapper .selected");if(0!==t.length){var n,o,i=C.modalTarget.closest(".keditor-content-area"),a=t.attr("data-type"),r=v.find(t.attr("data-snippet")),s=r.html(),d=!1,l=!1,c=!1;if(m.explicitSnippetEnabled)switch(C.modalSnippetType){case y.default.COMPONENT:l=!0;break;case y.default.CONTAINER:d=!0}else if("container"===a)d=!0;else switch(C.modalSnippetType){case y.default.COMPONENT:l=!0;break;case y.default.ALL:C.modalTarget.is(".keditor-container-content-inner")?l=!0:c=!0}if(d&&(C.body.find(".keditor-container.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),n=$('\n                            <section class="keditor-ui keditor-container showed-keditor-toolbar">\n                                <section class="keditor-ui keditor-container-inner">'.concat(s,"</section>\n                            </section>\n                        ")),C.modalTarget.append(n),"function"==typeof m.onContainerSnippetAdded&&m.onContainerSnippetAdded.call(C,e,n,t,i),"function"==typeof m.onContentChanged&&m.onContentChanged.call(C,e,i),C.initContainer(i,n)),l){var f=C.getDataAttributes(r,null,!0);o=$('\n                            <section class="keditor-ui keditor-component" data-type="'.concat(a,'" ').concat(f.join(" "),'>\n                                <section class="keditor-ui keditor-component-content">').concat(s,"</section>\n                            </section>\n                        ")),C.modalTarget.append(o);var u=C.modalTarget.closest(".keditor-container");"function"==typeof m.onComponentSnippetAdded&&m.onComponentSnippetAdded.call(C,e,o,t,i),"function"==typeof m.onContentChanged&&m.onContentChanged.call(C,e,i),C.initComponent(i,u,o)}if(c){C.body.find(".keditor-container.showed-keditor-toolbar").removeClass("showed-keditor-toolbar");var p=C.getDataAttributes(r,null,!0);n=$('\n                            <section class="keditor-ui keditor-container showed-keditor-toolbar">\n                                <section class="keditor-ui keditor-container-inner">'.concat(m.containerForQuickAddComponent,"</section>\n                            </section>\n                        ")),o=$('\n                            <section class="keditor-ui keditor-component" data-type="'.concat(a,'" ').concat(p.join(" "),'>\n                                <section class="keditor-ui keditor-component-content">').concat(s,"</section>\n                            </section>\n                        ")),n.find('[data-type="container-content"]').eq(0).html(o),C.modalTarget.append(n),"function"==typeof m.onComponentSnippetAdded&&m.onComponentSnippetAdded.call(C,e,o,t,i),"function"==typeof m.onContentChanged&&m.onContentChanged.call(C,e,i),C.initContainer(i,n)}C.closeModal()}}),v.on("click",".keditor-snippet",function(e){e.preventDefault();var t=$(this);t.hasClass("selected")||(t.parent().find(".selected").removeClass("selected"),t.addClass("selected"))});v.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){v.hasClass("showed")||(v.css("display","none"),$(document.body).removeClass("opened-modal"))}),v.appendTo(document.body)}else(0,n.default)('"snippetsUrl" must be not null!')},y=t(y),n=t(n),o=t(o)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/snippetType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/snippetType"),require("../utils/log"));else{var n={};t(n,e.snippetType,e.log),e.openModal=n}}(this,function(e,a,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){(0,r.default)("openModal",e,t);var n=this.modal,o=this.options,i="";switch(t){case a.default.CONTAINER:i="Add container";break;case a.default.COMPONENT:i="Add component"}o.explicitSnippetEnabled?(n.find(".keditor-snippets-wrapper").css("display","none"),n.find(t===a.default.COMPONENT?".keditor-snippets-wrapper-component":".keditor-snippets-wrapper-container").css("display","block")):(n.find(".keditor-snippets-wrapper").css("display","block").find(".keditor-snippet[data-type=container]").css("display",t===a.default.COMPONENT?"none":"block"),i="Add content");n.find(".keditor-modal-title").html(i),this.modalTarget=e,this.modalSnippetType=t,n.css("display","block"),$(document.body).addClass("opened-modal"),setTimeout(function(){n.addClass("showed")},0)},a=t(a),r=t(r)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./utils/error"],t);else if("undefined"!=typeof exports)t(exports,require("./utils/error"));else{var n={};t(n,e.error),e.setContent=n}}(this,function(e,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=this.contentAreasWrapper;t?t.jquery||(t=n.find(t)):t=n.children(".keditor-content-area");0===t.length&&(0,o.default)("Content area does not exist!");t.html(e),this.initContentArea(t,!0)},o=(t=o)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.closeSidebar=n}}(this,function(e,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=this,t=e.options,n=e.sidebar,o=n.find(".keditor-sidebar-body").children(".active");if(0<o.length){if(o.is(".keditor-container-setting"))"function"==typeof t.containerSettingHideFunction&&t.containerSettingHideFunction.call(e,o,e);else{var i=o.attr("data-type"),a=KEditor.components[i];"function"==typeof a.hideSettingForm&&a.hideSettingForm.call(a,o,e)}o.removeClass("active")}e.setSettingComponent(null),e.setSettingContainer(null),n.removeClass("opened")},t=(n=t)&&n.__esModule?n:{default:n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/error","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/error"),require("../utils/log"));else{var n={};t(n,e.error,e.log),e.initSidebar=n}}(this,function(e,r,s){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this,e=t.options,n=t.generateId("sidebar"),o=t.sidebar=$('\n                <div class="keditor-ui keditor-sidebar" id="'.concat(n,'">\n                    <div class="keditor-ui keditor-sidebar-header">\n                        <span class="keditor-ui keditor-sidebar-title"></span>\n                        <a href="javascript:void(0);" class="keditor-ui keditor-sidebar-close">&times;</a>\n                    </div>\n                    <div class="keditor-ui keditor-sidebar-body"></div>\n                </div>\n            '));o.find(".keditor-sidebar-close").on("click",function(e){e.preventDefault(),t.closeSidebar()});var i=o.find(".keditor-sidebar-body");if(i.on("submit","form",function(e){return e.preventDefault(),!1}),!0===e.containerSettingEnabled)if("function"==typeof e.containerSettingInitFunction){var a=$('<div  class="keditor-ui keditor-setting-form keditor-container-setting"></div>');i.append(a),(0,s.default)("Initialize container setting panel"),e.containerSettingInitFunction.call(t,a,t)}else(0,r.default)('"containerSettingInitFunction" is not function!');o.appendTo(e.iframeMode?t.iframeWrapper:t.body)},r=t(r),s=t(s)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.openSidebar=n}}(this,function(e,p){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=this,n=t.options,o=t.sidebar,i=o.find(".keditor-sidebar-title"),a=o.find(".keditor-sidebar-body");if(a.children(".active").removeClass("active"),e.is(".keditor-component")){t.setSettingComponent(e),t.setSettingContainer(null);var r=t.getComponentType(e),s=KEditor.components[r];i.html(s.settingTitle);var d=a.find(".keditor-setting-".concat(r));if(0===d.length){var l=KEditor.components[r];if("function"==typeof l.initSettingForm){d=$('\n                            <div\n                                data-type="'.concat(r,'"\n                                class="keditor-ui keditor-setting-form keditor-setting-').concat(r,' clearfix active"\n                            >\n                            </div>\n                        '));var c=$("<span />").html("Loading...");a.append(d),d.append(c);var f=l.initSettingForm.call(l,d,t);$.when(f).done(function(){(0,p.default)('Initialized setting form for component type "'.concat(r,'"')),setTimeout(function(){c.remove(),"function"==typeof l.showSettingForm&&l.showSettingForm.call(l,d,e,t)},100)})}}else"function"==typeof s.showSettingForm&&s.showSettingForm.call(s,d,e,t),d.addClass("active")}else{t.setSettingContainer(e),t.setSettingComponent(null),i.html("Container Settings");var u=o.find(".keditor-container-setting");"function"==typeof n.containerSettingShowFunction&&n.containerSettingShowFunction.call(t,u,e,t),u.addClass("active")}o.addClass("opened")},p=(t=p)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/snippetType","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/snippetType"),require("../utils/log"));else{var n={};t(n,e.snippetType,e.log),e.initSnippetsFilter=n}}(this,function(e,p,C){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){(0,C.default)("initSnippetsFilter");var t,n,o=this,i=o.options,a=o.modal;switch(e){case p.default.ALL:t=o.snippetsCategories,n=".keditor-snippets-wrapper";break;case p.default.CONTAINER:t=o.snippetsContainerCategories,n=".keditor-snippets-wrapper-container";break;case p.default.COMPONENT:t=o.snippetsComponentCategories,n=".keditor-snippets-wrapper-component"}var r="";$.each(t,function(e,t){r+='<option value="'.concat(t,'">').concat(t,"</option>")});var s=a.find(n),d=s.find(".keditor-snippets").children(".keditor-snippet");s.prepend('\n                <div class="keditor-ui keditor-snippets-filter-wrapper">\n                    <select class="keditor-ui keditor-snippets-filter">\n                        <option value="" selected="selected">All</option>\n                        '.concat(r,'\n                    </select>\n                    <input type="text" class="keditor-ui keditor-snippets-search" value="" placeholder="Type to search..." />\n                </div>\n            ')),d.each(function(){var e=$(this),t=e.attr("data-keditor-categories")||"",n=t.toLowerCase();t=t.split(i.snippetsCategoriesSeparator),n=n.split(i.snippetsCategoriesSeparator),e.data("categories",t),e.data("categoriesFilter",n)});var l,c=s.find(".keditor-snippets-search"),f=s.find(".keditor-snippets-filter"),u=function(){var a=(f.val()||"").toLowerCase(),r=(c.val()||"").toLowerCase();d.filter(".selected").removeClass("selected"),a||r?((0,C.default)("Filtering snippets"),d.each(function(){var e=$(this),t=e.data("categoriesFilter"),n=t.join(";"),o=0;if(a&&-1===$.inArray(a,t)&&o++,r){var i=e.attr("title").toLowerCase();-1===i.indexOf(r)&&-1===n.indexOf(r)&&o++}e[0===o?"removeClass":"addClass"]("not-matched")})):((0,C.default)("Show all snippets"),d.removeClass("not-matched"))};f.on("change",function(){u()}),c.on("keydown",function(){clearTimeout(l),l=setTimeout(u,200)})},p=t(p),C=t(C)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.renderSnippets=n}}(this,function(e,t){"use strict";var n;function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){(0,t.default)("renderSnippets");var c=this,f=c.options,u="",p="",C="";c.snippetsCategories=[],c.snippetsContainerCategories=[],c.snippetsComponentCategories=[],$(e).filter("div").each(function(e){var t=$(this),n=c.generateId("snippet"),o=t.html().trim(),i=t.attr("data-preview"),a=t.attr("data-type"),r=t.attr("data-keditor-title"),s=t.attr("data-keditor-categories")||"",d='\n                    <section\n                        class="keditor-ui keditor-snippet"\n                        data-snippet="#'.concat(n,'"\n                        data-type="').concat(a,'"\n                        title="').concat(r,'"\n                        data-keditor-categories="').concat(s,'"\n                    >\n                        <span><span style="background-image: url(\'').concat(i,"')\"></span></span>\n                    </section>\n                ");s=s.split(f.snippetsCategoriesSeparator),"container"===a?(u+=d,c.snippetsContainerCategories=c.snippetsContainerCategories.concat(s)):-1!==a.indexOf("component")&&(p+=d,c.snippetsComponentCategories=c.snippetsComponentCategories.concat(s));var l=c.getDataAttributes(t,["data-preview","data-type","data-keditor-title","data-keditor-categories"],!0);C+='<script id="'.concat(n,'" type="text/html" ').concat(l.join(" "),">").concat(o,"<\/script>")}),c.snippetsContainerCategories=c.beautifyCategories(c.snippetsContainerCategories),c.snippetsComponentCategories=c.beautifyCategories(c.snippetsComponentCategories),c.snippetsCategories=c.beautifyCategories([].concat(o(c.snippetsContainerCategories),o(c.snippetsComponentCategories))),f.explicitSnippetEnabled?(c.modal.find(".keditor-snippets-container").html(u),c.modal.find(".keditor-snippets-component").html(p)):c.modal.find(".keditor-snippets").html(u+p);c.modal.find(".keditor-modal-body").append(C)},t=(n=t)&&n.__esModule?n:{default:n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.beautifyCategories=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n]||"";""!==o&&-1===$.inArray(o,t)&&t.push(o)}return t.sort()}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.error=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(e){throw new Error("[ KEditor ] ".concat(e))}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.generateContentAreasWrapper=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=this.options,n=$(t.contentAreasWrapper||"<div />");n.attr("class","keditor-ui keditor-content-area-wrapper"),n.attr("id")||n.attr("id",this.generateId("content-area-wrapper"));return n.html(e),n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.generateId=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=(new Date).getTime(),n=Math.round(9876543210*Math.random());return"keditor-".concat(e,"-").concat(t).concat(n)}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../constants/toolbarType"],t);else if("undefined"!=typeof exports)t(exports,require("../constants/toolbarType"));else{var n={};t(n,e.toolbarType),e.generateToolbar=n}}(this,function(e,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=this.options,o="";if(!n.explicitSnippetEnabled){switch(e){case i.default.CONTENT_AREA:"keditor-content-area-toolbar";case i.default.CONTAINER_CONTENT:case i.default.SUB_CONTAINER_CONTENT:return'\n                    <div class="keditor-ui '.concat("keditor-container-content-toolbar",'">\n                        <a href="javascript:void(0)" class="keditor-ui keditor-btn keditor-btn-default btn-add-content" title="Add content">').concat(n.btnAddContentText,"</a>\n                    </div>\n                ")}}switch(e){case i.default.CONTENT_AREA:return'\n                <div class="keditor-ui keditor-content-area-toolbar">\n                    <a href="javascript:void(0)" class="keditor-ui keditor-btn keditor-btn-default btn-add-container" title="Add container">'.concat(n.btnAddContainerText,"</a>\n                </div>\n            ");case i.default.CONTAINER:return!0===n.containerSettingEnabled&&(o='<a href="javascript:void(0);" class="keditor-ui btn-container-setting">'.concat(n.btnSettingContainerText,"</a>")),'\n                <div class="keditor-toolbar keditor-toolbar-container">\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-reposition">'.concat(n.btnMoveContainerText,"</a>\n                    ").concat(o,'\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-duplicate">').concat(n.btnDuplicateContainerText,'</a>\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-delete">').concat(n.btnDeleteContainerText,"</a>\n                </div>\n            ");case i.default.SUB_CONTAINER:return!0===n.containerSettingEnabled&&(o='<a href="javascript:void(0);" class="keditor-ui btn-container-setting">'.concat(n.btnSettingContainerText,"</a>")),'\n                <div class="keditor-toolbar keditor-toolbar-container keditor-toolbar-sub-container">\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-reposition">'.concat(n.btnMoveContainerText,"</a>\n                    ").concat(o,'\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-duplicate">').concat(n.btnDuplicateContainerText,'</a>\n                    <a href="javascript:void(0);" class="keditor-ui btn-container-delete">').concat(n.btnDeleteContainerText,"</a>\n                </div>\n            ");case i.default.CONTAINER_CONTENT:return'\n                <div class="keditor-ui keditor-container-content-toolbar keditor-btn-group">\n                    <a href="javascript:void(0)" class="keditor-ui keditor-btn keditor-btn-default btn-add-container" title="Add sub-container">'.concat(n.btnAddSubContainerText,'</a>\n                    <a href="javascript:void(0)" class="keditor-ui keditor-btn keditor-btn-default btn-add-component" title="Add component">').concat(n.btnAddComponentText,"</a>\n                </div>\n            ");case i.default.SUB_CONTAINER_CONTENT:return'\n                <div class="keditor-ui keditor-container-content-toolbar">\n                    <a href="javascript:void(0)" class="keditor-ui keditor-btn keditor-btn-default btn-add-component" title="Add component">'.concat(n.btnAddComponentText,"</a>\n                </div>\n            ");case i.default.COMPONENT:return t&&(o='<a href="javascript:void(0);" class="keditor-ui btn-component-setting">'.concat(n.btnSettingComponentText,"</a>")),'\n                <div class="keditor-toolbar keditor-toolbar-component">\n                    <a href="javascript:void(0);" class="keditor-ui btn-component-reposition">'.concat(n.btnMoveComponentText,"</a>\n                    ").concat(o,'\n                    <a href="javascript:void(0);" class="keditor-ui btn-component-duplicate">').concat(n.btnDuplicateComponentText,'</a>\n                    <a href="javascript:void(0);" class="keditor-ui btn-component-delete">').concat(n.btnDeleteComponentText,"</a>\n                </div>\n            ")}},i=(t=i)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.getClickedElement=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=$(e.target),o=n.closest(t);return n.is(t)?n:0<o.length?o:null}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.getDataAttributes=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n,o){var i=o?[]:{};n||(n=[]);return $.each(e.get(0).attributes,function(e,t){0===t.name.indexOf("data-")&&-1===$.inArray(t.name,n)&&(o?i.push("".concat(t.name,'="').concat(t.value,'"')):i[t.name]=t.value)}),i}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","../utils/log"],t);else if("undefined"!=typeof exports)t(exports,require("../utils/log"));else{var n={};t(n,e.log),e.initKEditorClicks=n}}(this,function(e,c){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){(0,c.default)("initKEditorClicks");var s=this,d=s.options,l=s.body;l.on("click",function(e){var t=s.getClickedElement(e,".keditor-sidebar"),n=s.getClickedElement(e,".keditor-modal"),o=s.getClickedElement(e,".keditor-container");if(o){if(!o.hasClass("showed-keditor-toolbar")){l.find(".keditor-container.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),l.find(".keditor-component.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),o.addClass("showed-keditor-toolbar");var i=o.parent();"function"==typeof d.onContainerSelected&&d.onContainerSelected.call(s,e,o,i)}}else t||n||(l.find(".keditor-container.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),l.find(".keditor-component.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"));var a=s.getClickedElement(e,".keditor-component");if(a){if(!a.hasClass("showed-keditor-toolbar")){l.find(".keditor-component.showed-keditor-toolbar").removeClass("showed-keditor-toolbar"),a.addClass("showed-keditor-toolbar");var r=a.parent();"function"==typeof d.onComponentSelected&&d.onComponentSelected.call(s,e,a,r)}}else t||l.find(".keditor-component.showed-keditor-toolbar").removeClass("showed-keditor-toolbar")}),l.on("click",".btn-container-setting",function(e){e.preventDefault();var t=$(this);(0,c.default)("Click on .btn-container-setting",t);var n=t.closest(".keditor-container");l.hasClass("opened-keditor-setting")&&l.hasClass("opened-keditor-sidebar")&&n.is(s.settingContainer)?s.closeSidebar():s.openSidebar(n)}),l.on("click",".btn-container-duplicate",function(e){e.preventDefault();var t=$(this);(0,c.default)("Click on .btn-container-duplicate",t);var n=t.closest(".keditor-container"),o=n.parent(),i=$(s.getContainerContent(n,t.parent().hasClass("keditor-toolbar-sub-container")));n.after(i),s.convertToContainer(o,i),(0,c.default)("Container is duplicated"),"function"==typeof d.onContainerDuplicated&&d.onContainerDuplicated.call(s,n,i,o),"function"==typeof d.onContentChanged&&d.onContentChanged.call(s,e,o)}),l.on("click",".btn-container-delete",function(e){e.preventDefault();var t=$(this);if((0,c.default)("Click on .btn-container-delete",t),confirm(d.confirmDeleteContainerText)){var n=t.closest(".keditor-container"),o=n.find(".keditor-component"),i=n.parent();"function"==typeof d.onBeforeContainerDeleted&&d.onBeforeContainerDeleted.call(s,e,n,i);var a=s.settingComponent;if(a){var r=a.closest(".keditor-container");r.is(n)&&((0,c.default)("Deleting container is container of setting container. Close setting panel for this setting component",a),s.closeSidebar())}else n.is(s.settingContainer)&&((0,c.default)("Deleting container is setting container. Close setting panel for this container",n),s.closeSidebar());0<o.length&&o.each(function(){s.deleteComponent($(this))}),n.remove(),"function"==typeof d.onContainerDeleted&&d.onContainerDeleted.call(s,e,n,i),"function"==typeof d.onContentChanged&&d.onContentChanged.call(s,e,i)}}),l.on("click",".btn-component-setting",function(e){e.preventDefault();var t=$(this);(0,c.default)("Click on .btn-component-setting",t);var n=t.closest(".keditor-component");l.hasClass("opened-keditor-setting")&&l.hasClass("opened-keditor-sidebar")&&n.is(s.settingComponent())?s.closeSidebar():s.openSidebar(n)}),l.on("click",".btn-component-duplicate",function(e){e.preventDefault();var t=$(this);(0,c.default)("Click on .btn-component-duplicate",t);var n=t.closest(".keditor-component"),o=n.closest(".keditor-container"),i=o.parent(),a=$(s.getComponentContent(n));n.after(a),s.convertToComponent(i,o,a),(0,c.default)("Component is duplicated"),"function"==typeof d.onComponentDuplicated&&d.onComponentDuplicated.call(s,n,a,i),"function"==typeof d.onContainerChanged&&d.onContainerChanged.call(s,e,o,i),"function"==typeof d.onContentChanged&&d.onContentChanged.call(s,e,i)}),l.on("click",".btn-component-delete",function(e){e.preventDefault();var t=$(this);if((0,c.default)("Click on .btn-component-delete",t),confirm(d.confirmDeleteComponentText)){var n=t.closest(".keditor-component"),o=n.closest(".keditor-container"),i=n.closest(".keditor-content-area");"function"==typeof d.onBeforeComponentDeleted&&d.onBeforeComponentDeleted.call(s,e,n,i),n.is(s.settingComponent)&&s.closeSidebar(),s.deleteComponent(n),"function"==typeof d.onComponentDeleted&&d.onComponentDeleted.call(s,e,n,i),"function"==typeof d.onContainerChanged&&d.onContainerChanged.call(s,e,o,i),"function"==typeof d.onContentChanged&&d.onContentChanged.call(s,e,i)}}),l.addClass("keditor-clicks-initialized")},c=(t=c)&&t.__esModule?t:{default:t}}),function(e,t){if("function"==typeof define&&define.amd)define(["jquery","./constants/defaults","./utils/log","./utils/error","./utils/generateId","./utils/generateToolbar","./utils/generateContentAreasWrapper","./utils/beautifyCategories","./utils/getDataAttributes","./utils/getClickedElement","./utils/initKEditorClicks","./iframe/initIframe","./iframe/initIframeCover","./sidebar/initSidebar","./sidebar/openSidebar","./sidebar/closeSidebar","./snippet/renderSnippets","./snippet/initSnippetsFilter","./modal/initSnippetsModal","./modal/openModal","./modal/closeModal","./contentArea/initContentAreas","./contentArea/initContentArea","./container/convertToContainer","./container/initContainer","./container/initContainerContent","./container/getContainerContent","./component/getComponentType","./component/convertToComponent","./component/initComponent","./component/initDynamicContent","./component/deleteComponent","./component/getComponentContent","./init","./destroy","./getContent","./setContent"],t);else if("undefined"!=typeof exports)t(require("jquery"),require("./constants/defaults"),require("./utils/log"),require("./utils/error"),require("./utils/generateId"),require("./utils/generateToolbar"),require("./utils/generateContentAreasWrapper"),require("./utils/beautifyCategories"),require("./utils/getDataAttributes"),require("./utils/getClickedElement"),require("./utils/initKEditorClicks"),require("./iframe/initIframe"),require("./iframe/initIframeCover"),require("./sidebar/initSidebar"),require("./sidebar/openSidebar"),require("./sidebar/closeSidebar"),require("./snippet/renderSnippets"),require("./snippet/initSnippetsFilter"),require("./modal/initSnippetsModal"),require("./modal/openModal"),require("./modal/closeModal"),require("./contentArea/initContentAreas"),require("./contentArea/initContentArea"),require("./container/convertToContainer"),require("./container/initContainer"),require("./container/initContainerContent"),require("./container/getContainerContent"),require("./component/getComponentType"),require("./component/convertToComponent"),require("./component/initComponent"),require("./component/initDynamicContent"),require("./component/deleteComponent"),require("./component/getComponentContent"),require("./init"),require("./destroy"),require("./getContent"),require("./setContent"));else{t(e.jQuery,e.defaults,e.log,e.error,e.generateId,e.generateToolbar,e.generateContentAreasWrapper,e.beautifyCategories,e.getDataAttributes,e.getClickedElement,e.initKEditorClicks,e.initIframe,e.initIframeCover,e.initSidebar,e.openSidebar,e.closeSidebar,e.renderSnippets,e.initSnippetsFilter,e.initSnippetsModal,e.openModal,e.closeModal,e.initContentAreas,e.initContentArea,e.convertToContainer,e.initContainer,e.initContainerContent,e.getContainerContent,e.getComponentType,e.convertToComponent,e.initComponent,e.initDynamicContent,e.deleteComponent,e.getComponentContent,e.init,e.destroy,e.getContent,e.setContent),e.index={}}}(this,function(o,e,t,i,a,r,s,d,l,c,f,u,p,C,m,v,y,h,k,g,b,T,x,_,S,A,E,M,w,N,O,I,D,q,j,$,P){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o=n(o),e=n(e),t=n(t),i=n(i),a=n(a),r=n(r),s=n(s),d=n(d),l=n(l),c=n(c),f=n(f),u=n(u),p=n(p),C=n(C),m=n(m),v=n(v),y=n(y),h=n(h),k=n(k),g=n(g),b=n(b),T=n(T),x=n(x),_=n(_),S=n(S),A=n(A),E=n(E),M=n(M),w=n(w),N=n(N),O=n(O),I=n(I),D=n(D),q=n(q),j=n(j),$=n($),P=n(P),o.default.fn.sortable||(0,i.default)("$.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.");var z=function(){function n(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),q.default.apply(this,[e,t])}return F(n,null,[{key:"log",value:function(){t.default.apply(void 0,arguments)}},{key:"error",value:function(){i.default.apply(void 0,arguments)}},{key:"init",value:function(e,t){return new n(e,t)}}]),F(n,[{key:"generateId",value:function(e){return a.default.apply(this,[e])}},{key:"generateContentAreasWrapper",value:function(e){return s.default.apply(this,[e])}},{key:"generateToolbar",value:function(e,t){return r.default.apply(this,[e,t])}},{key:"beautifyCategories",value:function(e){return d.default.apply(this,[e])}},{key:"setSettingContainer",value:function(e){this.settingContainer=e}},{key:"getSettingContainer",value:function(){return this.settingContainer}},{key:"setSettingComponent",value:function(e){this.settingComponent=e}},{key:"getSettingComponent",value:function(){return this.settingComponent}},{key:"getDataAttributes",value:function(e,t,n){return l.default.apply(this,[e,t,n])}},{key:"getComponentType",value:function(e){return M.default.apply(this,[e])}},{key:"getClickedElement",value:function(e,t){return c.default.apply(this,[e,t])}},{key:"initIframe",value:function(){return u.default.apply(this)}},{key:"initIframeCover",value:function(e,t){return p.default.apply(this,[e,t])}},{key:"initKEditorClicks",value:function(){return f.default.apply(this)}},{key:"initSidebar",value:function(){return C.default.apply(this)}},{key:"openSidebar",value:function(e){return m.default.apply(this,[e])}},{key:"closeSidebar",value:function(){return v.default.apply(this)}},{key:"showSettingPanel",value:function(e){this.openSidebar(e)}},{key:"hideSettingPanel",value:function(){this.closeSidebar()}},{key:"initSnippetsModal",value:function(){return k.default.apply(this)}},{key:"renderSnippets",value:function(e){return y.default.apply(this,[e])}},{key:"initSnippetsFilter",value:function(e){return h.default.apply(this,[e])}},{key:"openModal",value:function(e,t){return g.default.apply(this,[e,t])}},{key:"closeModal",value:function(){return b.default.apply(this)}},{key:"initContentAreas",value:function(){return T.default.apply(this)}},{key:"initContentArea",value:function(e,t){return x.default.apply(this,[e,t])}},{key:"convertToContainer",value:function(e,t){return _.default.apply(this,[e,t])}},{key:"initContainer",value:function(e,t){return S.default.apply(this,[e,t])}},{key:"initContainerContent",value:function(e,t,n,o){return A.default.apply(this,[e,t,n,o])}},{key:"convertToComponent",value:function(e,t,n,o){return w.default.apply(this,[e,t,n,o])}},{key:"initComponent",value:function(e,t,n){return N.default.apply(this,[e,t,n])}},{key:"initDynamicContent",value:function(e){return O.default.apply(this,[e])}},{key:"deleteComponent",value:function(e){return I.default.apply(this,[e])}},{key:"getComponentContent",value:function(e){return D.default.apply(this,[e])}},{key:"getContainerContent",value:function(e,t){return E.default.apply(this,[e,t])}},{key:"getContent",value:function(e){return $.default.apply(this,[e])}},{key:"setContent",value:function(e,t){return P.default.apply(this,[e,t])}},{key:"destroy",value:function(){return j.default.apply(this)}}]),n}();L(z,"DEFAULTS",e.default),L(z,"debug",!1),L(z,"version","@{version}"),L(z,"instances",{}),L(z,"components",{blank:{settingEnabled:!1}}),o.default.fn.keditor=function(e){var t=(0,o.default)(this),n=t.data("keditor");return"string"!=typeof e?(n||(n=z.init(t,e),t.data("keditor",n)),n):n&&n[e]&&"function"==typeof n[e]?n[e].apply(n,Array.prototype.slice.call(arguments,1)):void 0},window.KEditor=o.default.keditor=o.default.fn.keditor.constructor=z});
//# sourceMappingURL=keditor.min.js.map
